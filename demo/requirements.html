<!DOCTYPE html>
<html>
<head>
  <title>Requirements Format - TransferWise</title>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <script src="lib/jquery.min.js"></script>
  <script src="lib/angular.min.js"></script>
  <script src="lib/bootstrap.min.js"></script>
  <script src="lib/styleguide-components.js"></script>

  <script src="js/requirements.js"></script>
  <script>
  angular.module('my-app', ['tw.styleguide-components', 'tw.styleguide.docs']);
  </script>

  <link type="text/css" rel="stylesheet" href="lib/bootstrap.css" />
  <!--<link type="text/css" rel="stylesheet"
    href="http://localhost:9001/dist/css/bootstrap.min.css" />-->
  <link type="text/css" rel="stylesheet" href="lib/currency-flags.css" />
  <link type="text/css" rel="stylesheet" href="css/examples.css" />

  <style>
  pre {
    font-size: 11px;
    line-height: 16px;
  }
  </style>

</head>
<body ng-app="my-app" class="bg-default">
  <div class="container" ng-controller="PageController as $ctrl">
    <div class="panel">
      <div class="panel-heading">
        <h1 class="panel-title h2">Requirements</h1>
      </div>
      <div class="panel-body">
        <p>
          Our requirements format allows you to build rich forms, which are 100%
          configurable using a JSON structure.  This allows us to control the
          business logic for our complex, and evolving domain objects, from
          the API, rather than in our clients.</p>

        <h2 class="page-header">Fields</h2>
        <div class="row">
          <div class="col-md-6">
            <p>The field is the basic building block of our forms, it accepts
              a set of options to configure it's presentation, and a model
              to which it will bind a value.</p>
            <p>The field controls labelling, validation and help text, alongside
              the rendering of the form control itself.</p>
          </div>
          <div class="col-md-6">
            <h5>Component API</h5>
<pre>
&lt;tw-field
  field="{...}"&gt;
  model="$ctrl.model"
  locale="'en-GB'"
  on-focus="focusHandler()"
  on-blur="blurHandler()"
  on-change="changeHandler(newValue, oldValue)"&gt;
&lt;/tw-field&gt;
</pre>
          </div>
        </div>

        <h4 id="types" class="page-header">
          Basic types
          <a href="#types" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <field-docs
          field="$ctrl.stringBasic"
          model="$ctrl.basicTypesModel.stringProperty">
        </field-docs>
        <field-docs
          field="$ctrl.numberBasic"
          model="$ctrl.basicTypesModel.numberProperty">
        </field-docs>
        <field-docs
          field="$ctrl.booleanBasic"
          model="$ctrl.basicTypesModel.booleanProperty">
        </field-docs>

        <h4 id="formats" class="page-header">
          Formats
          <a href="#formats" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <p class="text-max-width">
          Beyond the basic types, formats can be used to indicate other types
          of controls are required
        </p>
        <field-docs
          field="$ctrl.dateBasic"
          model="$ctrl.basicFormatsModel.dateProperty">
        </field-docs>
        <field-docs
          field="$ctrl.passwordBasic"
          model="$ctrl.basicFormatsModel.passwordProperty">
        </field-docs>
        <field-docs
          field="$ctrl.uploadBasic"
          model="$ctrl.basicFormatsModel.base64urlProperty">
        </field-docs>

        <h4 id="selections" class="page-header">
          Selections
          <a href="#selections" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <p class="text-max-width">
          Often we want the user to choose from a set of values.  By passing an
          array of <code>values</code> the field will render as a radio selection
          (3 or less options), or a select box (4 or more options).  To force
          the display of one or the other, pass <code>control: "radio"</code> or
          <code>control: "select"</code>.
        </p>
        <field-docs
          field="$ctrl.selectBasic"
          model="$ctrl.selectionsModel.selectProperty">
        </field-docs>
        <field-docs
          field="$ctrl.radioBasic"
          model="$ctrl.selectionsModel.radioProperty">
        </field-docs>

        <h5>Loading values asynchronously</h5>
        <p class="text-max-width">
          Sometimes the list of values is excessively long, or dependent on
          some other data in the model.  In these cases you can load these
          values asynchronously.</p>
        <field-docs
          field="$ctrl.valuesAsync"
          model="$ctrl.valuesAsyncModel">
        </field-docs>

        <h4 id="validation" class="page-header">
          Validation
          <a href="#validation" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <field-docs
          field="$ctrl.stringValidation"
          model="$ctrl.validationModel.stringProperty">
        </field-docs>
        <field-docs
          field="$ctrl.numberValidation"
          model="$ctrl.validationModel.numberProperty">
        </field-docs>
        <field-docs
          field="$ctrl.dateValidation"
          model="$ctrl.validationModel.dateProperty">
        </field-docs>

        <!-- <h5>Async validation</h5> -->

        <h4 id="custom-errors" class="page-header">
          Custom errors
          <a href="#custom-errors" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <p class="text-max-width">
          When we want to render a custom error, or render an error on page load,
          we can pass in an additional error message that will be immediately
          displayed.  When the value of the field changes the error messages
          (and state) will be removed as we fall back to regular validation.
        </p>
        <field-docs
          field="$ctrl.customErrors"
          model="$ctrl.customErrorsModel"
          error-message="$ctrl.customErrorsMessage">
        </field-docs>
        <field-docs
          field="$ctrl.customWarning"
          model="$ctrl.customErrorsModel"
          warning-message="$ctrl.customWarningMessage">
        </field-docs>

        <h4 id="help-information" class="page-header">
          Help information
          <a href="#help-information" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <p class="text-max-width">
          We have a number of ways to show helpful information, this information
          appears when the control is focused to draw attention.
        </p>
        <field-docs
          field="$ctrl.helpText"
          model="$ctrl.helpModel.text">
        </field-docs>
        <field-docs
          field="$ctrl.helpList"
          model="$ctrl.helpModel.list">
        </field-docs>
        <field-docs
          field="$ctrl.helpImage"
          model="$ctrl.helpModel.image">
        </field-docs>

        <h4 id="presentation-options" class="page-header">
          Presentation options
          <a href="#presentation-options" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <p class="text-max-width">
          Some fields have additional presentation options, as seen below.
        </p>
        <field-docs
          field="$ctrl.displayFormat"
          model="$ctrl.presentationModel.displayFormat">
        </field-docs>
        <field-docs
          field="$ctrl.uploadComponent"
          model="$ctrl.presentationModel.uploadOptions">
        </field-docs>
        <field-docs
          field="$ctrl.disabledControl"
          model="$ctrl.presentationModel.disabledControl">
        </field-docs>

        <h4 id="field-events" class="page-header">
          Events
          <a href="#field-events" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <field-docs
          field="$ctrl.stringBasic"
          model="$ctrl.eventsModel"
          on-focus="$ctrl.log('focus')"
          on-blur="$ctrl.log('blur')"
          on-change="$ctrl.log('change')">
        </field-docs>

        <h2 id="fieldsets" class="page-header">
          Fieldsets
          <a href="#fieldsets" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h2>
        <div class="row">
          <div class="col-md-6">
            <p>Fieldsets represent a collection of fields.  A fieldset can
              optionally include a title and/or a description.</p>
            <p>Fieldsets provide a 2-way bound model that is updated as the user
              interacts.  There is also a 2-way bound 'is-valid' property, that
              can be useful for enabling/disabling submit buttons.</p>
          </div>
          <div class="col-md-6">
            <h5>Component API</h5>
<pre>
&lt;tw-fieldset
  title="<span ng-non-bindable>{{ fieldset.title }}</span>"
  description="<span ng-non-bindable>{{ fieldset.description }}</span>"
  fields="fieldset.fields"&gt;
  locale="en-GB"
  model="{...}"
  is-valid="..."
  on-field-focus="focusHandler(field)"
  on-field-blur="blurHandler(field)"
  on-field-change="changeHandler(field)"&gt;
&lt;/tw-fieldset&gt;
</pre>
          </div>
        </div>

        <h4 id="fieldset-basic" class="page-header">
          Basic example
          <a href="#fieldset-basic" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetBasic"
          model="$ctrl.fieldsetBasicModel">
        </fieldset-docs>

        <h4 id="fieldset-title" class="page-header">
          Title &amp; description
          <a href="#fieldset-title" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetOptions"
          model="$ctrl.fieldsetOptionsModel">
        </fieldset-docs>

        <h4 id="fieldset-events" class="page-header">
          Events
          <a href="#fieldset-events" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetBasic"
          model="$ctrl.fieldsetBasicModel"
          on-field-focus="$ctrl.log(field)"
          on-field-blur="$ctrl.log(field)"
          on-field-change="$ctrl.log(field)">
        </fieldset-docs>

        <h4 id="fieldset-layout" class="page-header">
          Layout
          <a href="#fieldset-layout" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetLayout"
          model="$ctrl.fieldsetLayoutModel">
        </fieldset-docs>

      </div>
    </div>
  </div>
</body>
</html>
