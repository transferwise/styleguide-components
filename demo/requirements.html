<!DOCTYPE html>
<html>
<head>
  <title>Requirements Format - TransferWise</title>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <script src="lib/jquery.min.js"></script>
  <script src="lib/angular.min.js"></script>
  <script src="lib/bootstrap.min.js"></script>
  <script src="lib/styleguide-components.js"></script>

  <script src="js/requirements.js"></script>
  <script>
  angular.module('my-app', ['tw.styleguide-components', 'tw.styleguide.docs']);
  </script>

  <link type="text/css" rel="stylesheet" href="lib/bootstrap.css" />
  <!--<link type="text/css" rel="stylesheet"
    href="http://localhost:9001/dist/css/bootstrap.min.css" />-->
  <link type="text/css" rel="stylesheet" href="lib/currency-flags.css" />
  <link type="text/css" rel="stylesheet" href="css/examples.css" />

  <style>
  pre {
    font-size: 11px;
    line-height: 16px;
  }
  </style>

</head>
<body ng-app="my-app" class="bg-default">
  <div class="container" ng-controller="PageController as $ctrl">
    <div class="panel">
      <div class="panel-heading">
        <h1 class="panel-title h2">Requirements</h1>
      </div>
      <div class="panel-body">
        <p>
          Our requirements format allows you to build rich forms, which are 100%
          configurable using a JSON structure.  This allows us to control the
          business logic for our complex, and evolving domain objects, from
          the API, rather than in our clients.</p>

        <h2 class="page-header">Fields</h2>
        <div class="row">
          <div class="col-md-6">
            <p>The field is the basic building block of our forms, it accepts
              a set of options to configure it's presentation, and a model
              to which it will bind a value.</p>
            <p>The field controls labelling, validation and help text, alongside
              the rendering of the form control itself.</p>
          </div>
          <div class="col-md-6">
            <h5>Component API</h5>
<pre>
&lt;tw-field
  name="inputName"
  field="{...}"&gt;
  model="$ctrl.model"
  locale="'en-GB'"
  on-focus="focusHandler()"
  on-blur="blurHandler()"
  on-change="changeHandler(value)"&gt;
&lt;/tw-field&gt;
</pre>
          </div>
        </div>

        <h4 id="types" class="page-header">
          Basic types
          <a href="#types" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <field-docs
          name="stringProperty"
          field="$ctrl.stringBasic"
          model="$ctrl.basicTypesModel.stringProperty">
        </field-docs>
        <field-docs
          name="numberProperty"
          field="$ctrl.numberBasic"
          model="$ctrl.basicTypesModel.numberProperty">
        </field-docs>
        <field-docs
          name="booleanProperty"
          field="$ctrl.booleanBasic"
          model="$ctrl.basicTypesModel.booleanProperty">
        </field-docs>

        <h4 id="formats" class="page-header">
          Formats
          <a href="#formats" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              Beyond the basic types, formats can be used to indicate other types
              of controls are required.  Or to give hints about what type of input
              is expected.
            </p>
            <p>
              String formats may be used to choose which keyboard type to render
              on mobile devices e.g. <code>format: number</code> or
              <code>format: katakana</code>.
            </p>
          </div>
        </div>
        <field-docs
          name="dateProperty"
          field="$ctrl.dateBasic"
          model="$ctrl.basicFormatsModel.dateProperty">
        </field-docs>
        <field-docs
          name="phoneProperty"
          field="$ctrl.phoneBasic"
          model="$ctrl.basicFormatsModel.phoneProperty">
        </field-docs>
        <field-docs
          name="base64urlProperty"
          field="$ctrl.uploadBasic"
          model="$ctrl.basicFormatsModel.base64urlProperty">
        </field-docs>

        <h4 id="selections" class="page-header">
          Selections
          <a href="#selections" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              Often we want the user to choose from a set of values.  By passing an
              array of <code>values</code> the field will render as a radio selection
              (3 or less options), or a select box (4 or more options).  To force
              the display of one or the other, pass <code>control: "radio"</code> or
              <code>control: "select"</code>.
            </p>
          </div>
        </div>
        <field-docs
          name="selectProperty"
          field="$ctrl.selectBasic"
          model="$ctrl.selectionsModel.selectProperty">
        </field-docs>
        <field-docs
          name="radioProperty"
          field="$ctrl.radioBasic"
          model="$ctrl.selectionsModel.radioProperty">
        </field-docs>

        <h4 id="control-type"  class="page-header">
          Forcing control type
          <a href="#selections" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              To force display of an alternative control, we can supply a 'control'
              type. For example, a enumerated value with only two options would
              normally display as radio buttons, but we can force it to show as
              a select, using <code>control: "select"</code>.
            </p>
          </div>
          <div class="col-md-6">
            <p>A password is of string type, with no specific format, we can
              render a password control using <code>control: "password"</code>.
            </p>
          </div>
        </div>
        <field-docs
          name="selectProperty"
          field="$ctrl.selectOverride"
          model="$ctrl.override.select">
        </field-docs>
        <field-docs
          name="passwordProperty"
          field="$ctrl.passwordOverride"
          model="$ctrl.override.password">
        </field-docs>
        <field-docs
          name="telephoneProperty"
          field="$ctrl.telephoneOverride"
          model="$ctrl.override.telephone">
        </field-docs>

        <h5>Loading values asynchronously</h5>
        <div class="row">
          <div class="col-md-6">
            <p>
              Sometimes the list of values is excessively long, or dependent on
              some other data in the model.  In these cases you can load these
              values asynchronously.
            </p>
          </div>
        </div>
        <field-docs
          name="valuesAsyncModel"
          field="$ctrl.valuesAsync"
          model="$ctrl.valuesAsyncModel">
        </field-docs>

        <h4 id="validation" class="page-header">
          Validation
          <a href="#validation" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <field-docs
          name="stringProperty"
          field="$ctrl.stringValidation"
          model="$ctrl.validationModel.stringProperty"
          on-change="$ctrl.log(value)">
        </field-docs>
        <field-docs
          name="numberProperty"
          field="$ctrl.numberValidation"
          model="$ctrl.validationModel.numberProperty"
          on-change="$ctrl.log(value)">
        </field-docs>
        <field-docs
          name="dateProperty"
          field="$ctrl.dateValidation"
          model="$ctrl.validationModel.dateProperty"
          on-change="$ctrl.log(value)">
        </field-docs>

        <!-- <h5>Async validation</h5> -->

        <h4 id="custom-errors" class="page-header">
          Custom errors
          <a href="#custom-errors" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              When we want to render a custom error, or render an error on page load,
              we can pass in an additional error message that will be immediately
              displayed.  When the value of the field changes the error messages
              (and state) will be removed as we fall back to regular validation.
            </p>
          </div>
          <div class="col-md-6">
            <p>
              We can also supply warning messages, it is up to the consumer to
              show/hide these messages as the value evolves.  Warning messages will
              be superceded by errors if they both exist at the same time.
            </p>
          </div>
        </div>
        <field-docs
          name="customErrorsMessage"
          field="$ctrl.customErrors"
          model="$ctrl.customErrorsModel"
          error-message="$ctrl.customErrorsMessage">
        </field-docs>
        <field-docs
          name="customWarningMessage"
          field="$ctrl.customWarning"
          model="$ctrl.customErrorsModel"
          warning-message="$ctrl.customWarningMessage">
        </field-docs>

        <h4 id="help-information" class="page-header">
          Help information
          <a href="#help-information" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              We have a number of ways to show helpful information, this information
              appears when the control is focused to draw attention.
            </p>
          </div>
        </div>
        <field-docs
          name="text"
          field="$ctrl.helpText"
          model="$ctrl.helpModel.text">
        </field-docs>
        <field-docs
          name="list"
          field="$ctrl.helpList"
          model="$ctrl.helpModel.list">
        </field-docs>
        <field-docs
          name="image"
          field="$ctrl.helpImage"
          model="$ctrl.helpModel.image">
        </field-docs>

        <h4 id="presentation-options" class="page-header">
          Presentation options
          <a href="#presentation-options" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              Some fields have additional presentation options.
            </p>
          </div>
        </div>
        <field-docs
          name="displayFormat"
          field="$ctrl.displayFormat"
          model="$ctrl.presentationModel.displayFormat">
        </field-docs>
        <field-docs
          name="uploadOptions"
          field="$ctrl.uploadComponent"
          model="$ctrl.presentationModel.uploadOptions">
        </field-docs>

        <h4 id="field-states" class="page-header">
          Field states
          <a href="#field-states" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <div class="row">
          <div class="col-md-6">
            <p>
              Fields can be disabled or hidden from view.
            </p>
          </div>
        </div>
        <field-docs
          name="disabledControl"
          field="$ctrl.disabledControl"
          model="$ctrl.presentationModel.disabledControl">
        </field-docs>
        <field-docs
          name="hiddenControl"
          field="$ctrl.hiddenControl"
          model="$ctrl.presentationModel.hiddenControl">
        </field-docs>

        <h4 id="field-events" class="page-header">
          Events
          <a href="#field-events" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <field-docs
          name="eventsModel"
          field="$ctrl.stringBasic"
          model="$ctrl.eventsModel"
          on-focus="$ctrl.log('focus')"
          on-blur="$ctrl.log('blur')"
          on-change="$ctrl.log(value)">
        </field-docs>

        <h2 id="fieldsets" class="page-header">
          Fieldsets
          <a href="#fieldsets" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h2>
        <div class="row">
          <div class="col-md-6">
            <p>Fieldsets represent a collection of fields.  A fieldset can
              optionally include a title and/or a description.</p>
            <p>Fieldsets provide a 2-way bound model that is updated as the user
              interacts.  There is also a 2-way bound 'is-valid' property, that
              can be useful for enabling/disabling submit buttons.</p>
          </div>
          <div class="col-md-6">
            <h5>Component API</h5>
<pre>
&lt;tw-fieldset
  title="<span ng-non-bindable>{{ fieldset.title }}</span>"
  description="<span ng-non-bindable>{{ fieldset.description }}</span>"
  fields="fieldset.fields"&gt;
  locale="en-GB"
  model="{...}"
  is-valid="..."
  on-model-change="modelHandler(model)"
  on-field-focus="focusHandler(key, field)"
  on-field-blur="blurHandler(key, field)"
  on-field-change="changeHandler(value, key, field)"&gt;
&lt;/tw-fieldset&gt;
</pre>
          </div>
        </div>

        <h4 id="fieldset-basic" class="page-header">
          Basic example
          <a href="#fieldset-basic" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetBasic"
          model="$ctrl.fieldsetBasicModel">
        </fieldset-docs>

        <h4 id="fieldset-title" class="page-header">
          Title &amp; description
          <a href="#fieldset-title" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetOptions"
          model="$ctrl.fieldsetOptionsModel">
        </fieldset-docs>

        <h4 id="fieldset-events" class="page-header">
          Events
          <a href="#fieldset-events" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetBasic"
          model="$ctrl.fieldsetBasicModel"
          on-model-change="$ctrl.log(model)"
          on-field-focus="$ctrl.log('focus: ' + key)"
          on-field-blur="$ctrl.log('blur: ' + key)"
          on-field-change="$ctrl.onFieldChange(value, key, field)">
        </fieldset-docs>

        <h4 id="fieldset-layout" class="page-header">
          Layout
          <a href="#fieldset-layout" class="pull-xs-right">
            <span class="glyphicon glyphicon-link"></span>
          </a>
        </h4>
        <fieldset-docs
          requirements="$ctrl.fieldsetLayout"
          model="$ctrl.fieldsetLayoutModel">
        </fieldset-docs>

      </div>
    </div>
  </div>
</body>
</html>
