!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=207)}([function(e,t){e.exports=angular},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(30));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.services.dom",[]).service("TwDomService",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(31)),a=s(n(32)),l=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.focusable",[l.default]).directive("twFocusable",i.default).directive("formControl",a.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(95));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.services.date",[]).service("TwDateService",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(36)),a=s(n(1)),l=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.select",[a.default,l.default]).component("twSelect",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(105));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.services.requirements",[]).service("TwRequirementsService",i.default).name},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(l=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(l))))+" */"),a=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(a).concat([i]).join("\n")}var l;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var l=e[i];"number"==typeof l[0]&&r[l[0]]||(n&&!l[2]?l[2]=n:n&&(l[2]="("+l[2]+") and ("+n+")"),t.push(l))}},t}},function(e,t,n){var r,i,a={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),s=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),o=null,c=0,u=[],d=n(44);function f(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=a[r.id];if(i){i.refs++;for(var l=0;l<i.parts.length;l++)i.parts[l](r.parts[l]);for(;l<r.parts.length;l++)i.parts.push(y(r.parts[l],t))}else{var s=[];for(l=0;l<r.parts.length;l++)s.push(y(r.parts[l],t));a[r.id]={id:r.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};r[l]?r[l].parts.push(s):n.push(r[l]={id:l,parts:[s]})}return n}function p(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=s(e.insertAt.before,n);n.insertBefore(t,i)}}function g(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return v(t,e.attrs),p(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,r,i,a;if(t.transform&&e.css){if(!(a="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=a}if(t.singleton){var l=c++;n=o||(o=m(t)),r=w.bind(null,n,l,!1),i=w.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),p(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||a)&&(r=d(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var l=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(l),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){g(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=l()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return f(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var l=n[i];(s=a[l.id]).refs--,r.push(s)}e&&f(h(e,t),t);for(i=0;i<r.length;i++){var s;if(0===(s=r[i]).refs){for(var o=0;o<s.parts.length;o++)s.parts[o]();delete a[s.id]}}}};var b,$=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function w(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=$(t,i);else{var a=document.createTextNode(i),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(a,l[t]):e.appendChild(a)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(60));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.loading.process",[]).component("twProcess",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=t[0],i=n.getClosestParentByClassName(r,"form-group");i&&r&&(r.addEventListener("focus",function(){i.classList.add("focus")}),r.addEventListener("blur",function(){i.classList.remove("focus")}))};r.$inject=["$element","TwDomService"],t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(33)),a=s(n(1)),l=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.radio",[a.default,l.default]).component("twRadio",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),i=d(n(52)),a=d(n(54)),l=d(n(56)),s=d(n(57)),o=d(n(58)),c=d(n(18)),u=d(n(8));function d(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.processing",[c.default,l.default,s.default,o.default,u.default]).component("twUploadProcessing",i.default).component("twUploadProcessingMini",a.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r,i,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$timeout=t,this.AsyncFileReader=n,this.AsyncFileSaver=r,this.AsyncTasksConfig=i,this.FileValidation=a,this.processingState=null}return r(e,[{key:"$onChanges",value:function(e){e.file&&e.file.currentValue&&this.onFileCapture(e.file.currentValue)}},{key:"onFileCapture",value:function(e){var t=this;if(!this.ngDisabled){if(!e)throw new Error("Could not retrieve file");if(this.reset(),this.file=e,this.isProcessing=!0,this.processingState=null,this.onStart({file:e}),!this.FileValidation.isSmallerThanMaxSize(e,this.maxSize))return this.validationMessages=[this.tooLargeMessage],void l({status:413,data:{message:this.tooLargeMessage}},null,this);this.httpOptions?this.asyncFileRead(e).then(function(n){return t.asyncFileSave(e).then(function(e){return a(e,n,t)})}).catch(function(e){return l(e,null,t)}):this.asyncFileRead(e).then(function(e){return a(null,e,t)}).catch(function(e){return l(e,null,t)})}}},{key:"asyncFileSave",value:function(e){var t=this.AsyncTasksConfig.extendHttpOptions(this.httpOptions);return this.AsyncFileSaver.save(t.param||this.name,e,t)}},{key:"asyncFileRead",value:function(e){return this.AsyncFileReader.read(e)}},{key:"reset",value:function(){this.processingState=0,this.isProcessing=!1,this.isSuccess=!1,this.isError=!1}},{key:"onRemove",value:function(){this.onCancel()}}]),e}();function a(e,t,n){n.processingState=1;var r=null,i=n.file,a=n.httpOptions;return a&&a.idProperty&&e&&e.data&&e.data[a.idProperty]&&(r=e.data[a.idProperty]),n.$timeout(function(){n.isProcessing=!1,n.isSuccess=!0,n.onSuccess({file:i,dataUrl:t,id:r,response:e})},3600),t}function l(e,t,n){return n.processingState=-1,n.responseErrorExtractor&&(n.errorMessage=n.responseErrorExtractor({error:e})||n.errorMessage),n.$timeout(function(){n.isProcessing=!1,n.isError=!0},3600),n.$timeout(function(){n.onFailure({error:e})},3600),e}i.$inject=["$timeout","AsyncFileReader","AsyncFileSaver","AsyncTasksConfig","FileValidationService"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"<",file:"<",onStart:"&",onSuccess:"&",onFailure:"&",onCancel:"&",responseErrorExtractor:"&",maxSize:"<",accept:"<",httpOptions:"<",processingMessage:"<",successMessage:"<",errorMessage:"<",tooLargeMessage:"<",validationMessages:"<",cancelText:"<"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(89)),a=s(n(90)),l=s(n(91));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.drag-and-drop",[]).directive("twDrop",i.default).directive("twDragEnter",a.default).directive("twDragLeave",l.default).name},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(27)),a=s(n(1)),l=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.checkbox",[a.default,l.default]).component("twCheckbox",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(0)),i=g(n(39)),a=g(n(45)),l=g(n(49)),s=g(n(11)),o=g(n(63)),c=g(n(67)),u=g(n(76)),d=g(n(80)),f=g(n(84)),h=g(n(85)),p=g(n(14));function g(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload",[a.default,l.default,s.default,o.default,c.default,u.default,d.default,h.default,p.default]).directive("twFileInput",f.default).component("twUpload",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(59));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.services.async-tasks-config",[]).service("AsyncTasksConfig",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),i=c(n(92)),a=c(n(3)),l=c(n(20)),s=c(n(4)),o=c(n(2));function c(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.date",[a.default,l.default,s.default,o.default]).component("twDate",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(96)),a=s(n(98)),l=s(n(3));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.formatting.date",[l.default]).component("twDateFormat",i.default).filter("twDateFormat",a.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),i=u(n(4)),a=u(n(10)),l=u(n(16)),s=u(n(19)),o=u(n(17)),c=u(n(99));function u(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.form-control",[i.default,a.default,l.default,s.default,o.default]).component("twFormControl",c.default).component("twDynamicFormControl",c.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),i=o(n(21)),a=o(n(102)),l=o(n(5)),s=o(n(23));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.field",[i.default,l.default,s.default]).component("twField",a.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),i=l(n(106)),a=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.stylguide.validation.control",[a.default]).directive("twValidation",i.default).name},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(28)),i=a(n(29));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,require:{$ngModel:"ngModel"},bindings:{name:"@",ngModel:"=",ngTrueValue:"<",ngFalseValue:"<",ngRequired:"<",ngDisabled:"<"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.controller("ngModel");this.dom=r,this.$element=n,this.element=n[0],this.addLabelHandler(),this.addWatchers(t,n,i),this.checkboxContainer=this.dom.getClosestParentByClassName(this.element,"checkbox"),this.label=!!this.checkboxContainer&&this.checkboxContainer.getElementsByTagName("label")[0]}return r(e,[{key:"$onInit",value:function(){this.checked=this.isChecked()}},{key:"isChecked",value:function(){return this.ngTrueValue&&this.ngTrueValue===this.ngModel||!this.ngTrueValue&&this.ngModel||!1}},{key:"buttonClick",value:function(e){this.checked?(this.checked=!1,this.$ngModel.$setViewValue(this.ngFalseValue||!1)):(this.checked=!0,this.$ngModel.$setViewValue(this.ngTrueValue||!0)),this.$ngModel.$setTouched(),e&&e.stopPropagation(),a(this.checked,this.$element,this.$ngModel,this.ngRequired,this.dom)}},{key:"buttonFocus",value:function(){this.label&&this.label.classList.add("focus"),this.element.dispatchEvent(new CustomEvent("focus"))}},{key:"buttonBlur",value:function(){this.label&&this.label.classList.remove("focus"),this.element.dispatchEvent(new CustomEvent("blur")),this.$ngModel.$setTouched(),a(this.checked,this.$element,this.$ngModel,this.ngRequired,this.dom)}},{key:"addLabelHandler",value:function(){var e=this,t=this.dom.getClosestParentByTagName(this.element,"label");t&&t.addEventListener("click",function(n){t.getAttribute("disabled")||e.element.getElementsByTagName("button")[0].dispatchEvent(new CustomEvent("click"));n.preventDefault(),n.stopPropagation()})}},{key:"addWatchers",value:function(e,t,n){var r=this;e.$watch("$ctrl.ngModel",function(e,i){e!==i&&(n.$setDirty(),a(r.checked,t,n,r.ngRequired,r.dom),r.checked=r.isChecked())}),e.$watch("$ctrl.ngDisabled",function(e,n){var i=t[0],a=r.dom.getClosestParentByClassName(i,"checkbox"),l=r.dom.getClosestParentByTagName(i,"label");a&&(e&&!n?(a.classList.add("disabled"),l.setAttribute("disabled","true")):!e&&n&&(a.classList.remove("disabled"),l.removeAttribute("disabled")))}),e.$watch("$ctrl.ngRequired",function(e,i){e!==i&&a(r.checked,t,n,r.ngRequired,r.dom)})}}],[{key:"hiddenClick",value:function(e){e.stopPropagation()}}]),e}();function a(e,t,n,r,i){if(n.$touched){var a=t[0],l=a.getElementsByClassName("tw-checkbox-button")[0],s=i.getClosestParentByClassName(a,"checkbox"),o=i.getClosestParentByClassName(a,"form-group");!e&&r?(n.$setValidity("required",!1),l.classList.add("has-error"),s&&s.classList.add("has-error"),o&&o.classList.add("has-error")):(n.$setValidity("required",!0),l.classList.remove("has-error"),s&&s.classList.remove("has-error"),o&&o.classList.remove("has-error"))}}i.$inject=["$scope","$element","TwDomService"],t.default=i},function(e,t){e.exports='<input type=hidden class=sr-only name={{$ctrl.name}} ng-model=$ctrl.ngModel ng-click=$ctrl.hiddenClick($event) ng-disabled=$ctrl.ngDisabled /> <button type=button class=tw-checkbox-button tw-focusable ng-click=$ctrl.buttonClick($event) ng-focus=$ctrl.buttonFocus() ng-blur=$ctrl.buttonBlur() ng-disabled=$ctrl.ngDisabled ng-class="{\'checked\': $ctrl.checked}" aria-pressed={{$ctrl.checked}}> <span class="tw-checkbox-check glyphicon glyphicon-ok"></span> </button> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.getClosestParentByTagName=function(e,t){for(var n=t.toUpperCase(),r=e;r;)if((r=r.parentNode)&&r.tagName&&r.tagName.toUpperCase()===n)return r;return null},this.getClosestParentByClassName=function(e,t){for(var n=e;n;)if((n=n.parentNode)&&n.classList&&n.classList.contains(t))return n;return null},this.getPreviousSiblingWithClassName=function(e,t){for(var n=e.previousElementSibling;n;){if(n.classList.contains(t))return n;n=n.previousElementSibling}return null},this.getNextSiblingWithClassName=function(e,t){for(var n=e.nextElementSibling;n;){if(n.classList.contains(t))return n;n=n.nextElementSibling}return null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(){return{restrict:"A",controller:a.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(){return{restrict:"C",controller:a.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(34)),i=a(n(35));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,require:{$ngModel:"ngModel"},bindings:{name:"@",value:"@",ngModel:"=",ngValue:"<",ngRequired:"<",ngDisabled:"<",ngChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=n.controller("ngModel");this.dom=r,this.$element=n,this.element=n[0],this.checked=this.isChecked(),this.label=this.dom.getClosestParentByTagName(this.element,"label"),n[0].addEventListener("blur",function(){i.$setTouched()}),this.addWatchers(t,this.element)}return r(e,[{key:"isChecked",value:function(){return this.ngValue&&this.ngModel===this.ngValue||this.value===this.ngModel}},{key:"buttonClick",value:function(){this.ngDisabled||(this.checked=!0,this.$ngModel.$setViewValue(this.ngValue||this.value))}},{key:"buttonFocus",value:function(){this.label&&this.label.classList.add("focus"),this.element.dispatchEvent(new CustomEvent("focus"))}},{key:"buttonBlur",value:function(){this.label&&this.label.classList.remove("focus"),this.element.dispatchEvent(new CustomEvent("blur"))}},{key:"hiddenInputChange",value:function(){this.$ngModel.$setViewValue(this.ngValue||this.value)}},{key:"addWatchers",value:function(e,t){var n=this;e.$watch("$ctrl.ngModel",function(e,t){e!==t&&n.$ngModel.$setDirty(),n.checked=n.isChecked()}),e.$watch("$ctrl.ngDisabled",function(e,r){var i=n.dom.getClosestParentByClassName(t,"radio");i&&(e&&!r?(i.classList.add("disabled"),i.setAttribute("disabled","true")):!e&&r&&(i.classList.remove("disabled"),i.removeAttribute("disabled")))})}}]),e}();i.$inject=["$scope","$element","TwDomService"],t.default=i},function(e,t){e.exports='<input type=radio class=sr-only name={{$ctrl.name}} ng-value="$ctrl.ngValue || $ctrl.value" ng-model=$ctrl.ngModel ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.hiddenInputChange() tabindex=-1 /> <button type=button class=tw-radio-button tw-focusable ng-click=$ctrl.buttonClick($event) ng-focus=$ctrl.buttonFocus() ng-blur=$ctrl.buttonBlur() ng-disabled=$ctrl.ngDisabled ng-class="{checked: $ctrl.checked}" aria-pressed={{$ctrl.checked}}> <span class=tw-radio-check></span> </button> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(37)),i=a(n(38));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,require:"ngModel",transclude:!0,bindings:{ngModel:"=",ngRequired:"<",ngDisabled:"<",options:"<",name:"@",placeholder:"@",filter:"@",size:"@",dropdownRight:"@",dropdownUp:"@",dropdownWidth:"@",inverse:"<",hideNote:"@",hideSecondary:"@",hideIcon:"@",hideCurrency:"@",hideCircle:"@",hideLabel:"@"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=(r=a)&&r.__esModule?r:{default:r};var s=function(){function e(t,n,r,i,a,l){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$ngModel=t.controller("ngModel"),this.$element=t,this.$attrs=i,this.$timeout=r,this.$transclude=n,this.dom=a,this.element=t[0],l.$watch("$ctrl.ngModel",function(e,t){return s.onModelChange(e,t)})}return i(e,[{key:"$onInit",value:function(){var e,t,n,r,i,a,l,s,o;this.button=this.element.getElementsByClassName("btn")[0],this.search="",p(this.$ngModel,this),m(this.$ngModel,this,this.$element,this.$attrs),e=this,t=this.$element,n=this.$ngModel,this.options,r=this.$timeout,i=t[0],a=i.getElementsByClassName("btn")[0],l=i.getElementsByClassName("btn-group")[0],s=i.getElementsByClassName("dropdown-menu")[0],o=function(){r(function(){a===document.activeElement||l.classList.contains("open")||i.dispatchEvent(new CustomEvent("blur"))},150)},i.addEventListener("blur",function(){n.$setTouched()}),a.addEventListener("keypress",function(t){e.optionKeypress(t)}),a.addEventListener("click",function(){r(function(){e.shouldShowSearch()?i.getElementsByClassName("tw-select-filter")[0].focus():f(i)})}),a.addEventListener("focusout",o),s.addEventListener("focusout",o),s.addEventListener("keypress",function(t){"a"===t.target.tagName.toLowerCase()&&e.optionKeypress(t)}),function(e,t){e(function(e){(e.length>1||""!==e.text().trim())&&(t.hasTranscluded=!0)})}(this.$transclude,this),this.responsiveClasses=M,this.optionsPageSize=300,this.numberOfOptionsRevealed=this.optionsPageSize,this.hasMoreOptionsToReveal=!1,this.filterString="",this.filteredOptions=this.getFilteredOptions()}},{key:"$onChanges",value:function(e){e.options&&this.onOptionsChange(e.options.currentValue,e.options.previousValue)}},{key:"onModelChange",value:function(e,t){if(e!==t){(e||t)&&this.$ngModel.$setDirty();var n=g(this.options,e);this.selected=n||null}}},{key:"onOptionsChange",value:function(e,t){e!==t&&(p(this.$ngModel,this),m(this.$ngModel,this,this.$element,this.$attrs),this.filteredOptions=this.getFilteredOptions())}},{key:"circleClasses",value:function(e){var t=M(e),n=M(this.hideSecondary);return this.selected.secondary&&0===n.length?t+=" circle-sm":t+=" circle-xs",t}},{key:"buttonFocus",value:function(){this.element.dispatchEvent(new CustomEvent("focus"))}},{key:"optionClick",value:function(e,t){e.disabled?t.stopPropagation():(v(this.$ngModel,this,e),this.button.focus())}},{key:"optionFocus",value:function(e){v(this.$ngModel,this,e)}},{key:"optionKeypress",value:function(e){if(!e.target.classList.contains("tw-select-filter"))if(8!==h(e)){var t=function(e){return String.fromCharCode(h(e))}(e);!function(e,t,n,r){var i=b(e,t,n,t.search+r);i?t.search+=r:(t.search=r,i=b(e,t,n,t.search))}(this.$ngModel,this,this.options,t),f(this.element)}else e.preventDefault()}},{key:"placeholderClick",value:function(){y(this.$ngModel,this),this.button.focus()}},{key:"placeholderFocus",value:function(){y(this.$ngModel,this)}},{key:"getFilteredOptions",value:function(){if(this.hasMoreOptionsToReveal=!1,!this.options||!this.options.filter)return[];for(var e=this.filterString&&this.filterString.toLowerCase().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t=Object.create(null),n=[],r=0;r<this.options.length;++r){var i=this.options[r];if(!i.header||i.value||i.label){var a=!1,s=t[i.label],f=l.default.isArray(s);if(f)for(var h=0;h<s.length;h++)if(l.default.equals(s[h],i.value)){a=!0;break}if(!a&&(!e||o(i,e)||c(i,e)||u(i,e)||d(i,e))){if(n.length>=this.numberOfOptionsRevealed){this.hasMoreOptionsToReveal=!0;break}f?s.push(i.value):t[i.label]=[i.value],n.push(i)}}else n.push(i)}return n}},{key:"focusOnFilterInput",value:function(){var e=this.element.getElementsByClassName("tw-select-filter")[0];e&&e.focus()}},{key:"filterChange",value:function(){this.numberOfOptionsRevealed=this.optionsPageSize,this.filteredOptions=this.getFilteredOptions(),!function(e,t){if(!l.default.isArray(e))return;var n=void 0;return e.forEach(function(e){t&&l.default.equals(t.value,e.value)&&(n=t)}),n}(this.filteredOptions,this.selected)&&this.filteredOptions.length&&v(this.$ngModel,this,this.filteredOptions[0])}},{key:"filterKeydown",value:function(e){var t=e.which||e.charCode||e.keyCode,n=this.element.querySelector(".active"),r=!!n&&n.querySelector("a"),i=this.element.getElementsByClassName("tw-select-option-link");return t===x.down?(this.moveDownOneOption(n,r,i),e.preventDefault()):t===x.up?(this.moveUpOneOption(n,r,i),e.preventDefault()):t===x.return&&(n&&(n.click(),this.button.focus()),e.preventDefault()),!0}},{key:"selectOptionUsingLink",value:function(e){var t=this.filteredOptions[e.getAttribute("index")];v(this.$ngModel,this,t)}},{key:"moveUpOneOption",value:function(e,t,n){if(e||!n.length){if(t!==n[0]){var r=this.dom.getPreviousSiblingWithClassName(e,"tw-select-option");if(r){var i=r.getElementsByTagName("a")[0];this.selectOptionUsingLink(i)}}}else this.selectOptionUsingLink(n[n.length-1])}},{key:"moveDownOneOption",value:function(e,t,n){if(e||!n.length){if(t!==n[n.length-1]){var r=this.dom.getNextSiblingWithClassName(e,"tw-select-option");if(r){var i=r.getElementsByTagName("a")[0];return void this.selectOptionUsingLink(i)}}var a=this.element.getElementsByClassName("tw-select-transcluded");a.length&&a[0].getElementsByTagName("a")[0].focus()}else this.selectOptionUsingLink(n[0])}},{key:"shouldShowSearch",value:function(){return this.filter||this.options&&this.options.length>12}},{key:"revealMoreOptions",value:function(e){e.stopPropagation(),this.numberOfOptionsRevealed+=this.optionsPageSize,this.filteredOptions=this.getFilteredOptions()}}]),e}();function o(e,t){return e.label&&e.label.toLowerCase().search(t)>=0}function c(e,t){return e.note&&e.note.toLowerCase().search(t)>=0}function u(e,t){return e.secondary&&e.secondary.toLowerCase().search(t)>=0}function d(e,t){return e.searchable&&e.searchable.toLowerCase().search(t)>=0}function f(e){var t=e.getElementsByClassName("active")[0];t&&t.getElementsByTagName("a")[0].focus()}function h(e){return e.which||e.charCode||e.keyCode}function p(e,t){if(w(t.ngModel)){var n=g(t.options,t.ngModel);n&&v(e,t,n)}}function g(e,t){var n=!1;return e.forEach(function(e){l.default.equals(e.value,t)&&(n=e)}),n}function m(e,t,n,r){if((t.ngRequired||r.required)&&!w(t.ngModel)&&!t.placeholder)for(var i=0;i<t.options.length;i++)if(w(t.options[i].value)){v(e,t,t.options[i]);break}}function v(e,t,n){n.disabled||(e.$setViewValue(n.value),e.$commitViewValue(),t.selected=n)}function y(e,t){e.$setViewValue(null),e.$commitViewValue(),t.selected=!1}function b(e,t,n,r){var i=!1,a=r.toLowerCase();return n.forEach(function(n){i||($(n.label,a)||$(n.note,a)||$(n.secondary,a)||$(n.searchable,a))&&(v(e,t,n),i=!0)}),i}function $(e,t){return e&&0===e.toLowerCase().indexOf(t)}function w(e){return e||0===e||!1===e}function M(e){var t="",n=[],r={xs:!0,sm:!0,md:!0,lg:!0,xl:!0};return"boolean"==typeof e&&e?"hidden":e&&e.toLowerCase&&"true"===e.toLowerCase()?"hidden":(e&&(n=e.split(",")),n.forEach(function(e){r[e]&&(t+="hidden-"+e+" ")}),t)}var x={up:38,down:40,return:13};s.$inject=["$element","$transclude","$timeout","$attrs","TwDomService","$scope"],t.default=s},function(e,t){e.exports='<div class="btn-group btn-block tw-select" ng-class="{\n    dropdown: !$ctrl.dropdownUp,\n    dropup: $ctrl.dropdownUp\n  }" aria-hidden=false> <button type=button class="btn btn-input dropdown-toggle" ng-class="{\n      \'btn-input-inverse\': $ctrl.inverse,\n      \'btn-addon\': $ctrl.inverse,\n      \'btn-sm\': $ctrl.size === \'sm\',\n      \'btn-lg\': $ctrl.size === \'lg\'\n    }" data-toggle=dropdown aria-expanded=false ng-disabled=$ctrl.ngDisabled ng-focus=$ctrl.buttonFocus() tw-focusable> <span class=tw-select-selected ng-if=$ctrl.selected> <span class="circle circle-inverse pull-xs-left circle-sm" ng-if="$ctrl.selected && $ctrl.selected.icon && $ctrl.selected.secondary"> <span class="icon {{$ctrl.selected.icon}}"></span> </span> <span class="circle circle-inverse pull-xs-left" ng-class=$ctrl.circleClasses($ctrl.hideCircle) ng-if="($ctrl.selected.circleText || $ctrl.selected.circleImage || $ctrl.selected.circleIcon)"> <span ng-if=$ctrl.selected.circleText>{{$ctrl.selected.circleText}}</span> <img alt={{$ctrl.selected.label}} ng-if=$ctrl.selected.circleImage src="data:image/png;base64,\n            iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" ng-src={{$ctrl.selected.circleImage}} /> <span ng-if=$ctrl.selected.circleIcon class="icon {{$ctrl.selected.circleIcon}}"></span> </span> <span class=text-ellipsis> <span class="currency-flag currency-flag-{{$ctrl.selected.currency | lowercase}}" ng-if="$ctrl.selected && $ctrl.selected.currency" ng-class=$ctrl.responsiveClasses($ctrl.hideCurrency)></span> <span class="icon {{$ctrl.selected.icon}}" ng-if="$ctrl.selected && $ctrl.selected.icon && !$ctrl.selected.secondary" ng-class=$ctrl.responsiveClasses($ctrl.hideIcon)></span> <span class=tw-select-label ng-class=$ctrl.responsiveClasses($ctrl.hideLabel)> {{$ctrl.selected.label}} </span> <span ng-if=$ctrl.selected.note ng-class=$ctrl.responsiveClasses($ctrl.hideNote) class="tw-select-note small m-l-1"> {{$ctrl.selected.note}} </span> <span ng-if=$ctrl.selected.secondary ng-class=$ctrl.responsiveClasses($ctrl.hideSecondary) class="tw-select-secondary small secondary text-ellipsis"> {{$ctrl.selected.secondary}} </span> </span> </span> <span class=form-control-placeholder ng-if=!$ctrl.selected>{{$ctrl.placeholder}}</span> <span class=caret></span> </button> <ul class=dropdown-menu role=menu ng-class="{\n      \'dropdown-menu-xs-right\': $ctrl.dropdownRight === \'xs\',\n      \'dropdown-menu-sm-right\': $ctrl.dropdownRight === \'sm\',\n      \'dropdown-menu-md-right\': $ctrl.dropdownRight === \'md\',\n      \'dropdown-menu-lg-right\': $ctrl.dropdownRight === \'lg\',\n      \'dropdown-menu-xl-right\': $ctrl.dropdownRight === \'xl\',\n      \'dropdown-menu-sm\': $ctrl.dropdownWidth === \'sm\',\n      \'dropdown-menu-md\': $ctrl.dropdownWidth === \'md\',\n      \'dropdown-menu-lg\': $ctrl.dropdownWidth === \'lg\'\n    }"> <li ng-if=$ctrl.shouldShowSearch()> <a href="" class="tw-select-filter-link p-a-0" tabindex=-1 ng-focus=$ctrl.focusOnFilterInput()> <div class=input-group> <span class=input-group-addon><span class="icon icon-search"></span> </span> <input type=text class="form-control tw-select-filter" placeholder={{$ctrl.filter}} ng-model=$ctrl.filterString ng-change=$ctrl.filterChange() ng-keydown=$ctrl.filterKeydown($event) /> </div> </a> </li> <li ng-class="{active: !$ctrl.selected}" ng-if="$ctrl.placeholder && !$ctrl.ngRequired && !$ctrl.filter"> <a href="" tabindex=-1 ng-click=$ctrl.placeholderClick() ng-focus=$ctrl.placeholderFocus() class=tw-select-placeholder tw-focusable> {{$ctrl.placeholder}} </a> </li> <li ng-if="($ctrl.placeholder && !$ctrl.ngRequired) || $ctrl.filter" class=divider></li> <li ng-repeat="option in $ctrl.filteredOptions" ng-class="{\n        \'active\': $ctrl.ngModel === option.value,\n        \'disabled\': option.disabled,\n        \'dropdown-header\': option.header,\n        \'tw-select-option\': !option.header && !option.disabled\n      }"> <span ng-if=option.header class=text-ellipsis ng-click=$event.stopPropagation()>{{option.header}}</span> <a href="" ng-if=!option.header ng-click="$ctrl.optionClick(option, $event)" ng-focus=$ctrl.optionFocus(option) ng-class="{\'tw-select-option-link\': !option.disabled}" index={{$index}} tabindex=-1 tw-focusable> <div ng-if="option.icon && option.secondary" class="circle circle-inverse pull-xs-left circle-sm"> <span class="icon {{option.icon}}"></span> </div> <span ng-if="option.icon && !option.secondary" class="icon {{option.icon}} pull-xs-left"> </span> <span ng-if=option.currency class="currency-flag currency-flag-{{option.currency | lowercase}} pull-xs-left"> </span> <span class="circle circle-inverse pull-xs-left" ng-class="{\n            \'circle-sm\': option.secondary,\n            \'circle-xs\': !option.secondary\n          }" ng-if="option.circleText || option.circleImage || option.circleIcon"> <span class=tw-select-circle-text ng-if=option.circleText>{{option.circleText}}</span> <img alt={{option.label}} ng-if=option.circleImage src="data:image/png;base64,\n              iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" ng-src={{option.circleImage}} /> <span ng-if=option.circleIcon class="icon {{option.circleIcon}}"></span> </span>{{option.label}}<span ng-if=option.note class="tw-select-note small m-l-1">{{option.note}}</span><span ng-if=option.secondary class="tw-select-secondary small text-ellipsis">{{option.secondary}}</span> </a> </li> <li ng-if=$ctrl.hasMoreOptionsToReveal> <a href="" ng-click=$ctrl.revealMoreOptions($event) class=tw-select-load-more tabindex=-1 tw-focusable> ... </a> </li> <li ng-if=$ctrl.hasTranscluded class=divider></li> <li ng-transclude ng-if=$ctrl.hasTranscluded class=tw-select-transcluded></li> </ul> </div> <input type=hidden class=tw-select-hidden name={{$ctrl.name}} value={{$ctrl.ngModel}} ng-disabled=$ctrl.ngDisabled /> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(40)),i=a(n(41));function a(e){return e&&e.__esModule?e:{default:e}}n(42);var l={controller:r.default,template:i.default,bindings:{ngDisabled:"<",ngModel:"=",ngChange:"&",name:"@",icon:"@",helpImage:"@",label:"@",placeholder:"@",buttonText:"@",cancelText:"@",droppingText:"@",processingText:"@",successText:"@",failureText:"@",tooLargeMessage:"@",validationMessages:"<",size:"@",accept:"@",httpOptions:"<",onStart:"=",onSuccess:"=",onFailure:"=",onCancel:"=",maxSize:"<",source:"<",cameraOverlay:"@",cameraDirection:"@",description:"@",instructions:"@"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.$attrs=r,this.FileValidationService=i,this.isProcessing=!1}return r(e,[{key:"$onChanges",value:function(e){e.source&&(this.isLiveCameraUpload="CAMERA_ONLY"===e.source.currentValue)}},{key:"onFileCapture",value:function(e){if(!this.ngDisabled){if(!e)throw new Error("Could not retrieve file");this.file=e}}},{key:"reset",value:function(){this.isProcessing=!1,this.isDone=!1,this.clearHtmlInput(),this.setNgModel(null),this.onCancel&&this.onCancel()}},{key:"clearHtmlInput",value:function(){this.$element[0].querySelectorAll("input")&&this.$element[0].querySelectorAll("input").forEach(function(e){e.value=null})}},{key:"setNgModel",value:function(e){if(void 0!==this.$attrs.ngModel){var t=this.$element.controller("ngModel");if(!t.$setViewValue)return;t.$setViewValue(e)}}},{key:"isDropEligible",value:function(){return"CAMERA_ONLY"!==this.source}},{key:"onDragEnter",value:function(){this.isDroppable=this.isDropEligible()}},{key:"onDragLeave",value:function(){this.isDroppable=!1}},{key:"onDrop",value:function(e){this.isDroppable=!1,this.onFileCapture(e[0])}},{key:"onProcessStart",value:function(e){this.isDone=!1,this.isProcessing=!0,this.onStart&&this.onStart({file:e})}},{key:"onProcessSuccess",value:function(e,t,n,r){this.isDone=!0,this.isProcessing=!1,this.dataUrl=t,this.isImage=this.FileValidationService.isImage(e),this.httpOptions&&n?this.setNgModel(n):this.setNgModel(t),this.onSuccess(e,r)}},{key:"onProcessFailure",value:function(e){this.onFailure&&this.onFailure({error:e})}}]),e}();i.$inject=["$element","$scope","$attrs","FileValidationService"],t.default=i},function(e,t){e.exports="<div class=droppable tw-drag-enter=$ctrl.onDragEnter() tw-drag-leave=$ctrl.onDragLeave() tw-drop=$ctrl.onDrop(files) ng-class=\"{\n    'droppable-sm': $ctrl.size ==='sm',\n    'droppable-md': $ctrl.size ==='md' || !$ctrl.size,\n    'droppable-lg': $ctrl.size ==='lg',\n    'droppable-dropping': $ctrl.isDroppable && !$ctrl.ngDisabled,\n    'droppable-processing': !$ctrl.isDone && ($ctrl.isProcessing || $ctrl.isSuccess),\n    'droppable-complete': $ctrl.isDone\n  }\"> <div class=droppable-default-card aria-hidden=\"{{$ctrl.isDone || $ctrl.isProcessing}}\"> <tw-upload-capture label=$ctrl.label icon=$ctrl.icon accept=$ctrl.accept input-file=$ctrl.inputFile help-image=$ctrl.helpImage button-text=$ctrl.buttonText ng-disabled=$ctrl.ngDisabled placeholder=\"$ctrl.placeholder || $ctrl.description\" is-live-camera-upload=$ctrl.isLiveCameraUpload camera-overlay=$ctrl.cameraOverlay camera-direction=$ctrl.cameraDirection on-file-capture=$ctrl.onFileCapture(file)></tw-upload-capture> </div> <div class=\"droppable-processing-card droppable-card\" aria-hidden={{!$ctrl.isProcessing}}> <tw-upload-processing name=$ctrl.name file=$ctrl.file on-start=$ctrl.onProcessStart(file) on-success=\"$ctrl.onProcessSuccess(file, dataUrl, id, response)\" on-failure=$ctrl.onProcessFailure(error) max-size=$ctrl.maxSize accept=$ctrl.accept http-options=$ctrl.httpOptions processing-message=$ctrl.processingText success-message=$ctrl.successText error-message=$ctrl.failureText validation-messages=$ctrl.validationMessages too-large-message=$ctrl.tooLargeMessage cancel-text=$ctrl.cancelText on-cancel=$ctrl.reset()></tw-upload-processing> </div> <div class=\"droppable-complete-card droppable-card\" aria-hidden={{!$ctrl.isDone}}> <tw-upload-success label=$ctrl.label is-image=$ctrl.isImage file=$ctrl.file data=$ctrl.dataUrl success-message=$ctrl.successText cancel-text=$ctrl.cancelText on-cancel=$ctrl.reset()></tw-upload-success> </div> <div class=\"droppable-dropping-card droppable-card\"> <tw-upload-dropping dropping-text=$ctrl.droppingText></tw-upload-dropping> </div> </div> "},function(e,t,n){var r=n(43);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(6)(!1)).push([e.i,"div.transparent-area{background-color:hsla(0,0%,98%,.9)}.icon-circle-shadow{background:#fff;box-shadow:0 4px 16px rgba(0,0,0,.08);padding:12px;box-sizing:border-box;border-radius:99px}.icon-circle-shadow svg{top:4px;position:relative}.inline-svg{top:.35em;position:relative}@media (min-width:576px){p.first-error{min-height:72px}}@media only screen and (max-width:575px){.empty-processing-list{height:130px}.processing-list{min-height:130px}}@media only screen and (min-width:575px){.multi-upload{height:375px}.multi-upload .empty-screen{padding-top:40px}.empty-processing-list,.processing-list{height:290px}}.processing-list{overflow:auto}.processing-list,.processing-list .processing-item .media-body,.processing-list .processing-item .media-right{border-bottom:1px solid #e2e6e8}.processing-list .last-item .processing-item .media-body,.processing-list .last-item .processing-item .media-right{border-bottom:0}.processing-list .processing-item{position:relative;width:100%}.processing-list .processing-item .vertical-center{align-self:center}.empty-processing-list{display:flex;justify-content:center}.empty-processing-list .circle{background-color:#d8f1fa}.empty-processing-list .empty-screen{align-self:center}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?e:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(46));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.capture",[]).component("twUploadCapture",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(47)),i=a(n(48));function a(e){return e&&e.__esModule?e:{default:e}}var l={template:r.default,controller:i.default,bindings:{label:"<",icon:"<",accept:"<",buttonText:"<",ngDisabled:"<",placeholder:"<",inputFile:"<",helpImage:"<",isLiveCameraUpload:"<",cameraOverlay:"<",cameraDirection:"<",onFileCapture:"&"}};t.default=l},function(e,t){e.exports='<div class=droppable-card-content> <div class=m-b-2> <img ng-show=$ctrl.helpImage ng-src={{$ctrl.helpImage}} alt={{$ctrl.label}} class="thumbnail text-xs-center"/> <span ng-show=!$ctrl.helpImage class="icon icon-{{$ctrl.viewIcon}} icon-xxl"></span> </div> <h4 class=m-b-1 ng-if="$ctrl.label || $ctrl.description"> {{$ctrl.label || $ctrl.description}} </h4> <p class=m-b-2 ng-if="$ctrl.placeholder || $ctrl.instructions"> {{$ctrl.placeholder || $ctrl.instructions}} </p> <tw-upload-button ng-if=!$ctrl.isLiveCameraUpload name=$ctrl.name label=$ctrl.buttonText accept=$ctrl.accept model=$ctrl.inputFile disabled=$ctrl.ngDisabled on-capture=$ctrl.onButtonCapture(files)> </tw-upload-button> <tw-camera-button ng-if=$ctrl.isLiveCameraUpload label=$ctrl.buttonText disabled=$ctrl.ngDisabled on-click=$ctrl.onCameraButtonClick()> </tw-camera-button> <tw-camera-capture ng-if="$ctrl.isLiveCameraUpload && $ctrl.showLiveCaptureScreen" overlay={{$ctrl.cameraOverlay}} direction={{$ctrl.cameraDirection}} on-cancel=$ctrl.onCameraCancel() on-capture=$ctrl.onCameraCapture(file)> </tw-camera-capture> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.showLiveCaptureScreen=!1}return r(e,[{key:"$onChanges",value:function(e){e.icon&&(this.viewIcon=e.icon.currentValue?e.icon.currentValue:"upload")}},{key:"onCameraCancel",value:function(){this.showLiveCaptureScreen=!1}},{key:"onCameraCapture",value:function(e){this.showLiveCaptureScreen=!1,this.onFileCapture({file:e})}},{key:"onCameraButtonClick",value:function(){this.showLiveCaptureScreen=!0}},{key:"onButtonCapture",value:function(e){var t=e[0];this.onFileCapture({file:t})}}]),e}();i.$inject=["$element"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(50));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.dropping",[]).component("twUploadDropping",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(51);var a={template:((r=i)&&r.__esModule?r:{default:r}).default,bindings:{droppingText:"<"}};t.default=a},function(e,t){e.exports='<div class=droppable-card-content> <div class="circle circle-sm m-b-3"> <span class="icon icon-add"></span> </div> <h4> {{ $ctrl.droppingText || \'Drop file to start upload\' }} </h4> <p class="m-t-2 m-b-0"></p> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(12)),i=l(n(53)),a=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}var s={controller:r.default,template:i.default,bindings:a.default};t.default=s},function(e,t){e.exports='<div class=droppable-card-content> <div class=m-b-2> <tw-process size=sm state=$ctrl.processingState></tw-process> </div> <h4 class=m-b-2> <span ng-if="$ctrl.isProcessing && $ctrl.processingMessage" class=upload-processing-message> {{$ctrl.processingMessage}} </span> <span ng-if="$ctrl.isError && $ctrl.errorMessage" class=upload-failure-message> {{$ctrl.errorMessage}} </span> </h4> <ul ng-if="$ctrl.isError && $ctrl.validationMessages" class="text-xs-left m-b-2"> <li ng-if=$ctrl.validationMessages[0]>{{ $ctrl.validationMessages[0] }}</li> <li ng-if=$ctrl.validationMessages[1]>{{ $ctrl.validationMessages[1] }}</li> <li ng-if=$ctrl.validationMessages[2]>{{ $ctrl.validationMessages[2] }}</li> </ul> <a href="" ng-if=$ctrl.isError class="btn btn-primary" ng-click=$ctrl.onRemove() role=button> <span ng-if=$ctrl.cancelText ng-bind=$ctrl.cancelText></span> <span ng-if=!$ctrl.cancelText class="icon icon-upload m-r-0"></span> </a> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(12)),i=l(n(55)),a=l(n(13));function l(e){return e&&e.__esModule?e:{default:e}}var s={controller:r.default,template:i.default,bindings:a.default};t.default=s},function(e,t){e.exports='<div class=processing-item> <div class=media> <div class="media-left vertical-center p-r-2 p-y-1"> <tw-process size=xs state=$ctrl.processingState></tw-process> </div> <div class="media-body text-xs-left p-y-1" style=overflow:auto> <div> <small class="m-b-0 text-ellipsis file-name"><strong>{{ $ctrl.file.name }}</strong></small> <small class="m-b-0 text-ellipsis tiny"> <span ng-if=$ctrl.isProcessing>{{ $ctrl.processingMessage }}</span> <span ng-if=$ctrl.isError>{{ $ctrl.errorMessage }}</span> <span ng-if=$ctrl.isSuccess>{{ $ctrl.successMessage }}</span> </small> </div> </div> <div class="media-right p-l-2 p-y-2"> <a href="" ng-if=!$ctrl.isProcessing class=close ng-click=$ctrl.onRemove() role=button>&times;</a> </div> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$q=t}return r(e,[{key:"read",value:function(e){var t=new FileReader,n=this.$q.defer();return t.onload=function(e){n.resolve(e.target.result)},t.onerror=function(e){n.reject(e)},t.readAsDataURL(e),n.promise}}]),e}();i.$inject=["$q"],t.default=angular.module("tw.styleguide.forms.upload.file-reader",[]).service("AsyncFileReader",i).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$http=t}return r(e,[{key:"save",value:function(e,t,n){if(!n)throw new Error("You must supply httpOptions");var r=new FormData,i=n.param||e;r.append(i,t);var a=function(e){var t=angular.copy(e);if(!t.url)throw new Error("You must supply a URL to post image data asynchronously");t.headers||(t.headers={});return t.headers["Content-Type"]=void 0,t.transformRequest=angular.identity,t}(n);return delete a.method,this.$http.post(a.url,r,a)}}]),e}();i.$inject=["$http"],t.default=angular.module("tw.styleguide.forms.upload.file-saver",[]).service("AsyncFileSaver",i).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),l=(r=a)&&r.__esModule?r:{default:r};var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"isImage",value:function(e){return e.type&&e.type.indexOf("image")>-1}},{key:"isSmallerThanMaxSize",value:function(e,t){return!l.default.isNumber(t)||e.size<=t}}]),e}();t.default=l.default.module("tw.styleguide.forms.upload.validation-service",[]).service("FileValidationService",s).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl="",this.headers={}}return i(e,[{key:"setBaseUrl",value:function(e){this.baseUrl=e}},{key:"setHeader",value:function(e,t){this.headers[e]=t}},{key:"extendHttpOptions",value:function(e){var t=angular.copy(e);return t.headers=t.headers?r({},t.headers,this.headers):this.headers,t.url&&(t.url=""+this.baseUrl+t.url),t}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(61)),i=a(n(62));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{state:"<",size:"@",onStop:"&",promise:"<"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$interval=n,this.$timeout=r,this.interval=null,this.processing=this.state,this.onStateChange()}return r(e,[{key:"$onChanges",value:function(e){e.state&&this.onStateChange(),e.state&&this.onSizeChange()}},{key:"onStateChange",value:function(){a(this.processing)&&(this.processing=null,this.startProcess())}},{key:"onSizeChange",value:function(){switch(this.stopProcess(),this.startProcess(),this.size||(this.size="sm"),this.size){case"xs":this.radius="11";break;case"sm":this.radius="22";break;case"xl":this.radius="61";break;default:this.radius="46%"}}},{key:"startProcess",value:function(){var e=this;this.interval||(this.interval=this.$interval(function(){e.processing=e.state,a(e.state)&&(e.stopProcess(),e.notifyConsumers())},1500))}},{key:"stopProcess",value:function(){this.interval&&(this.$interval.cancel(this.interval),this.interval=null)}},{key:"notifyConsumers",value:function(){this.onStop&&(0===this.state?this.onStop():this.$timeout(this.onStop,1800))}}]),e}();function a(e){return-1===e||0===e||1===e}i.$inject=["$scope","$interval","$timeout"],t.default=i},function(e,t){e.exports="<span class=process ng-class=\"{\n    'process-success': $ctrl.processing === 1,\n    'process-danger': $ctrl.processing === -1,\n    'process-stopped': $ctrl.processing === 0,\n    'process-xs': $ctrl.size === 'xs',\n    'process-sm': $ctrl.size === 'sm',\n    'process-md': $ctrl.size === 'md',\n    'process-lg': $ctrl.size === 'lg',\n    'process-xl': $ctrl.size === 'xl'\n  }\"> <span class=process-icon-container> <span class=process-icon-horizontal></span> <span class=process-icon-vertical></span> </span> <svg version=1.1 xmlns=http://www.w3.org/2000/svg xml:space=preserve> <circle class=process-circle cx=50% cy=50% ng-attr-r={{$ctrl.radius}} fill-opacity=0.0 /> </svg> </span> "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(64));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.success",[]).component("twUploadSuccess",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(65)),i=a(n(66));function a(e){return e&&e.__esModule?e:{default:e}}var l={template:r.default,controller:i.default,bindings:{label:"<",file:"<",data:"<",isImage:"<",successMessage:"<",cancelText:"<",onCancel:"&"}};t.default=l},function(e,t){e.exports='<div class=droppable-card-content> <h4 ng-if="$ctrl.successMessage || $ctrl.label" class="m-b-2 upload-success-message"> {{ $ctrl.successMessage || $ctrl.label }} </h4> <img ng-if="$ctrl.isImage && $ctrl.data" src="data:image/png;base64,\n      iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" ng-src="{{ $ctrl.data }}" alt=OK class="thumbnail m-b-3"/> <span class="icon icon-pdf icon-xxl" ng-if="!$ctrl.isImage || !$ctrl.data"></span> <p class="m-b-2 text-ellipsis">{{ $ctrl.fileName }}</p> <p class="m-t-2 m-b-0"> <a href="" ng-click=$ctrl.onCancel()> <span ng-if=$ctrl.cancelText ng-bind=$ctrl.cancelText></span> <span ng-if=!$ctrl.cancelText class="icon icon-upload m-r-0"></span> </a> </p> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.FileValidationService=n}return r(e,[{key:"$onChanges",value:function(e){e.file&&e.file.currentValue&&(this.fileName=e.file.currentValue.name)}},{key:"onManualReupload",value:function(){var e=this.$element[0].querySelector(".tw-droppable-input-reupload").files[0];this.onFileCapture(e)}}]),e}();i.$inject=["$element","FileValidationService"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(68)),a=s(n(74)),l=s(n(75));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.camera-capture",[]).service("CameraCaptureScreenHandler",a.default).service("CameraOverlayHandler",l.default).component("twCameraCapture",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(69)),i=a(n(71));function a(e){return e&&e.__esModule?e:{default:e}}n(72);var l={controller:r.default,template:i.default,bindings:{overlay:"@",direction:"@",onCancel:"&",onCapture:"&",testMode:"@"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(70),l=(r=a)&&r.__esModule?r:{default:r};var s=function(){function e(t,n,r,i,a,l,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.$attrs=a,this.$scope=n,this.$log=l,this.$q=i,this.$window=r,this.CameraCaptureScreenHandler=s}return i(e,[{key:"$onInit",value:function(){var e;this.showVideoPreview=!1,this.showVideoInPreview=!0,this.showCaptureInPreview=!1,this.mediaStream=null,this.captureButtonDisabled=!0,this.screenHeight=0,this.screenWidth=0,this.videoResHeight=0,this.videoResWidth=0,this.overlayWidth=0,this.overlayHeight=0,this.overlayXOffset=0,this.overlayYOffset=0,this.displayCanvasXOffset=0,this.displayCanvasYOffset=0,this.videoXOffset=0,this.videoHeight=100,this.videoWidth=100,this.isVideoHorizontallyFlipped=!1,this.hasGetUserMedia()||this.$log.warn("getUserMedia() is not supported by your browser"),this.overlayLoaded=!1,this.overlayElement=this.$element[0].querySelector("#video-preview #overlay"),this.displayCanvas=this.$element[0].querySelector("#video-preview #display-canvas"),this.uploadCanvas=this.$element[0].querySelector("#video-preview #upload-canvas"),this.videoPreviewElement=this.$element[0].querySelector("#video-preview"),this.video=this.$element[0].querySelector("#video-preview #video"),this.video.addEventListener("play",(e=this,function(){var t=this;function n(t){e.videoResHeight=t.videoHeight,e.videoResWidth=t.videoWidth,e.$log.debug("playing updated video : "+e.videoResHeight+" x "+e.videoResWidth);var n=e.CameraCaptureScreenHandler.getVideoSpecifications(e.screenHeight,e.screenWidth,e.videoResHeight,e.videoResWidth),r=n.videoHeightInPercentage,i=n.videoWidthInPercentage;e.isVideoHorizontallyFlipped&&i>100&&(e.videoXOffset=100-i),e.videoHeight=r,e.videoWidth=i}e.captureButtonDisabled=!1,this&&(0===this.videoHeight||0===this.videoWidth?this.addEventListener("playing",function t(){var r=this;e.$scope.$applyAsync(function(){e.videoPlaying=!0,n(r)}),this.removeEventListener("playing",t)}):e.$scope.$applyAsync(function(){e.videoPlaying=!0,n(t)}))})),this.$window.addEventListener("orientationchange",function(e){return function(){e.$window.addEventListener("resize",function t(){e.showVideoPreview&&(e.$log.debug("Orientation change detected, recompute screen"),e.startLiveCamFlow()),e.$window.removeEventListener("resize",t)})}}(this),!1),this.testMode&&"true"===this.testMode.toLowerCase()||this.startLiveCamFlow()}},{key:"startLiveCamFlow",value:function(){var e=this;this.$log.debug("----- Live cam flow start -----"),this.captureButtonDisabled=!0,this.videoPlaying=!1,this.video.pause(),this.tryAcquireFullScreen().then(function(){e.$log.debug("Acquired full screen.")}).catch(function(){e.$log.warn("Failed to acquire full screen.")}).finally(function(){e.setScreenDimensions(),e.overlayLoaded||(0===e.overlayElement.naturalHeight||0===e.overlayElement.naturalWidth?(e.$log.debug("Overlay has not loaded after full screen is acquired"),e.overlayElement.addEventListener("load",o(e))):(e.$log.debug("Overlay has loaded before full screen is acquired"),o(e).call())),e.tryAcquireMediaStream().then(function(t){e.onVideoStreamAcquisition(t)}).catch(function(t){e.$log.error(t),e.onCancelBtnClick()})})}},{key:"tryAcquireFullScreen",value:function(){return l.default.enabled?l.default.isFullscreen?this.$q.resolve():l.default.request(this.videoPreviewElement):this.$q.reject()}},{key:"onVideoStreamAcquisition",value:function(e){this.mediaStream=e,this.video.srcObject!==this.mediaStream&&(this.video.srcObject=this.mediaStream),this.showVideoPreview=!0,this.showVideoInPreview=!0,this.showCaptureInPreview=!1,this.video.play()}},{key:"tryAcquireMediaStream",value:function(){var e=this;return this.mediaStream?this.$q.resolve(this.mediaStream):this.$window.navigator.mediaDevices.enumerateDevices().then(function(t){var n=t.filter(function(e){return"videoinput"===e.kind}).length;return e.$log.debug("Found "+n+" video devices."),1!==n&&e.direction?e.direction=e.direction.toLowerCase():e.direction="user","user"===e.direction&&(e.$log.debug("Changed user video to mirror"),e.video.classList.add("display-mirror"),e.overlayElement.classList.add("display-mirror"),e.isVideoHorizontallyFlipped=!0),e.cameraConstraints={video:{width:{min:640,ideal:1280,max:1280},facingMode:{ideal:e.direction}},audio:!1},e.$window.navigator.mediaDevices.getUserMedia(e.cameraConstraints)})}},{key:"setScreenDimensions",value:function(){this.$log.debug("screen : "+this.$window.screen.height+" x "+this.$window.screen.width),this.$log.debug("screen available : "+this.$window.screen.availHeight+" x "+this.$window.screen.availWidth),this.$log.debug("screen inner : "+this.$window.innerHeight+" x "+this.$window.innerWidth),this.screenHeight=this.$window.innerHeight,this.screenWidth=this.$window.innerWidth,this.$log.debug("**screen resolved** : "+this.screenHeight+" x "+this.screenWidth)}},{key:"closeVideoStream",value:function(){l.default.enabled&&l.default.exit(),this.video.srcObject=null,this.mediaStream&&(this.mediaStream.getTracks().forEach(function(e){return e.stop()}),this.mediaStream=null),this.showVideoPreview=!1,this.captureButtonDisabled=!0}},{key:"onCancelBtnClick",value:function(){this.closeVideoStream(),this.onCancel()}},{key:"onCaptureBtnClick",value:function(){var e=this.CameraCaptureScreenHandler.getCanvasSpecifications(this.videoHeight,this.videoWidth,this.screenHeight,this.screenWidth,this.videoResHeight,this.videoResWidth),t=e.height,n=e.width,r=e.yOffset,i=e.xOffset,a=e.paintHeight,l=e.paintWidth;this.displayCanvasYOffset=r,this.displayCanvasXOffset=i,this.displayCanvas.width=n,this.displayCanvas.height=t;var s=this.displayCanvas.getContext("2d");s.resetTransform(),s.drawImage(this.video,0,0,l,a,0,0,n,t),this.showCaptureInPreview=!0,this.showVideoInPreview=!1}},{key:"onRecaptureBtnClick",value:function(){this.startLiveCamFlow()}},{key:"onUploadBtnClick",value:function(){var e;this.uploadCanvas.width=this.displayCanvas.width,this.uploadCanvas.height=this.displayCanvas.height,this.uploadCanvas.getContext("2d").drawImage(this.displayCanvas,0,0,this.displayCanvas.width,this.displayCanvas.height),this.uploadCanvas.toBlob((e=this,function(t){l.default.enabled&&l.default.exit(),e.showVideoPreview=!1,e.closeVideoStream(),e.$scope.$applyAsync(function(){e.onCapture({file:t})})}),"image/png",1)}},{key:"setNgModel",value:function(e){if(void 0!==this.$attrs.ngModel){var t=this.$element.controller("ngModel");if(!t.$setViewValue)return;t.$setViewValue(e)}}},{key:"hasGetUserMedia",value:function(){return!(!this.$window.navigator.mediaDevices||!this.$window.navigator.mediaDevices.getUserMedia)}},{key:"getOverlayStyles",value:function(){return{left:this.overlayXOffset+"px",top:this.overlayYOffset+"px",width:this.overlayWidth+"px",height:this.overlayHeight+"px"}}},{key:"getVideoStyles",value:function(){return{left:this.videoXOffset+"%",height:this.videoHeight+"%",width:this.videoWidth+"%"}}},{key:"getCanvasStyles",value:function(){return{left:this.displayCanvasXOffset+"px",top:this.displayCanvasYOffset+"px"}}}]),e}();function o(e){return function(){if(e.overlay){var t=e.CameraCaptureScreenHandler.getOverlaySpecifications(e.screenHeight,e.screenWidth,e.overlayElement.naturalHeight,e.overlayElement.naturalWidth),n=t.height,r=t.width,i=t.yOffset,a=t.xOffset;e.$scope.$applyAsync(function(){e.overlayYOffset=i,e.overlayXOffset=a,e.overlayHeight=n,e.overlayWidth=r,e.overlayLoaded=!0})}}}s.$inject=["$element","$scope","$window","$q","$attrs","$log","CameraCaptureScreenHandler"],t.default=s},function(e,t,n){
/*!
* screenfull
* v4.2.0 - 2019-04-01
* (c) Sindre Sorhus; MIT License
*/
!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,i=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,a={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)a[n[0][r]]=e[r];return a}return!1}(),a={change:i.fullscreenchange,error:i.fullscreenerror},l={request:function(e){return new Promise(function(n){var a=i.requestFullscreen,l=function(){this.off("change",l),n()}.bind(this);e=e||t.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?e[a]():e[a](r?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",l)}.bind(this))},exit:function(){return new Promise(function(e){if(this.isFullscreen){var n=function(){this.off("change",n),e()}.bind(this);t[i.exitFullscreen](),this.on("change",n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=a[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=a[e];r&&t.removeEventListener(r,n,!1)},raw:i};i?(Object.defineProperties(l,{isFullscreen:{get:function(){return Boolean(t[i.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[i.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(t[i.fullscreenEnabled])}}}),n?(e.exports=l,e.exports.default=l):window.screenfull=l):n?e.exports=!1:window.screenfull=!1}()},function(e,t){e.exports='<div> <div id=video-preview ng-show=$ctrl.showVideoPreview class="w-100 h-100 fixed-top bg-dark"> <img id=overlay ng-show="$ctrl.showVideoInPreview && $ctrl.overlayLoaded && $ctrl.videoPlaying" ng-style=$ctrl.getOverlayStyles() ng-src={{$ctrl.overlay}} class="fixed zindex-video-overlay"/> <video id=video ng-show=$ctrl.showVideoInPreview ng-style=$ctrl.getVideoStyles() class="fixed-top zindex-video" playsinline></video> <canvas id=display-canvas ng-show=$ctrl.showCaptureInPreview ng-style=$ctrl.getCanvasStyles() class="fixed zindex-video"></canvas> <canvas id=upload-canvas ng-show=false class=fixed></canvas> <label class="fixed-bottom camera-ctrl-bar"> <span class=camera-ctrl-box-small> <span id=video-cancel class="camera-ctrl-btn-small camera-ctrl-btn-cancel icon icon-close" ng-if=$ctrl.showVideoInPreview ng-click=$ctrl.onCancelBtnClick()></span> <span id=capture-cancel class="camera-ctrl-btn-small camera-ctrl-btn-cancel icon icon-close" ng-if=$ctrl.showCaptureInPreview ng-click=$ctrl.onRecaptureBtnClick()></span> </span> <span class=camera-ctrl-box-big> <span id=video-confirm class=camera-ctrl-btn-big ng-if=$ctrl.showVideoInPreview ng-click="!$ctrl.captureButtonDisabled && $ctrl.onCaptureBtnClick()"> <span class=camera-ctrl-btn-big-inner></span> </span> </span> <span class=camera-ctrl-box-small> <span id=capture-confirm class="camera-ctrl-btn-small camera-ctrl-btn-confirm icon icon-check" ng-if=$ctrl.showCaptureInPreview ng-click=$ctrl.onUploadBtnClick()></span> </span> </label> </div> </div> '},function(e,t,n){var r=n(73);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(6)(!1)).push([e.i,".camera-ctrl-box-small{display:inline-block;height:60px;width:60px;margin-left:10px;margin-right:10px;vertical-align:bottom}.camera-ctrl-box-big{display:inline-block;height:84px;width:84px;margin-left:36px;margin-right:36px;vertical-align:bottom}.camera-ctrl-btn-cancel{color:red;background-color:#f8f9fa}.camera-ctrl-btn-confirm{color:green;background-color:#f8f9fa}.camera-ctrl-btn-small{display:inline-block;height:60px;width:60px;padding:4px;margin-bottom:0;font-size:52px;line-height:1;text-align:center;white-space:nowrap;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-image:none;border-radius:50%}.camera-ctrl-btn-big-inner{height:64px;width:64px;padding:0;background-color:#f8f9fa;border:1px solid;border-radius:50%;border-color:#f8f9fa}.camera-ctrl-btn-big,.camera-ctrl-btn-big-inner{display:inline-block;margin-bottom:0;vertical-align:middle}.camera-ctrl-btn-big{height:84px;width:84px;padding:2px;-ms-touch-action:manipulation;touch-action:manipulation;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#343a40;background-image:none;border:8px solid;border-radius:50%;border-color:#f8f9fa}.fixed{position:fixed;z-index:1030}.fixed-top{top:0}.fixed-bottom,.fixed-top{position:fixed;right:0;left:0;z-index:1030}.fixed-bottom{bottom:0}.camera-ctrl-bar{padding-top:10px;padding-bottom:10px;z-index:1032!important}.bg-dark{background-color:#343a40!important}.zindex-video{z-index:1030!important}.display-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zindex-video-overlay{z-index:1031!important}.w-100{width:100%!important}.h-100{height:100%!important}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$log=t,this.CameraOverlayHandler=n}return r(e,[{key:"getVideoSpecifications",value:function(e,t,n,r){this.$log.debug("Computing video specs");var i=100,s=100;if(a(e,t,n,r))this.$log.debug("(video) Portrait narrow screen"),i=parseInt(n/r/(e/t)*100,10);else if(l(e,t,n,r)){this.$log.debug("(video) Landscape narrow screen"),s=parseInt(r/n/(t/e)*100,10)}return this.$log.debug("video width : "+s),this.$log.debug("video height : "+i),{videoHeightInPercentage:i,videoWidthInPercentage:s}}},{key:"getCanvasSpecifications",value:function(e,t,n,r,i,s){this.$log.debug("Computing canvas specs"),this.$log.debug("video width : "+t),this.$log.debug("video height : "+e),this.$log.debug("screen width : "+r),this.$log.debug("screen height : "+n),this.$log.debug("video res width : "+s),this.$log.debug("video res height : "+i);var o=null;a(n,r,i,s)?(this.$log.debug("(canvas) Portrait narrow screen"),o=function(e,t,n,r,i,a){return{height:n,width:r,yOffset:0,xOffset:0,paintHeight:parseInt(i/(e/100),10),paintWidth:a}}(e,0,n,r,i,s)):l(n,r,i,s)?(this.$log.debug("(canvas) Landscape narrow screen"),o=function(e,t,n,r,i,a){return{height:n,width:r,yOffset:0,xOffset:0,paintHeight:i,paintWidth:parseInt(a/(t/100),10)}}(0,t,n,r,i,s)):(this.$log.debug("(canvas) Normal screen"),o=function(e,t,n,r){var i=e/n,a=t/r,l=0,s=0,o=0,c=0;i===a?(l=t,s=e,o=0,c=0):i>a?(l=t,s=parseInt(a*n,10),o=0,c=parseInt((e-s)/2,10)):(l=parseInt(i*r,10),s=e,o=parseInt((t-l)/2,10),c=0);return{height:s,width:l,yOffset:c,xOffset:o,paintHeight:n,paintWidth:r}}(n,r,i,s));var c=o,u=c.height,d=c.width,f=c.yOffset,h=c.xOffset,p=c.paintHeight,g=c.paintWidth;return this.$log.debug("canvas width : "+d),this.$log.debug("canvas height : "+u),this.$log.debug("canvas x-offset : "+h),this.$log.debug("canvas y-offset : "+f),this.$log.debug("canvas width to paint : "+g),this.$log.debug("canvas height to paint : "+p),o}},{key:"getOverlaySpecifications",value:function(t,n,r,i){var a=e.getOverlayContainer(t,n),l=a.height,s=a.width,o=a.yOffset,c=a.xOffset,u=this.CameraOverlayHandler.getOverlaySpecificationsWrtContainer(l,s,r,i);return{height:u.height,width:u.width,yOffset:o+u.yOffset,xOffset:c+u.xOffset}}}],[{key:"getOverlayContainer",value:function(t,n){if(e.isScreenPortrait(t,n))return{height:n,width:n,yOffset:(t-n)/2.5,xOffset:0};var r=.9*t;return{height:r,width:r,yOffset:0,xOffset:(n-r)/2}}},{key:"isScreenPortrait",value:function(e,t){return e>=t}},{key:"isScreenLandscape",value:function(e,t){return t>=e}}]),e}();function a(e,t,n,r){return i.isScreenPortrait(e,t)&&n/r>e/t}function l(e,t,n,r){return i.isScreenLandscape(e,t)&&r/n>t/e}i.$inject=["$log","CameraOverlayHandler"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.overlayXMargin=.075,this.overlayYMargin=.075}return r(e,[{key:"getOverlaySpecificationsWrtContainer",value:function(e,t,n,r){var i=n/r,a=t-2*t*this.overlayXMargin,l=e-2*e*this.overlayYMargin,s=void 0,o=void 0;return a*i>=l?s=(o=l)/i:o=(s=a)*i,{height:o,width:s,yOffset:(e-o)/2,xOffset:(t-s)/2}}}]),e}();i.$inject=[],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(77));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.button",[]).component("twUploadButton",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(78)),i=a(n(79));function a(e){return e&&e.__esModule?e:{default:e}}var l={template:r.default,controller:i.default,bindings:{name:"<",label:"<",isSecondary:"<",small:"<",block:"<",accept:"<",model:"<",multiple:"<",disabled:"<",onClick:"&",onCapture:"&"}};t.default=l},function(e,t){e.exports='<label class=btn ng-click=$ctrl.onButtonClick() ng-class="{ \'disabled\': $ctrl.disabled,\n              \'btn-primary\': !$ctrl.isSecondary,\n              \'btn-default\': $ctrl.isSecondary,\n              \'btn-block\': $ctrl.block,\n              \'btn-sm\': $ctrl.small\n            }"> <span ng-if=$ctrl.label ng-bind=$ctrl.label></span> <span ng-if=!$ctrl.label class="icon icon-upload m-r-0"></span> <span ng-if=!$ctrl.isLiveCameraUpload> <input ng-if=!$ctrl.multiple tw-file-input type=file accept="{{ $ctrl.accept }}" class="tw-droppable-input hidden" ng-disabled=$ctrl.ngDisabled name="{{ $ctrl.name }}" on-user-input=$ctrl.onButtonCapture() ng-model=$ctrl.model /> <input ng-if=$ctrl.multiple tw-file-input type=file accept="{{ $ctrl.accept }}" class="tw-droppable-input hidden" ng-disabled=$ctrl.ngDisabled name="{{ $ctrl.name }}" on-user-input=$ctrl.onButtonCapture() ng-model=$ctrl.model multiple=multiple /> </span> </label>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t}return r(e,[{key:"onButtonClick",value:function(){this.onClick&&this.onClick()}},{key:"onButtonCapture",value:function(){var e=this.$element[0].querySelector(".tw-droppable-input").files;this.onCapture({files:e})}}]),e}();i.$inject=["$element"],t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(81));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.camera-button",[]).component("twCameraButton",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(82)),i=a(n(83));function a(e){return e&&e.__esModule?e:{default:e}}var l={template:r.default,controller:i.default,bindings:{label:"<",disabled:"<",onClick:"&",onCapture:"&"}};t.default=l},function(e,t){e.exports='<label class="btn btn-primary" ng-click=$ctrl.onButtonClick() ng-class="{ \'disabled\': $ctrl.disabled }"> <span ng-if=$ctrl.label ng-bind=$ctrl.label></span> <span ng-if=!$ctrl.label class="icon icon-upload m-r-0"></span> </label> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"onButtonClick",value:function(){this.onClick&&this.onClick()}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t[0].addEventListener("change",function(){n.onUserInput&&"function"==typeof n.onUserInput&&n.onUserInput()})};r.$inject=["$element"],t.default=function(){return{restrict:"A",controller:r,controllerAs:"$ctrl",bindToController:!0,scope:{onUserInput:"&"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),i=s(n(86)),a=s(n(14)),l=s(n(11));function s(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.styleguide.forms.upload.multi",[l.default,a.default]).component("twMultiUpload",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(87)),i=a(n(88));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{ngDisabled:"<",ngModel:"=",ngChange:"&",name:"@",label:"@",placeholder:"@",icon:"@",buttonText:"@",addMoreButtonText:"@",droppingText:"@",processingText:"@",successText:"@",failureText:"@",tooLargeMessage:"@",validationMessages:"<",onStart:"&",onFinish:"&",onFailure:"&",responseErrorExtractor:"&",accept:"@",httpOptions:"<",maxSize:"<"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.$attrs=r,this.files=[],this.model=[],this.$timeout=i}return r(e,[{key:"$onChanges",value:function(e){e.icon&&(this.viewIcon=e.icon.currentValue?e.icon.currentValue:"upload")}},{key:"onFileCapture",value:function(e){var t=this;if(!this.ngDisabled){if(!e)throw new Error("Could not retrieve file");0!==e.length&&(this.onStart&&this.areAllFilesProcessed()&&this.onStart(),this.files=[].concat(i(this.files),i(e)),this.$timeout(function(){var e=t.$element[0].querySelector(".processing-list");e&&(e.scrollTop=e.scrollHeight)},600))}}},{key:"onProcessSuccess",value:function(e,t,n,r){var i=this.httpOptions?"id":"dataUrl";this.files[e][i]=this.httpOptions?r:n;var a=this.files.map(function(e){return e[i]}).filter(function(e){return!!e});this.setNgModel(a),this.onFinish&&this.areAllFilesProcessed()&&this.onFinish()}},{key:"areAllFilesProcessed",value:function(){var e=this.httpOptions?"id":"dataUrl";return!this.files.some(function(t){return null==t[e]&&null==t.error})}},{key:"onProcessFailure",value:function(e,t,n){this.files[e].error=n,this.onFailure&&this.onFailure({error:n}),this.onFinish&&this.areAllFilesProcessed()&&this.onFinish()}},{key:"onProcessCancel",value:function(e){var t=this.httpOptions?"id":"dataUrl";this.files.splice(e,1);var n=this.files.map(function(e){return e[t]}).filter(function(e){return!!e});this.setNgModel(n)}},{key:"onDragEnter",value:function(){this.isDroppable=!0}},{key:"onDragLeave",value:function(){this.isDroppable=!1}},{key:"onDrop",value:function(e){this.isDroppable=!1,this.onFileCapture(e)}},{key:"reset",value:function(){this.setNgModel(null)}},{key:"setNgModel",value:function(e){if(void 0!==this.$attrs.ngModel){var t=this.$element.controller("ngModel");if(!t.$setViewValue)return;t.$setViewValue(e)}}}]),e}();a.$inject=["$element","$scope","$attrs","$timeout"],t.default=a},function(e,t){e.exports='<div class="well droppable p-r-0 p-l-0 p-t-1 p-b-0 multi-upload" tw-drop=$ctrl.onDrop(files) tw-drag-enter=$ctrl.onDragEnter() tw-drag-leave=$ctrl.onDragLeave() ng-class="{\'droppable-dropping\': $ctrl.isDroppable}"> <div class="droppable-dropping-card droppable-card"> <tw-upload-dropping dropping-text=$ctrl.droppingText></tw-upload-dropping> </div> <div ng-if="$ctrl.files.length === 0" class="empty-processing-list droppable-default-card text-xs-center p-t-3"> <div class=empty-screen> <div class="circle circle-sm m-b-3 m-t-3"> <img ng-if=$ctrl.helpImage ng-src={{$ctrl.helpImage}} alt={{$ctrl.label}} class="thumbnail text-xs-center"/> <span ng-if=!$ctrl.helpImage class="icon icon-{{$ctrl.viewIcon}} icon-xxl"></span> </div> <h4 ng-if=$ctrl.label class=m-b-1>{{$ctrl.label}}</h4> <p ng-if=$ctrl.placeholder class="p-l-3 p-r-3"> {{$ctrl.placeholder}} </p> </div> </div> <div ng-if="$ctrl.files.length > 0" class="droppable-default-card p-l-3 processing-list"> <div ng-repeat="(index, file) in $ctrl.files" class=p-r-3 ng-class="{\'last-item\': $last}"> <tw-upload-processing-mini name=$ctrl.name file=file on-success="$ctrl.onProcessSuccess(index, file, dataUrl, id, response)" on-failure="$ctrl.onProcessFailure(index, file, error)" on-cancel=$ctrl.onProcessCancel(index) max-size=$ctrl.maxSize accept=$ctrl.accept http-options=$ctrl.httpOptions processing-message=$ctrl.processingText success-message=$ctrl.successText error-message=$ctrl.failureText validation-messages=$ctrl.validationMessages too-large-message=$ctrl.tooLargeMessage cancel-text=$ctrl.cancelText response-error-extractor=$ctrl.responseErrorExtractor({error})></tw-upload-processing-mini> </div> </div> <div class=m-a-3> <tw-upload-button ng-if=!$ctrl.isLiveCameraUpload name=$ctrl.name label="$ctrl.files.length === 0 ? $ctrl.buttonText : $ctrl.addMoreButtonText" is-secondary="$ctrl.files.length > 0" accept=$ctrl.accept model=$ctrl.inputFile disabled=$ctrl.ngDisabled on-capture=$ctrl.onFileCapture(files) block=true small=true multiple=true></tw-upload-button> </div> </div> '},function(e,t,n){"use strict";function r(e,t,n){return{restrict:"A",controller:function(){},link:function(r,i,a){r.counter=0,i[0].addEventListener("drop",function(i){var l=e(a.twDrop),s=function(){l(r,{files:i.dataTransfer.files})};if(t.$$phase)try{s()}catch(e){n(e)}else r.$apply(s);i.preventDefault(),r.counter=0},!1),i[0].addEventListener("dragover",function(e){e.preventDefault()},!1)}}}Object.defineProperty(t,"__esModule",{value:!0}),r.$inject=["$parse","$rootScope","$exceptionHandler"],t.default=r},function(e,t,n){"use strict";function r(e,t){return{restrict:"A",require:"twDrop",link:function(n,r,i){r[0].addEventListener("dragenter",function(r){var a=e(i.twDragEnter);if(n.counter++,n.counter>=1){var l=function(){a(n,{$event:r})};t.$$phase?n.$evalAsync(l):n.$apply(l)}r.preventDefault()},!1)}}}Object.defineProperty(t,"__esModule",{value:!0}),r.$inject=["$parse","$rootScope"],t.default=r},function(e,t,n){"use strict";function r(e,t){return{restrict:"A",require:"twDrop",link:function(n,r,i){r[0].addEventListener("dragleave",function(r){var a=e(i.twDragLeave);if(n.counter--,n.counter<=0){var l=function(){a(n,{$event:r})};t.$$phase?n.$evalAsync(l):n.$apply(l)}r.preventDefault()},!1)}}}Object.defineProperty(t,"__esModule",{value:!0}),r.$inject=["$parse","$rootScope"],t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(93)),i=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,require:{$ngModel:"ngModel"},bindings:{ngModel:"=",required:"@",ngRequired:"<",disabled:"@",ngDisabled:"<",locale:"@",twLocale:"<",min:"@",ngMin:"<",max:"@",ngMax:"<",modelType:"@"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=t.controller("ngModel");if(this.DateService=i,this.initialisedWithDate=!1,this.ngModel)this.applyDateModelIfValidOrThrowError(),this.initialisedWithDate=!0;else{if(this.modelType){if(this.modelType!==l&&this.modelType!==s)throw new Error("Invalid modelType, should be "+l+" or "+s);this.dateModelType=this.modelType}else this.dateModelType=s;this.day=null,this.month=0,this.year=null}this.setDateRequired(),this.setDateDisabled(),this.setDateLocale(),this.setMonths(),this.addValidators(a),this.addWatchers(r,a),function(e){var t=e[0],n=t.querySelector("input[name=day]"),r=t.querySelector("input[name=year]");n.addEventListener("focus",function(){t.dispatchEvent(new CustomEvent("focus"))}),r.addEventListener("focus",function(){t.dispatchEvent(new CustomEvent("focus"))})}(t),function(e,t){var n=void 0,r=e[0],i=r.querySelector("input[name=day]"),a=r.querySelector("input[name=year]");i.addEventListener("blur",function(){!0&&n&&(t.$setTouched(),r.dispatchEvent(new CustomEvent("blur")))}),a.addEventListener("blur",function(){n=!0,t.$setTouched(),r.dispatchEvent(new CustomEvent("blur"))})}(t,a)}return r(e,[{key:"applyDateModelIfValidOrThrowError",value:function(){if(!c(this.ngModel))throw new Error("date model passed should either be instance of Date or valid ISO8601 string");this.dateModelType="string"==typeof this.ngModel?l:s,this.explodeDateModel(this.ngModel)}},{key:"setMonths",value:function(){this.dateMonths=this.getMonthsBasedOnIntlSupportForLocale()}},{key:"setDateRequired",value:function(){this.dateRequired=void 0!==this.ngRequired?this.ngRequired:void 0!==this.required}},{key:"setDateDisabled",value:function(){this.dateDisabled=void 0!==this.ngDisabled?this.ngDisabled:void 0!==this.disabled}},{key:"setDateLocale",value:function(){this.locale||(this.locale=a),this.monthBeforeDay=this.DateService.isMonthBeforeDay(this.locale)}},{key:"explodeDateModel",value:function(e){var t="string"==typeof e?new Date(e):e;this.day=t.getUTCDate(),this.month=t.getUTCMonth(),this.year=t.getUTCFullYear()}},{key:"addValidators",value:function(e){var t=this;e.$validators.min=function(e){var n=d(t.ngMin,t.min),r=f(e);return!n||!r||r>=n},e.$validators.max=function(e){var n=d(t.ngMax,t.max),r=f(e);return!n||!r||r<=n}}},{key:"addWatchers",value:function(e,t){var n=this;e.$watch("$ctrl.day",function(e,r){e!==r&&n.initialisedWithDate&&t.$setDirty()}),e.$watch("$ctrl.month",function(e,r){e!==r&&(n.adjustLastDay(),t.$setTouched(),n.initialisedWithDate&&t.$setDirty())}),e.$watch("$ctrl.year",function(e,r){e!==r&&n.initialisedWithDate&&t.$setDirty()}),e.$watch("$ctrl.ngModel",function(e,r){e!==r&&c(n.ngModel)&&(t.$setDirty(),n.explodeDateModel(n.ngModel))}),e.$watch("$ctrl.ngRequired",function(e,t){e!==t&&n.setDateRequired()}),e.$watch("$ctrl.ngDisabled",function(e,t){e!==t&&n.setDateDisabled()}),e.$watch("$ctrl.locale",function(e,t){e!==t&&(n.setDateLocale(),n.setMonths())})}},{key:"getMonthsBasedOnIntlSupportForLocale",value:function(){return function(e){return e.map(function(e,t){return{value:t,label:e}})}(this.DateService.getMonthNamesForLocale(this.locale))}},{key:"combineDate",value:function(){return this.DateService.getUTCDateFromParts(Number(this.year),Number(this.month),Number(this.day))}},{key:"updateDateModelAndValidationClasses",value:function(){if(this.adjustLastDay(),e=this.year,t=this.month,n=this.day,o(e)&&o(n)&&(o(t)||"string"==typeof(r=t)&&!isNaN(Number(r)))){var e,t,n,r,i=this.combineDate();if(this.dateModelType===l){var a=i.toISOString(),s=a.substring(0,a.indexOf("T"));this.$ngModel.$setViewValue(s)}else this.$ngModel.$setViewValue(i)}else this.$ngModel.$setViewValue(null)}},{key:"adjustLastDay",value:function(){var e=Number(this.day),t=Number(this.month),n=Number(this.year),r=this.DateService.getLastDayOfMonth(n,t);e>r&&(this.day=parseInt(r,10))}}]),e}(),a="en",l="string",s="object";function o(e){return"number"==typeof e}function c(e){return u(e)||"string"==typeof(t=e)&&u(new Date(t));var t}function u(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}function d(e,t){var n=e||t;return!!n&&(!!u(n="string"==typeof n?new Date(n):n)&&n)}function f(e){return"string"==typeof e?new Date(e):e}i.$inject=["$element","$log","$scope","TwDateService"],t.default=i},function(e,t){e.exports='<div class=row> <div class="col-sm-5 tw-date-month-column" ng-if=$ctrl.monthBeforeDay> <label class=sr-only>Month</label> <tw-select name=month class=tw-date-month ng-model=$ctrl.month ng-change=$ctrl.updateDateModelAndValidationClasses() ng-required=$ctrl.dateRequired ng-disabled=$ctrl.dateDisabled options=$ctrl.dateMonths> </tw-select> </div> <div class="col-sm-3 tw-date-day-column"> <label class=sr-only>Day</label> <input type=number name=day class="form-control tw-date-day" ng-model=$ctrl.day ng-change=$ctrl.updateDateModelAndValidationClasses() placeholder=DD min=1 ng-min=1 ng-disabled=$ctrl.dateDisabled ng-required=$ctrl.dateRequired tw-focusable/> </div> <div class="col-sm-5 tw-date-month-column" ng-if=!$ctrl.monthBeforeDay> <label class=sr-only>Month</label> <tw-select name=month class=tw-date-month ng-model=$ctrl.month ng-change=$ctrl.updateDateModelAndValidationClasses() ng-required=$ctrl.dateRequired ng-disabled=$ctrl.dateDisabled options=$ctrl.dateMonths> </tw-select> </div> <div class="col-sm-4 tw-date-year-column"> <label class=sr-only>Year</label> <input type=number name=year class="form-control tw-date-year" placeholder=YYYY ng-model=$ctrl.year ng-change=$ctrl.updateDateModelAndValidationClasses() ng-min=$ctrl.min.getFullYear() ng-max=$ctrl.max.getFullYear() maxlength=4 ng-maxlength=4 ng-disabled=$ctrl.dateDisabled ng-required=$ctrl.dateRequired tw-focusable/> </div> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var l,s=e[Symbol.iterator]();!(r=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(){var e=this;function t(e,t,n){var r=void 0,i=c(t);return h[i]&&(r=h[i][e]),r?"short"===n?r.substr(0,3):"narrow"===n?r.substr(0,1):r:null}function n(e,t,n){var r=c(t);return r&&f[r]&&("short"!==n||"ja"===r)?f[r][e]:null}function i(e,t){var n=c(t);return""+e+(d(p,e,n)||"")}function a(e,t){var n=c(t);return""+e+d(g,e,n)}function l(e,t,n){if(!e.toLocaleDateString)return null;var r=e.toLocaleDateString(t,n);return function(e){if(!e)return!0;if("ja"===c(e))return!1;return!0}(t)&&(r=r.replace(/[0-9]|\s|,|\./g,"")),r[0].toUpperCase()+r.substring(1)}function s(e){return!e||["narrow","short","long"].indexOf(e)<0?"long":e}function o(e){return function(e){try{return window.Intl.DateTimeFormat.supportedLocalesOf([e]).length>0}catch(e){return!1}}(e)?e:"en-GB"}function c(e){return e?e.substring(0,2):"en"}function u(e){return void 0!==m[e]?m[e]:" "}function d(e,t,n){return e[n]?e[n].exactMatch&&e[n].exactMatch[t]?e[n].exactMatch[t]:e[n].endsWith&&e[n].endsWith[t%10]?e[n].endsWith[t%10]:e[n].default:""}this.getLocaleDate=function(e){return e||(e=new Date),e.getDate()},this.getLocaleMonth=function(e){return e||(e=new Date),e.getMonth()},this.getLocaleFullYear=function(e){return e||(e=new Date),e.getFullYear()},this.getLocaleToday=function(){var t=new Date;return e.getUTCDateFromParts(e.getLocaleFullYear(t),e.getLocaleMonth(t),e.getLocaleDate(t))},this.getUTCDate=function(e){return e||(e=new Date),e.getUTCDate()},this.getUTCMonth=function(e){return e||(e=new Date),e.getUTCMonth()},this.getUTCFullYear=function(e){return e||(e=new Date),e.getUTCFullYear()},this.getUTCToday=function(){var t=new Date;return e.getUTCDateFromParts(e.getUTCFullYear(t),e.getUTCMonth(t),e.getUTCDate(t))},this.getLastDayOfMonth=function(t,n){return e.getUTCDateFromParts(t,n+1,0).getUTCDate()},this.getUTCDateFromParts=function(e,t,n,r,i,a){var l=new Date;return l.setUTCFullYear(e,t,n),l.setUTCHours(r||0),l.setUTCMinutes(i||0),l.setUTCSeconds(a||0),l.setUTCMilliseconds(0),l},this.getLocaleDateFromParts=function(e,t,n,r,i,a){var l=new Date;return l.setFullYear(e,t,n),l.setHours(r||0),l.setMinutes(i||0),l.setSeconds(a||0),l.setMilliseconds(0),l},this.getDatePartsFromIso=function(e){var t=0,n=0,r=parseInt(e.substr(0,4),10),i=parseInt(e.substr(5,2),10)-1,a=parseInt(e.substr(8,2),10),l=parseInt(e.substr(11,2),10)||0,s=parseInt(e.substr(14,2),10)||0,o=parseInt(e.substr(17,2),10)||0,c=e.substring(10).match("[+-]{1}[0-9]{2}(:[0-9]{2})?$");return c&&(t=parseInt(c[0].substr(1,2),10)||0,n=parseInt(c[0].substr(4,2),10)||0,"-"===c[0].substr(0,1)&&(t*=-1,n*=-1)),[r,i,a,l,s,o,t,n]},this.isIsoStringValid=function(e){return new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}(T[0-9]{2}:[0-9]{2}:[0-9]{2}(.[0-9]{3})?(Z|[+,-][0-9]{2}(:[0-9]{2})?))?$").test(e)},this.getUTCDateFromIso=function(t){if(!e.isIsoStringValid(t))return null;var n=e.getDatePartsFromIso(t),i=r(n,8),a=i[0],l=i[1],s=i[2],o=i[3],c=i[4],u=i[5],d=i[6],f=i[7];return e.getUTCDateFromParts(a,l,s,o+d,c+f,u)},this.getDayNamesForLocale=function(t,n){for(var r=[],i=s(n),a=0;a<7;a++)r.push(e.getDayNameForLocale(a,t,i));return r},this.getDayNameForLocale=function(n,r,i){var a=t(n,r,i);if(a)return a;var c=o(r),u=s(i);return l(e.getUTCDateFromParts(2006,0,n+1),c,{weekday:"long"})||t(n,"en-GB",u)},this.getMonthNamesForLocale=function(t,n){for(var r=[],i=s(n),a=0;a<12;a++)r.push(e.getMonthNameForLocale(a,t,i));return r},this.getMonthNameForLocale=function(t,r,i){var a=n(t,r,i);if(a)return a;var c=o(r),u=s(i),d=e.getUTCDateFromParts(2e3,t,15);return"short"===i?(t=l(d,c,{month:"long"})).length>4?t.slice(0,3):t:l(d,c,{month:"long"})||n(t,"en-GB",u)},this.getWeekday=function(t,n,r){return e.getUTCDateFromParts(t,n,r).getUTCDay()},this.isMonthBeforeDay=function(e){return"ja"===c(e)||e&&-1!==e.indexOf("US",e.length-2)},this.isYearBeforeMonth=function(e){return"ja"===c(e)},this.addYears=function(t,n){return e.addToDate(t,n,0,0)},this.addMonths=function(t,n){return e.addToDate(t,0,n,0)},this.addDays=function(t,n){return e.addToDate(t,0,0,n)},this.addToDate=function(t,n,r,i){return e.getUTCDateFromParts(t.getUTCFullYear()+n,t.getUTCMonth()+r,t.getUTCDate()+i)},this.getLocaleTimeString=function(t,n){return e.getTimeString(t.getHours(),t.getMinutes(),t.getSeconds(),n)},this.getTimeString=function(e,t,n,r){if(e<10&&(e="0"+e),t<10&&(t="0"+t),"en"===c(r)){var i=e>=12?"pm":"am";return 0===(e%=12)&&(e=12),"00"===t?""+e+i:e+":"+t+i}return e+":"+t},this.getYearAndMonthPresentation=function(t,n,r,i){var l=a(t,r),s=e.getMonthNameForLocale(n,r,i||"long"),o=u(c(r));return e.isYearBeforeMonth(r)?[l,s].join(o):[s,l].join(o)},this.getYearMonthDatePresentation=function(t,n,r,l,s){var o=a(t,l),d=e.getMonthNameForLocale(n,l,s||"long"),f=i(r,l),h=u(c(l));return e.isYearBeforeMonth(l)?[o,d,f].join(h):e.isMonthBeforeDay(l)?[d,f].join(h)+", "+o:[f,d,o].join(h)},this.getLocaleNow=function(){return new Date},this.getUTCNow=function(){var t=new Date;return e.getUTCDateFromParts(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},this.getLocaleDateString=function(t,n,r){if(!t.getFullYear)return t;var i=e.getLocaleNow();return e.getDateString(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getDay(),n,t-i,i.getFullYear(),r)},this.getUTCDateString=function(t,n,r){if(!t)return t;var i=e.getUTCNow();return e.getDateString(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCDay(),n,t-i,i.getUTCFullYear(),r)},this.getDateString=function(t,n,r,l,s,o,c,u,d,f,h){var p=Math.abs(d)<5184e5&&"long"!==h,g=!p,m=Math.abs(d)<6912e5||"long"===h,v=!m||"long"===h,y=!m&&f!==t||"long"===h?a(t,u):"",b=v?e.getMonthNameForLocale(n,u,"short"===h?"short":"long"):"",$=g?i(r,u):"",w=m?e.getDayNameForLocale(c,u,"short"===h?"short":"long"):"",M=p?e.getTimeString(l,s,o,u):"";return e.combineDateParts(y,b,$,M,w,u)},this.combineDateParts=function(t,n,r,i,a,l){var s=c(l),o=u(s),d=void 0;if(e.isYearBeforeMonth(l)?d=[t,n,r].join(o).trim():e.isMonthBeforeDay(l)?(d=[n,r].join(o).trim(),t&&(d+=", "+t)):d=[r,n,t].join(o).trim(),a){if("ja"===s)return(d+" "+i+" ("+a+")").trim();d=n||t?(a+", "+d).trim():(a+" "+d).trim()}return(d=d+" "+i).trim()};var f={en:["January","February","March","April","May","June","July","August","September","October","November","December"],ja:["1","2","3","4","5","6","7","8","9","10","11","12"]},h={en:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ja:["","","","","","",""]},p={en:{exactMatch:{11:"th",12:"th",13:"th"},endsWith:{1:"st",2:"nd",3:"rd"},default:"th"},de:{default:"."},fi:{default:"."},ja:{default:""}},g={ja:{default:""}},m={ja:""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(97);var a={template:((r=i)&&r.__esModule?r:{default:r}).default,bindings:{date:"<",locale:"<",format:"<"}};t.default=a},function(e,t){e.exports='<span tw-tool-tip data-original-title="{{ $ctrl.date | twDateFormat : $ctrl.locale : \'long\' }}"> <span class="hidden-xs hidden-sm"> {{ $ctrl.date | twDateFormat : $ctrl.locale : $ctrl.format }} </span> <span class="hidden-md hidden-lg hidden-xl"> {{ $ctrl.date | twDateFormat : $ctrl.locale : \'short\' }} </span> </span> '},function(e,t,n){"use strict";function r(e){return function(t,n,r){if(!t)return t;var i=t;if("string"==typeof i&&(i=e.getUTCDateFromIso(i),new RegExp("^[0-9]{4}-[0-9]{2}-[0-9]{2}$").test(t)))return e.getUTCDateString(i,n,r);return i?e.getLocaleDateString(i,n,r):t}}Object.defineProperty(t,"__esModule",{value:!0}),r.$inject=["TwDateService"],t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(100)),i=a(n(101));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,require:{$ngModel:"ngModel"},bindings:{type:"@",name:"@",id:"@",label:"@",placeholder:"@",step:"@",locale:"@",uploadAccept:"@",uploadIcon:"@",uploadTooLargeMessage:"@",options:"<",ngModel:"=",ngChange:"&",ngFocus:"&",ngBlur:"&",ngRequired:"<",ngDisabled:"<",ngMinlength:"<twMinlength",ngMaxlength:"<twMaxlength",ngMin:"<",ngMax:"<",ngPattern:"<",uploadOptions:"<",helpOptions:"<",textFormat:"<",validationAsync:"<",persistAsync:"<",onAsyncFailure:"&",onAsyncSuccess:"&",fileUploadSource:"<",cameraOptions:"<"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=void 0,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$element=t,this.element=t[0],i=this}return r(e,[{key:"$onInit",value:function(){this.$ngModel=this.$element.controller("ngModel"),this.addValidators(),this.uploadOptions||(this.uploadOptions={})}},{key:"change",value:function(){this.$ngModel.$setDirty(),this.$ngModel.$setViewValue(this.internalModel)}},{key:"focus",value:function(){this.element.dispatchEvent(new CustomEvent("focus"))}},{key:"blur",value:function(){this.$ngModel.$setTouched(),this.element.dispatchEvent(new CustomEvent("blur"))}},{key:"onAsyncUploadSuccess",value:function(e,t){i.onAsyncSuccess&&i.onAsyncSuccess({response:t})}},{key:"onAsyncUploadFailure",value:function(e){i.onAsyncFailure&&i.onAsyncFailure({response:e})}},{key:"getAutocompleteStatus",value:function(){return this.helpOptions&&this.helpOptions.message?"disabled":"on"}},{key:"addValidators",value:function(){var e=this,t=this.$ngModel;t.$validators.required=function(t,n){return!(t||n)||!e.ngRequired},t.$validators.minlength=function(t,n){var r=t||n;return"text"!==e.type||!e.ngMinlength||(!r||r.length>=e.ngMinlength)},t.$validators.maxlength=function(t,n){var r=t||n;return"text"!==e.type||!e.ngMaxlength||(!r||r.length<=e.ngMaxlength)},t.$validators.min=function(t,n){var r=t||n;return void 0===e.ngMin||("number"==typeof r&&"number"==typeof e.ngMin?r>=e.ngMin:"date"===e.type&&"string"==typeof r&&"string"==typeof e.ngMin?r>=e.ngMin:!("date"===e.type&&r instanceof Date&&e.ngMin instanceof Date)||r>=e.ngMin)},t.$validators.max=function(t,n){var r=t||n;return void 0===e.ngMax||("number"==typeof r&&"number"==typeof e.ngMax?r<=e.ngMax:"date"===e.type&&"string"==typeof r&&"string"==typeof e.ngMax?r<=e.ngMax:!("date"===e.type&&r instanceof Date&&e.ngMax instanceof Date)||r<=e.ngMax)},t.$formatters.push(function(t){return e.internalModel=t,t})}}]),e}();a.$inject=["$element"],t.default=a},function(e,t){e.exports='<div ng-switch=$ctrl.type> <div ng-switch-when=radio class=radio ng-class="{disabled: $ctrl.ngDisabled, \'radio-lg\': option.secondary}" ng-repeat="option in $ctrl.options"> <label> <tw-radio name={{$ctrl.name}} ng-value=option.value ng-model=$ctrl.internalModel ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change(option.value) ng-click=$ctrl.change(option.value) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur()></tw-radio> {{option.label}} <small ng-if=option.secondary>{{option.secondary}}</small> </label> </div> <div ng-switch-when=checkbox class=checkbox ng-class="{disabled: $ctrl.ngDisabled}"> <label> <tw-checkbox name={{$ctrl.name}} ng-model=$ctrl.internalModel ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-click=$ctrl.change() ng-focus=$ctrl.focus() ng-blur=$ctrl.blur()></tw-checkbox> {{$ctrl.placeholder}} </label> </div> <div ng-switch-when=select> <tw-select name={{$ctrl.name}} options=$ctrl.options filter="{{ $ctrl.options.length > 9 ? \' \' : \'\' }}" placeholder={{$ctrl.placeholder}} ng-model=$ctrl.internalModel ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur()></tw-select> </div> <div ng-switch-when=file> <tw-upload name={{$ctrl.name}} label={{$ctrl.label}} icon={{$ctrl.uploadIcon}} help-image={{$ctrl.helpOptions.image}} placeholder={{$ctrl.placeholder}} accept={{$ctrl.uploadAccept}} complete-text={{$ctrl.label}} button-text={{$ctrl.uploadOptions.buttonText}} cancel-text={{$ctrl.uploadOptions.cancelText}} processing-text="{{ $ctrl.uploadOptions.processingText }}" success-text="{{ $ctrl.uploadOptions.successText }}" failure-text="{{ $ctrl.uploadOptions.failureText }}" validation-messages=$ctrl.uploadOptions.validationMessages view-image-text={{$ctrl.uploadOptions.viewImageText}} too-large-message={{$ctrl.uploadTooLargeMessage}} max-size=$ctrl.ngMax ng-model=$ctrl.internalModel ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() http-options=$ctrl.persistAsync source=$ctrl.fileUploadSource camera-overlay={{$ctrl.cameraOptions.overlay}} camera-direction={{$ctrl.cameraOptions.direction}} on-success=$ctrl.onAsyncUploadSuccess on-failure=$ctrl.onAsyncUploadFailure></tw-upload> </div> <div ng-switch-when=date|date-time ng-switch-when-separator=|> <tw-date name={{$ctrl.name}} locale={{$ctrl.locale}} ng-min=$ctrl.ngMin ng-max=$ctrl.ngMax ng-model=$ctrl.internalModel ng-model-options="{ allowInvalid: true }" ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() model-type=string></tw-date> </div> <div ng-switch-when=tel> <tw-telephone name="{{ $ctrl.name }}" placeholder="{{ $ctrl.placeholder }}" ng-model=$ctrl.internalModel ng-model-options="{ allowInvalid: true, debounce: 300 }" ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() locale="{{ $ctrl.locale }}" search-placeholder=" "></tw-telephone> </div> <input ng-switch-when=number name={{$ctrl.name}} type=number step={{$ctrl.step}} class=form-control placeholder={{$ctrl.placeholder}} ng-model=$ctrl.internalModel ng-model-options="{ allowInvalid: true, debounce: 300 }" ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() ng-min=$ctrl.ngMin ng-max=$ctrl.ngMax autocomplete="{{ $ctrl.getAutocompleteStatus() }}"/> <input ng-switch-when=hidden name={{$ctrl.name}} type=hidden ng-model=$ctrl.ngModel /> <input ng-switch-when=password name={{$ctrl.name}} type=password class=form-control placeholder={{$ctrl.placeholder}} ng-model=$ctrl.internalModel ng-model-options="{ allowInvalid: true, debounce: 300 }" ng-required=$ctrl.ngRequired ng-disabled=$ctrl.ngDisabled ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() ng-minlength=$ctrl.ngMinlength ng-maxlength=$ctrl.ngMaxlength autocomplete="{{ $ctrl.getAutocompleteStatus() }}"/> <textarea ng-switch-when=textarea name={{$ctrl.name}} class=form-control placeholder={{$ctrl.placeholder}} ng-model=$ctrl.internalModel ng-model-options="{ allowInvalid: true, debounce: 300 }" ng-required=$ctrl.ngRequired ng-pattern=$ctrl.ngPattern ng-minlength=$ctrl.ngMinlength ng-maxlength=$ctrl.ngMaxlength ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() ng-disabled=$ctrl.ngDisabled autocomplete="{{ $ctrl.getAutocompleteStatus() }}"></textarea> <input ng-switch-default name={{$ctrl.name}} type=text class=form-control placeholder={{$ctrl.placeholder}} ng-model=$ctrl.internalModel ng-model-options="{ allowInvalid: true, debounce: 300 }" ng-required=$ctrl.ngRequired ng-pattern=$ctrl.ngPattern ng-minlength=$ctrl.ngMinlength ng-maxlength=$ctrl.ngMaxlength ng-change=$ctrl.change($ctrl.internalModel) ng-focus=$ctrl.focus() ng-blur=$ctrl.blur() ng-disabled=$ctrl.ngDisabled tw-text-format="{{ $ctrl.textFormat }}" autocomplete="{{ $ctrl.getAutocompleteStatus() }}"/> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(103)),i=a(n(104));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{name:"@",model:"=",initialField:"<field",locale:"@",required:"<",uploadOptions:"<",changeHandler:"&?onChange",focusHandler:"&?onFocus",blurHandler:"&?onBlur",errorMessage:"<",warningMessage:"<",validationMessages:"<"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.RequirementsService=t}return r(e,[{key:"$onChanges",value:function(e){var t;e.initialField&&(this.field=(t=this.initialField,JSON.parse(JSON.stringify(t))),this.control=this.field.control?this.field.control:this.RequirementsService.getControlType(e.initialField.currentValue),this.field.valuesAsync&&this.RequirementsService.prepValuesAsync(this.field,{}),this.required&&this.field.enum&&1===this.field.enum.length&&(this.model=this.field.enum[0]),this.field.default&&!this.model&&(this.model=this.field.default),this.validationMessages&&!this.field.validationMessages&&(this.field.validationMessages=this.validationMessages))}},{key:"onFocus",value:function(){this.focusHandler&&this.focusHandler()}},{key:"onBlur",value:function(){this.blurHandler&&this.blurHandler()}},{key:"onChange",value:function(e){this.changeHandler&&this.changeHandler({value:e}),this.errorMessage&&delete this.errorMessage}},{key:"onPersistAsyncFailure",value:function(e){this.uploadOptions||(this.uploadOptions={}),e.data?this.extractErrors(e.data):e.originalData&&this.extractErrors(e.originalData)}},{key:"extractErrors",value:function(e){e.message&&(this.uploadOptions.failureText=e.message),Array.isArray(e.errors)&&(this.uploadOptions.validationMessages=e.errors.map(function(e){return e.message}))}},{key:"onPersistAsyncSuccess",value:function(e){this.uploadOptions||(this.uploadOptions={}),e&&(this.uploadOptions.successText=e.data.message)}},{key:"sizeOf",value:function(e){return e?Object.keys(e).length:0}},{key:"isFeedbackDetached",value:function(e){return"date"===e||"file"===e||"radio"===e||"tel"===e}}]),e}();i.$inject=["TwRequirementsService"],t.default=i},function(e,t){e.exports='<div class="form-group tw-field-{{ $ctrl.name }}" ng-class="{\n    \'has-error\': $ctrl.field.errorMessage || $ctrl.errorMessage,\n    \'has-warning\': $ctrl.field.warningMessage || $ctrl.warningMessage,\n    \'hidden\': $ctrl.field.hidden\n  }"> <label class=control-label ng-if="$ctrl.control !== \'file\'"> {{$ctrl.field.title}} </label> <tw-form-control name="{{ $ctrl.name }}" label="{{ $ctrl.field.title }}" type="{{ $ctrl.control | lowercase }}" placeholder="{{ $ctrl.field.placeholder }}" help-options=$ctrl.field.help locale="{{ $ctrl.locale }}" upload-accept="{{ $ctrl.field.accept }}" upload-icon="{{ $ctrl.field.icon }}" upload-too-large-message="{{ $ctrl.field.tooLargeMessage }}" options=$ctrl.field.values upload-options=$ctrl.uploadOptions ng-model=$ctrl.model ng-focus=$ctrl.onFocus() ng-blur=$ctrl.onBlur() ng-change=$ctrl.onChange($ctrl.model) ng-required=$ctrl.required ng-disabled=$ctrl.field.disabled tw-minlength="$ctrl.field.minlength || $ctrl.field.minLength" tw-maxlength="$ctrl.field.maxlength || $ctrl.field.maxLength" ng-min=$ctrl.field.minimum ng-max=$ctrl.field.maximum ng-pattern=$ctrl.field.pattern text-format=$ctrl.field.displayFormat validation-async=$ctrl.field.validationAsync persist-async=$ctrl.field.persistAsync file-upload-source=$ctrl.field.sourceType camera-options=$ctrl.field.camera on-async-success=$ctrl.onPersistAsyncSuccess(response) on-async-failure=$ctrl.onPersistAsyncFailure(response) tw-validation></tw-form-control> <div class="alert alert-danger error-messages" ng-if="$ctrl.sizeOf($ctrl.field.validationMessages) > 0 || $ctrl.errorMessage" ng-class="{\n      \'alert-detach\': $ctrl.isFeedbackDetached($ctrl.control)\n    }"> <div ng-repeat="(validationType, validationMessage) in $ctrl.field.validationMessages track by $index" class="error-{{ validationType | lowercase }}"> {{validationMessage}} </div> <div class=error-provided ng-if=$ctrl.errorMessage> {{ $ctrl.errorMessage }} </div> </div> <div class="alert alert-warning" ng-if=$ctrl.warningMessage ng-class="{\n      \'alert-detach\': $ctrl.isFeedbackDetached($ctrl.control)\n    }"> {{ $ctrl.warningMessage }} </div> <div ng-if=$ctrl.field.help class="alert alert-focus" ng-class="{\n      \'alert-detach\': $ctrl.isFeedbackDetached($ctrl.control)\n    }"> <span ng-if=$ctrl.field.help.message> {{ $ctrl.field.help.message }} </span> <ul ng-if=$ctrl.field.help.list class=list-unstyled> <li ng-repeat="helpMessage in $ctrl.field.help.list">{{ helpMessage }}</li> </ul> <img ng-if="$ctrl.field.help.image && $ctrl.control !== \'file\'" ng-src={{$ctrl.field.help.image}} alt="{{ $ctrl.field.title }}" class="thumbnail m-y-2"/> </div> </div> '},function(e,t,n){"use strict";function r(e){var t=this;function n(e){if(e instanceof Array){var t=[];return e.forEach(function(e){e.fields?t=t.concat(r(e,e.fields)):e.group?t=t.concat(r(e,e.group)):t.push(e)}),t}return e}function r(e,t){return e.name&&t.length&&!t[0].name&&(t[0].name=e.name),e.width&&t.length&&!t[0].width&&(t[0].width=e.width),e.tooltip&&t.length&&!t[0].helpText&&(t[0].helpText=e.tooltip),e.info&&t.length&&!t[0].helpText&&(t[0].helpText=e.info),2===t.length&&t.forEach(function(e){e.width="md"}),3===t.length&&(t[0].width="md",t[1].width="md"),t}function s(e){return!e.label&&e.title&&(e.label=e.title,delete e.title),!e.label&&e.name&&(e.label=e.name,delete e.name),!e.value&&e.code&&(e.value=e.code,delete e.code),!e.value&&e.key&&(e.value=e.key,delete e.key),e}this.prepRequirements=function(e){if(!e||!e.length)return[];var n=l(e);return n.forEach(function(e){e.prepared||(t.prepLegacyAlternatives(e),e.properties=t.prepFields(e.properties||e.fields),e.type&&"object"!==e.type&&!e.types&&(e.properties.type={type:"string",enum:[e.type],required:!0,hidden:!0},e.type="object"),e.prepared=!0)}),n},this.prepFields=function(e,r,i){if(!e)return{};var a=l(e);return a=function(e){if(e instanceof Array)throw new Error("Expecting a map of fields, not an array");var t={};return Object.keys(e).forEach(function(n){if(n.indexOf(".")>0){var r=n.split("."),i=r[0];t[i]||(t[i]={type:"object",properties:{}}),t[i].properties[r[1]]=e[n]}else t[n]=e[n]}),t}(a=function(e){if(e instanceof Array){var t={};return e.forEach(function(e){var n=e.key||e.name;delete e.key,t[n]=l(e)}),t}return e}(a=n(a))),Object.keys(a).forEach(function(e){a[e]=t.prepField(a[e],r,i)}),a},this.prepField=function(e,n,r){var i=l(e);return t.prepLegacyProps(i),t.prepType(i),t.prepPattern(i),t.prepValuesAsync(i,n),t.prepValidationMessages(i,r),t.prepHelp(i),i},this.prepType=function(e){switch(e.type&&e.type.toLowerCase&&e.type.toLowerCase()){case"text":e.type="string";break;case"date":e.type="string",e.format="date";break;case"password":e.type="string",e.control="password";break;case"checkbox":e.type="boolean";break;case"select":e.control||(e.control="select"),delete e.type;break;case"radio":e.control="radio",delete e.type;break;case"upload":e.type="string",e.format="base64url";break;case"tel":e.type="string",e.format="phone";break;case"textarea":e.type="string",e.control="textarea"}e.control||"object"===e.type||(e.control=t.getControlType(e))},this.prepLegacyAlternatives=function(e){!e.title&&e.label&&(e.title=e.label),e.title||(e.title=function(e){if(e&&e.length>0){var t=e.toLowerCase().split("_").join(" ");return t.charAt(0).toUpperCase()+t.slice(1)}return""}(e.type)),!e.type&&e.name&&(e.type=e.name),!e.description&&e.tooltip&&(e.description=e.tooltip),e.fieldGroups&&!e.fields&&(e.fields=n(e.fieldGroups),delete e.fieldGroups)},this.prepLegacyProps=function(e){e.name&&!e.title&&(e.title=e.name,delete e.name),e.validationRegexp&&(e.pattern=e.validationRegexp,delete e.validationRegexp),e.min&&(e.minimum=e.min,delete e.min),e.max&&(e.maximum=e.max,delete e.max),e.example&&!e.placeholder&&(e.placeholder=e.example,delete e.example),e.tooltip&&!e.helpText&&(e.helpText=e.tooltip,delete e.tooltip),e.valuesAllowed&&!e.values&&(e.values=e.valuesAllowed,delete e.valuesAllowed),e.values&&e.values.map&&(e.values=t.prepLegacyValues(e.values)),e.value&&!e.default&&(e.default=e.value,delete e.value),e.values&&e.values&&e.values.length&&e.values[0]&&!e.values[0].value&&e.values[0].label&&!e.placeholder&&(e.placeholder=e.values[0].label,e.values=e.values.slice(1))},this.prepLegacyValues=function(e){return e.map(s)},this.prepPattern=function(e){if(e.pattern)try{RegExp(e.pattern)}catch(t){console.warn("API regexp is invalid"),delete e.pattern}else delete e.pattern},this.prepValuesAsync=function(e,n){if(e.valuesAsync){var r={};e.valuesAsync.params&&e.valuesAsync.params.length&&(r=t.getParamValuesFromModel(n,e.valuesAsync.params)),t.fetchValuesAsync(e,r).catch(function(){return t.fetchValuesAsync(e,r)})}},this.fetchValuesAsync=function(n,r){return e({method:n.valuesAsync.method||"GET",url:n.valuesAsync.url,data:r||{}}).then(function(e){n.values=t.prepLegacyValues(e.data)})},this.getParamValuesFromModel=function(e,t){var n={};return t.forEach(function(t){e[t.key]?n[t.parameterName]=e[t.key]:t.required}),n},this.prepValidationMessages=function(e){e.validationMessages&&e.validationMessages.minimum&&(e.validationMessages.min=e.validationMessages.minimum,delete e.validationMessages.minimum),e.validationMessages&&e.validationMessages.maximum&&(e.validationMessages.max=e.validationMessages.maximum,delete e.validationMessages.maximum)},this.prepHelp=function(e){!e.help&&(e.helpText||e.helpImage||e.helpList||e.uploadPlaceholderImage)&&(e.help={}),e.helpText&&(e.help.message=e.helpText,delete e.helpText),e.helpImage&&(e.help.image=e.helpImage,delete e.helpImage),e.uploadPlaceholderImage&&(e.help.image=e.uploadPlaceholderImage,delete e.uploadPlaceholderImage),e.list&&(e.help.list=e.helpList,delete e.helpList)},this.getRequiredFields=i,this.getControlType=a}function i(e){if(Array.isArray(e))throw new Error("Expected field map");return Object.keys(e).filter(function(t){return e[t].required})}function a(e){if(e.control)return e.control.toLowerCase();if(e.hidden)return"hidden";if(e.valuesAsync)return"select";if(e.values&&e.values.length)return function(e){if(e.control)return e.control;if("select"===e.type)return"select";if("radio"===e.type)return"radio";var t=e.enum||e.values;if(t)return t.length>3?"select":"radio";return"select"}(e);switch(e.type){case"string":return function(e){switch(e){case"date":return"date";case"base64url":return"file";case"password":return"password";case"uri":case"email":return"text";case"phone":return"tel";default:return"text"}}(e.format);case"number":case"integer":return"number";case"boolean":return"checkbox";default:return"text"}}function l(e){return JSON.parse(JSON.stringify(e))}Object.defineProperty(t,"__esModule",{value:!0}),r.$inject=["$http"],t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(107),a=(r=i)&&r.__esModule?r:{default:r};t.default=function(){return{restrict:"A",require:{$ngModel:"ngModel"},controller:a.default}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var a=n[0],l=r.getClosestParentByClassName(a,"form-group"),s=n.controller("ngModel");a.addEventListener("invalid",function(e){e.preventDefault()}),s.$validators.validation=function(){return t.$evalAsync(function(){i(s,l,a)}),!0};a.addEventListener("blur",function(){t.$evalAsync(function(){i(s,l,a)})})};function i(e,t,n){if(e.$valid)return t&&t.classList.remove("has-error"),void n.removeAttribute("aria-invalid");e.$touched&&e.$dirty&&(t&&t.classList.add("has-error"),n.setAttribute("aria-invalid","true"))}r.$inject=["$scope","$element","TwDomService"],t.default=r},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidSchema=void 0;var r=n(116),i=n(117);function a(e,t){return!(!(0,r.isObject)(e)||"object"!==t.type||!(0,r.isObject)(t.properties))&&Object.keys(t.properties).map(function(n){return function(e,t,n){if(void 0===e)return!n;return l(e,t)}(e[n],t.properties[n],t.required&&t.required.indexOf(n)>=0)}).reduce(function(e,t){return e&&t},!0)}function l(e,t){if(t.oneOf)return function(e,t){return!!(0,r.isArray)(t.oneOf)&&t.oneOf.reduce(function(t,n){return t||l(e,n)},!1)}(e,t);if(t.allOf)return function(e,t){return!!(0,r.isArray)(t.allOf)&&t.allOf.reduce(function(t,n){return t&&l(e,n)},!0)}(e,t);switch(t.type){case"string":return function(e,t){return!(0,i.getStringValidationFailures)(e,t).length}(e,t);case"number":return function(e,t){return!(0,i.getNumberValidationFailures)(e,t).length}(e,t);case"integer":return function(e,t){return!(0,i.getIntegerValidationFailures)(e,t).length}(e,t);case"boolean":return function(e,t){return!(0,i.getBooleanValidationFailures)(e,t).length}(e,t);case"array":return function(e,t){return!("array"!==t.type||!(0,r.isObject)(t.items))&&(!(0,i.getArrayValidationFailures)(e,t).length&&e.reduce(function(e,n){return l(n,t.items)},!0))}(e,t);case"object":return a(e,t);default:return!1}}t.isValidSchema=l},function(e,t,n){"use strict";function r(e){return"number"==typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e},t.isNumber=r,t.isInteger=function(e){return r(e)&&Math.floor(e)===e},t.isBoolean=function(e){return"boolean"==typeof e},t.isObject=function(e){return void 0!==e&&e.constructor===Object},t.isArray=function(e){return Array.isArray(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getObjectValidationFailures=t.getArrayValidationFailures=t.getBooleanValidationFailures=t.getIntegerValidationFailures=t.getNumberValidationFailures=t.getStringValidationFailures=t.getValidationFailures=void 0;var r=n(116),i=n(201);function a(e,t,n){if(!(0,r.isString)(e))return["type"];var a=[];return(0,i.isValidRequired)(e,n)||a.push("required"),(0,i.isValidMinLength)(e,t.minLength)||a.push("minLength"),(0,i.isValidMaxLength)(e,t.maxLength)||a.push("maxLength"),(0,i.isValidPattern)(e,t.pattern)||a.push("pattern"),(0,i.isValidMin)(e,t.min)||a.push("min"),(0,i.isValidMax)(e,t.max)||a.push("max"),a}function l(e,t,n){if(!(0,r.isNumber)(e))return["type"];var a=[];return(0,i.isValidRequired)(e,n)||a.push("required"),(0,i.isValidMin)(e,t.min)||a.push("min"),(0,i.isValidMax)(e,t.max)||a.push("max"),a}function s(e,t,n){return(0,r.isInteger)(e)?l(e,t,n):["type"]}function o(e,t,n){if(!(0,r.isBoolean)(e))return["type"];var a=[];return(0,i.isValidRequired)(e,n)||a.push("required"),a}function c(e,t){if(!(0,r.isArray)(e))return["type"];var n=[];return(0,i.isValidMinItems)(e,t.minItems)||n.push("minItems"),(0,i.isValidMaxItems)(e,t.maxItems)||n.push("maxItems"),n}function u(e,t){return(0,r.isObject)(e)?(0,r.isArray)(t.required)?t.required.map(function(t){return void 0!==e[t]}).reduce(function(e,t){return e&&t},!0)?[]:["required"]:[]:["type"]}t.getValidationFailures=function(e,t,n){switch(t.type){case"string":return a(e,t,n);case"number":return l(e,t,n);case"integer":return s(e,t,n);case"boolean":return o(e,t,n);case"array":return c(e,t);case"object":return u(e,t);default:return[]}},t.getStringValidationFailures=a,t.getNumberValidationFailures=l,t.getIntegerValidationFailures=s,t.getBooleanValidationFailures=o,t.getArrayValidationFailures=c,t.getObjectValidationFailures=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(t.allOf)return function(e,t){var n={},a=void 0;return t.allOf.forEach(function(t){"object"===(void 0===(a=i(e,t))?"undefined":r(a))&&angular.extend(n,a)}),n}(e,t);if(t.oneOf)return function(e,t){return e}(e);if(t.type)switch(t.type){case"object":return function(e,t){var n={};return Object.keys(t.properties).forEach(function(r){if(e&&void 0!==e[r]){var a=i(e[r],t.properties[r]);null!==a&&(n[r]=a)}}),n}(e,t);case"array":return function(e,t){if(Array.isArray(e))return e.map(function(e){return i(e,t)});return null}(e,t);case"string":return function(e){if("string"==typeof e)return e;return null}(e);case"number":case"integer":return function(e){if("number"==typeof e)return e;return null}(e);case"boolean":return function(e){if("boolean"==typeof e)return e;return null}(e);default:return null}return t.enum&&t.enum.indexOf(e)>=0?e:null}t.getValidModelParts=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidRequired=function(e,t){return!t||void 0!==e},t.isValidMinLength=function(e,t){return void 0===t||!!e&&e.length>=t},t.isValidMaxLength=function(e,t){return void 0===t||!!e&&e.length<=t},t.isValidPattern=function(e,t){try{var n=new RegExp(t);return void 0!==e&&!!n.test(e)}catch(e){return!0}},t.isValidMax=function(e,t){return void 0===t||void 0!==e&&e<=t},t.isValidMin=function(e,t){return void 0===t||void 0!==e&&e>=t},t.isValidMinItems=function(e,t){return!t||!!e&&e.length>=t},t.isValidMaxItems=function(e,t){return!t||!!e&&e.length<=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(212));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.all-of",[]).component("allOfSchema",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(215));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.array",[]).component("arraySchema",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),i=l(n(218)),a=l(n(22));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.basic-type",[a.default]).component("basicTypeSchema",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(225));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.object",[]).component("objectSchema",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),i=l(n(228)),a=l(n(10));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.one-of",[a.default]).component("oneOfSchema",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(0)),i=f(n(208)),a=f(n(202)),l=f(n(203)),s=f(n(204)),o=f(n(221)),c=f(n(205)),u=f(n(206)),d=f(n(231));function f(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema",[i.default,a.default,l.default,s.default,o.default,c.default,u.default,d.default]).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),i=a(n(209));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.form",[]).component("jsonSchemaForm",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(210)),i=a(n(211));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(115);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"onModelChange",value:function(e,t){if(this.onChange){var n=(0,i.isValidSchema)(e,this.schema);this.onChange({model:e,isValid:n,schema:t})}}}]),e}();t.default=a},function(e,t){e.exports='<generic-schema schema=$ctrl.schema model=$ctrl.model errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </generic-schema> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(213)),i=a(n(214));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(118);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"$onChanges",value:function(e){(e.schema||e.model)&&(this.models=function(e,t){var n=[];e&&t&&t.forEach(function(t){n.push((0,i.getValidModelParts)(e,t)||{})});return n}(this.model,this.schema?this.schema.allOf:[]))}},{key:"onModelChange",value:function(e,t,n){var r,a=this.schema.allOf[e];this.models[e]=(0,i.getValidModelParts)(t,a),this.onChange&&this.onChange({model:(r=this.models,r.reduce(function(e,t){return angular.extend(t,e)},{})),schema:n})}}]),e}();t.default=a},function(e,t){e.exports="<h3 ng-if=$ctrl.schema.title class=page-header> {{ $ctrl.schema.title }} </h3> <p ng-if=$ctrl.schema.description> {{ $ctrl.schema.description }} </p> <div ng-if=$ctrl.schema.help.warning class=\"alert alert-warning\"> {{ $ctrl.schema.help.warning }} </div> <div class=row> <div ng-repeat=\"(index, nestedSchema) in $ctrl.schema.allOf\" class=col-xs-12 ng-class=\"{\n      'col-sm-4': !$ctrl.narrow  && nestedSchema.width === 'sm',\n      'col-sm-6': !$ctrl.narrow  && nestedSchema.width === 'md',\n      'col-sm-12': $ctrl.narrow || nestedSchema.width === 'lg'\n    }\"> <generic-schema schema=nestedSchema model=$ctrl.models[index] errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change=\"$ctrl.onModelChange(index, model, schema)\"> </generic-schema> </div> </div> "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(216)),i=a(n(217));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=["string","number","integer","boolean"],a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"$onInit",value:function(){if(!Array.isArray(this.model)){var e=s(l(this.schema));this.model=[],e&&this.model.push(e)}}},{key:"onModelChange",value:function(e,t,n){this.model[e]=t,this.onChange&&this.onChange({model:this.model,schema:n})}},{key:"remove",value:function(e){this.model[e]&&this.model.splice(e,1)}},{key:"add",value:function(){var e=s(l(this.schema));e&&this.model.push(e)}},{key:"isSimpleType",value:function(e){return i.indexOf(e)>=0}}]),e}();function l(e){return e&&e.items&&e.items.type}function s(e){return"object"===e?{}:"array"===e?[]:null}t.default=a},function(e,t){e.exports='<div ng-if=$ctrl.isSimpleType($ctrl.schema.items.type)> Unsupported </div> <div ng-if=!$ctrl.isSimpleType($ctrl.schema.items.type)> <h4 class=page-header ng-if=$ctrl.schema.title> {{ $ctrl.schema.title }} </h4> <p ng-if=$ctrl.schema.description> {{ $ctrl.schema.description }} </p> <div ng-repeat="(index, childModel) in $ctrl.model"> <hr ng-if="index > 0" class="m-t-1 m-b-2"/> <div class=row> <div class=col-sm-9> <generic-schema schema=$ctrl.schema.items model=childModel errors=$ctrl.errors[index] locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(index, model, schema)"> </generic-schema> </div> <div class=col-sm-3> <button class="btn btn-danger btn-block m-t-3" ng-click=$ctrl.remove(index) ng-disabled="index < $ctrl.schema.minItems"> {{ $ctrl.translations.array.remove }} </button> </div> </div> </div> <button class="btn btn-default" ng-disabled="$ctrl.schema.maxItems && $ctrl.model.length >= $ctrl.schema.maxItems" ng-click=$ctrl.add()> {{ $ctrl.translations.array.add }} </button> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(219)),i=a(n(220));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",required:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(117);var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"$onInit",value:function(){this.key=Math.floor(1e8*Math.random()),!this.model&&this.schema.default&&this.onModelChange(this.schema.default)}},{key:"onModelChange",value:function(e){this.validationKeys=(0,i.getValidationFailures)(e,this.schema,this.required),this.onChange&&this.onChange({model:e,schema:this.schema})}},{key:"getValidationMessages",value:function(){return this.schema&&this.schema.validationMessages||this.translations&&this.translations.validation||null}}]),e}();t.default=a},function(e,t){e.exports='<tw-field name="{{ $ctrl.key }}" model=$ctrl.model field=$ctrl.schema required=$ctrl.required locale="{{ $ctrl.locale }}" on-change=$ctrl.onModelChange(value) error-message=$ctrl.errors warning-message=$ctrl.schema.help.warning validation-messages=$ctrl.getValidationMessages() upload-options=$ctrl.translations.upload class=btn-block> </tw-field> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),i=u(n(222)),a=u(n(204)),l=u(n(205)),s=u(n(203)),o=u(n(202)),c=u(n(206));function u(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.module("tw.json-schema.generic",[a.default,l.default,s.default,o.default,c.default]).component("genericSchema",i.default).name},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(223)),i=a(n(224));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",required:"<",hideTitle:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"$onChanges",value:function(e){if(e.schema){var t=e.schema.currentValue;t&&t.enum&&1===t.enum.length&&this.onModelChange(t.enum[0],t)}}},{key:"onModelChange",value:function(e,t){this.onChange&&this.onChange({model:e,schema:t})}}]),e}();t.default=i},function(e,t){e.exports='<one-of-schema ng-if=$ctrl.schema.oneOf model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </one-of-schema> <all-of-schema ng-if=$ctrl.schema.allOf model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </all-of-schema> <basic-type-schema ng-if="$ctrl.schema.type && ($ctrl.schema.type !== \'object\' && $ctrl.schema.type !== \'array\')" model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations required=$ctrl.required on-change="$ctrl.onModelChange(model, schema)"> </basic-type-schema> <object-schema ng-if="$ctrl.schema.type === \'object\'" model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)" hide-title=$ctrl.hideTitle> </object-schema> <array-schema ng-if="$ctrl.schema.type === \'array\'" model=$ctrl.model schema=$ctrl.schema errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema)"> </array-schema> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(226)),i=a(n(227));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",hideTitle:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"$onInit",value:function(){this.outputModel=angular.extend({},this.model||{})}},{key:"onModelChange",value:function(e,t,n){this.outputModel[e]=t,this.onChange&&this.onChange({model:this.outputModel,schema:n})}},{key:"isRequired",value:function(e){return this.schema.required&&this.schema.required.includes(e)}}]),e}();t.default=i},function(e,t){e.exports="<fieldset> <legend ng-if=\"$ctrl.schema.title && !$ctrl.hideTitle\"> {{ $ctrl.schema.title }} </legend> <p ng-if=$ctrl.schema.description> {{ $ctrl.schema.description }} </p> <div ng-if=$ctrl.schema.help.warning class=\"alert alert-warning\"> {{ $ctrl.schema.help.warning }} </div> <div class=row> <div ng-repeat=\"(property, nestedSchema) in $ctrl.schema.properties\" class=col-xs-12 ng-hide=nestedSchema.hidden ng-class=\"{\n        'col-sm-4': !$ctrl.narrow  && nestedSchema.width === 'sm',\n        'col-sm-6': !$ctrl.narrow  && nestedSchema.width === 'md',\n        'col-sm-12': $ctrl.narrow || nestedSchema.width === 'lg'\n      }\"> <generic-schema schema=nestedSchema model=$ctrl.model[property] errors=$ctrl.errors[property] locale=$ctrl.locale translations=$ctrl.translations required=$ctrl.isRequired(property) on-change=\"$ctrl.onModelChange(property, model, schema)\"> </generic-schema> </div> </div> </fieldset> "},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(229)),i=a(n(230));function a(e){return e&&e.__esModule?e:{default:e}}var l={controller:r.default,template:i.default,bindings:{schema:"<",model:"<",errors:"<",locale:"<",translations:"<",onChange:"&"}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(118),a=n(115);var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=[],this.activeIndex=1}return r(e,[{key:"$onChanges",value:function(e){(e.schema||e.model)&&(this.activeIndex=function(e,t){if(!e||!e.oneOf)return 1;for(var n=0;n<e.oneOf.length;n++)if((0,a.isValidSchema)(t,e.oneOf[n]))return n+1;return 1}(this.schema,this.model),this.prefillModels())}},{key:"prefillModels",value:function(){var e;this.schema&&this.schema.oneOf&&(this.models=(e=this.model,this.schema.oneOf.map(function(t){return(0,i.getValidModelParts)(e,t)})))}},{key:"onSchemaChange",value:function(e,t){this.models[t]=(0,i.getValidModelParts)(this.models[t],e),this.onModelChange(this.models[t],e)}},{key:"onModelChange",value:function(e,t,n){this.models[n]=e,this.onChange&&this.onChange({model:e,schema:t})}}]),e}();t.default=l},function(e,t){e.exports='<label class=control-label ng-if=$ctrl.schema.title> {{ $ctrl.schema.title }} </label> <div class="form-group m-b-5"> <div class=radio ng-repeat="(index, schema) in $ctrl.schema.oneOf" ng-class="{\'radio-lg\': schema.description}"> <label> <tw-radio ng-model=$ctrl.activeIndex ng-value="(index + 1)" ng-change="$ctrl.onSchemaChange(schema, index)"></tw-radio> {{ schema.title }} <p ng-if=schema.description class="secondary m-b-0"> {{ schema.description }} </p> </label> </div> </div> <div ng-repeat="(index, schema) in $ctrl.schema.oneOf"> <generic-schema ng-if="$ctrl.activeIndex === (index + 1)" schema=schema model=$ctrl.models[index] errors=$ctrl.errors locale=$ctrl.locale translations=$ctrl.translations on-change="$ctrl.onModelChange(model, schema, index)" hide-title=true> </generic-schema> </div> '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),a=(r=i)&&r.__esModule?r:{default:r},l=n(118),s=n(117),o=n(115),c=d(n(201)),u=d(n(116));function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=a.default.module("tw.json-schema.validation",[]).service("SchemaValidation",function(){this.getValidModelParts=l.getValidModelParts,this.getValidationFailures=s.getValidationFailures,this.isValidSchema=o.isValidSchema,this.ruleValidators=c,this.typeValidators=u}).name}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiYW5ndWxhclwiIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9kb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2ZvY3VzYWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvZGF0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvc2VsZWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9yZXF1aXJlbWVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGluZy9wcm9jZXNzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9mb2N1c2FibGUvZm9jdXNhYmxlLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3JhZGlvL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvcHJvY2Vzc2luZy1jYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvcHJvY2Vzc2luZy1jYXJkL3Byb2Nlc3NpbmctY2FyZC5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvcHJvY2Vzc2luZy1jYXJkL3Byb2Nlc3NpbmcuYmluZGluZ3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2RyYWctYW5kLWRyb3AvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2NoZWNrYm94L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2FzeW5jVGFza3NDb25maWcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2RhdGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1hdHRpbmcvZGF0ZS1mb3JtYXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2Zvcm0tY29udHJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZmllbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhbGlkYXRpb24vY29udHJvbC12YWxpZGF0aW9uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9jaGVja2JveC9jaGVja2JveC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2NoZWNrYm94L2NoZWNrYm94LmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2NoZWNrYm94L2NoZWNrYm94Lmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NlcnZpY2VzL2RvbS9kb20uc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZm9jdXNhYmxlL2ZvY3VzYWJsZS5kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2ZvY3VzYWJsZS9mb3JtLWNvbnRyb2wuZGlyZWN0aXZlLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9yYWRpby9yYWRpby5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3JhZGlvL3JhZGlvLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3JhZGlvL3JhZGlvLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3NlbGVjdC9zZWxlY3QuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9zZWxlY3Qvc2VsZWN0LmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3NlbGVjdC9zZWxlY3QuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3VwbG9hZC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC91cGxvYWQuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3VwbG9hZC5odG1sIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvdXBsb2FkLmxlc3M/M2I4ZCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3VwbG9hZC5sZXNzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9jYXB0dXJlLWNhcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9jYXB0dXJlLWNhcmQvY2FwdHVyZS1jYXJkLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhcHR1cmUtY2FyZC9jYXB0dXJlLWNhcmQuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhcHR1cmUtY2FyZC9jYXB0dXJlLWNhcmQuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2Ryb3BwaW5nLWNhcmQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9kcm9wcGluZy1jYXJkL2Ryb3BwaW5nLWNhcmQuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvZHJvcHBpbmctY2FyZC9kcm9wcGluZy1jYXJkLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9wcm9jZXNzaW5nLWNhcmQvcHJvY2Vzc2luZy1jYXJkLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3Byb2Nlc3NpbmctY2FyZC9wcm9jZXNzaW5nLWNhcmQuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3Byb2Nlc3NpbmctY2FyZC9wcm9jZXNzaW5nLW1pbmkuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvcHJvY2Vzc2luZy1jYXJkL3Byb2Nlc3NpbmctbWluaS5odG1sIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvc2VydmljZXMvYXN5bmMtZmlsZS1yZWFkZXIuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3NlcnZpY2VzL2FzeW5jLWZpbGUtc2F2ZXIuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3NlcnZpY2VzL2ZpbGUtdmFsaWRhdGlvbi5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9hc3luY1Rhc2tzQ29uZmlnL2FzeW5jVGFza3NDb25maWcuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9hZGluZy9wcm9jZXNzL3Byb2Nlc3MuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9sb2FkaW5nL3Byb2Nlc3MvcHJvY2Vzcy5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9sb2FkaW5nL3Byb2Nlc3MvcHJvY2Vzcy5odG1sIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvc3VjY2Vzcy1jYXJkL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvc3VjY2Vzcy1jYXJkL3N1Y2Nlc3MtY2FyZC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9zdWNjZXNzLWNhcmQvc3VjY2Vzcy1jYXJkLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9zdWNjZXNzLWNhcmQvc3VjY2Vzcy1jYXJkLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9jYW1lcmEtY2FwdHVyZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhbWVyYS1jYXB0dXJlL2NhbWVyYS1jYXB0dXJlLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhbWVyYS1jYXB0dXJlL2NhbWVyYS1jYXB0dXJlLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NjcmVlbmZ1bGwvZGlzdC9zY3JlZW5mdWxsLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvY2FtZXJhLWNhcHR1cmUvY2FtZXJhLWNhcHR1cmUuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhbWVyYS1jYXB0dXJlL2NhbWVyYS1jYXB0dXJlLmxlc3M/OWEzNCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhbWVyYS1jYXB0dXJlL2NhbWVyYS1jYXB0dXJlLmxlc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9jYW1lcmEtY2FwdHVyZS9jYW1lcmEtY2FwdHVyZS1zY3JlZW4taGFuZGxlci5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvY2FtZXJhLWNhcHR1cmUvY2FtZXJhLW92ZXJsYXktaGFuZGxlci5zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvdXBsb2FkLWJ1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3VwbG9hZC1idXR0b24vdXBsb2FkLWJ1dHRvbi5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC91cGxvYWQtYnV0dG9uL3VwbG9hZC1idXR0b24uaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL3VwbG9hZC1idXR0b24vdXBsb2FkLWJ1dHRvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvY2FtZXJhLWJ1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhbWVyYS1idXR0b24vY2FtZXJhLWJ1dHRvbi5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9jYW1lcmEtYnV0dG9uL2NhbWVyYS1idXR0b24uaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL2NhbWVyYS1idXR0b24vY2FtZXJhLWJ1dHRvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy91cGxvYWQvZmlsZS1pbnB1dC5kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9tdWx0aS11cGxvYWQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL3VwbG9hZC9tdWx0aS11cGxvYWQvbXVsdGktdXBsb2FkLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL211bHRpLXVwbG9hZC9tdWx0aS11cGxvYWQuY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvdXBsb2FkL211bHRpLXVwbG9hZC9tdWx0aS11cGxvYWQuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZHJhZy1hbmQtZHJvcC9kcm9wLmRpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZHJhZy1hbmQtZHJvcC9kcmFnLWVudGVyLmRpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZHJhZy1hbmQtZHJvcC9kcmFnLWxlYXZlLmRpcmVjdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZGF0ZS9kYXRlLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZGF0ZS9kYXRlLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2RhdGUvZGF0ZS5odG1sIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9kYXRlL2RhdGUuc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybWF0dGluZy9kYXRlLWZvcm1hdC9kYXRlLWZvcm1hdC5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1hdHRpbmcvZGF0ZS1mb3JtYXQvZGF0ZS1mb3JtYXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybWF0dGluZy9kYXRlLWZvcm1hdC9kYXRlLWZvcm1hdC5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2Zvcm0tY29udHJvbC9mb3JtLWNvbnRyb2wuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9mb3JtLWNvbnRyb2wvZm9ybS1jb250cm9sLmNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Zvcm1zL2Zvcm0tY29udHJvbC9mb3JtLWNvbnRyb2wuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvZm9ybXMvZmllbGQvZmllbGQuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9maWVsZC9maWVsZC5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mb3Jtcy9maWVsZC9maWVsZC5odG1sIiwid2VicGFjazovLy8uL3NyYy9zZXJ2aWNlcy9yZXF1aXJlbWVudHMvcmVxdWlyZW1lbnRzLnNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhbGlkYXRpb24vY29udHJvbC12YWxpZGF0aW9uL2NvbnRyb2wtdmFsaWRhdGlvbi5kaXJlY3RpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZhbGlkYXRpb24vY29udHJvbC12YWxpZGF0aW9uL2NvbnRyb2wtdmFsaWRhdGlvbi5jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS92YWxpZGF0aW9uL3NjaGVtYS12YWxpZGF0b3JzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS92YWxpZGF0aW9uL3R5cGUtdmFsaWRhdG9ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvdmFsaWRhdGlvbi92YWxpZGF0aW9uLWZhaWx1cmVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS92YWxpZGF0aW9uL3ZhbGlkLW1vZGVsL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS92YWxpZGF0aW9uL3J1bGUtdmFsaWRhdG9ycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYWxsLW9mLXNjaGVtYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYXJyYXktc2NoZW1hL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS9iYXNpYy10eXBlLXNjaGVtYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvb2JqZWN0LXNjaGVtYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvb25lLW9mLXNjaGVtYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL2Zvcm0vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL2Zvcm0vY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS9mb3JtL2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL2Zvcm0vdGVtcGxhdGUuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYWxsLW9mLXNjaGVtYS9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL2FsbC1vZi1zY2hlbWEvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYWxsLW9mLXNjaGVtYS90ZW1wbGF0ZS5odG1sIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS9hcnJheS1zY2hlbWEvY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS9hcnJheS1zY2hlbWEvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYXJyYXktc2NoZW1hL3RlbXBsYXRlLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL2Jhc2ljLXR5cGUtc2NoZW1hL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYmFzaWMtdHlwZS1zY2hlbWEvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvYmFzaWMtdHlwZS1zY2hlbWEvdGVtcGxhdGUuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvZ2VuZXJpYy1zY2hlbWEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL2dlbmVyaWMtc2NoZW1hL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvZ2VuZXJpYy1zY2hlbWEvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvZ2VuZXJpYy1zY2hlbWEvdGVtcGxhdGUuaHRtbCIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvb2JqZWN0LXNjaGVtYS9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL29iamVjdC1zY2hlbWEvY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvb2JqZWN0LXNjaGVtYS90ZW1wbGF0ZS5odG1sIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS9vbmUtb2Ytc2NoZW1hL2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvanNvbi1zY2hlbWEvb25lLW9mLXNjaGVtYS9jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9qc29uLXNjaGVtYS9vbmUtb2Ytc2NoZW1hL3RlbXBsYXRlLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vc3JjL2pzb24tc2NoZW1hL3ZhbGlkYXRpb24vaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhbmd1bGFyIiwic2VydmljZSIsIkRvbVNlcnZpY2UiLCJkaXJlY3RpdmUiLCJGb2N1c2FibGUiLCJGb3JtQ29udHJvbEZvY3VzIiwiRGF0ZVNlcnZpY2UiLCJjb21wb25lbnQiLCJTZWxlY3QiLCJSZXF1aXJlbWVudHNTZXJ2aWNlIiwidXNlU291cmNlTWFwIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwiY3NzTWFwcGluZyIsImJ0b2EiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlTWFwIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5Iiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0Iiwiam9pbiIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwicHVzaCIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInBhcmVudCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidW5kZWZpbmVkIiwiYXR0cnMiLCJ0eXBlIiwibm9uY2UiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInVwZGF0ZSIsInJlbW92ZSIsInJlc3VsdCIsInRyYW5zZm9ybSIsImRlZmF1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsIlByb2Nlc3MiLCJGb2N1c2FibGVDb250cm9sbGVyIiwiJGVsZW1lbnQiLCJUd0RvbVNlcnZpY2UiLCJlbGVtZW50IiwiZm9ybUdyb3VwIiwiZ2V0Q2xvc2VzdFBhcmVudEJ5Q2xhc3NOYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsImFkZCIsIiRpbmplY3QiLCJSYWRpbyIsIkFzeW5jVGFza3NDb25maWciLCJBc3luY0ZpbGVSZWFkZXIiLCJBc3luY0ZpbGVTYXZlciIsIkZpbGVWYWxpZGF0aW9uU2VydmljZSIsIlByb2Nlc3NpbmdDYXJkIiwiUHJvY2Vzc2luZ01pbmkiLCJDb250cm9sbGVyIiwiJHRpbWVvdXQiLCJGaWxlVmFsaWRhdGlvbiIsInByb2Nlc3NpbmdTdGF0ZSIsImNoYW5nZXMiLCJmaWxlIiwiY3VycmVudFZhbHVlIiwib25GaWxlQ2FwdHVyZSIsIm5nRGlzYWJsZWQiLCJyZXNldCIsImlzUHJvY2Vzc2luZyIsIm9uU3RhcnQiLCJpc1NtYWxsZXJUaGFuTWF4U2l6ZSIsIm1heFNpemUiLCJ2YWxpZGF0aW9uTWVzc2FnZXMiLCJ0b29MYXJnZU1lc3NhZ2UiLCJhc3luY0ZhaWx1cmUiLCJzdGF0dXMiLCJkYXRhIiwibWVzc2FnZSIsImh0dHBPcHRpb25zIiwiYXN5bmNGaWxlUmVhZCIsInRoZW4iLCJkYXRhVXJsIiwiYXN5bmNGaWxlU2F2ZSIsInJlc3BvbnNlIiwiYXN5bmNTdWNjZXNzIiwiY2F0Y2giLCJlcnJvciIsImV4dGVuZEh0dHBPcHRpb25zIiwic2F2ZSIsInBhcmFtIiwicmVhZCIsImlzU3VjY2VzcyIsImlzRXJyb3IiLCJvbkNhbmNlbCIsIiRjdHJsIiwiaWRQcm9wZXJ0eSIsIm9uU3VjY2VzcyIsInJlc3BvbnNlRXJyb3JFeHRyYWN0b3IiLCJlcnJvck1lc3NhZ2UiLCJvbkZhaWx1cmUiLCJhY2NlcHQiLCJwcm9jZXNzaW5nTWVzc2FnZSIsInN1Y2Nlc3NNZXNzYWdlIiwiY2FuY2VsVGV4dCIsIkRyb3AiLCJEcmFnRW50ZXIiLCJEcmFnTGVhdmUiLCJDaGVja2JveCIsIkNhcHR1cmVDYXJkIiwiRHJvcHBpbmdDYXJkIiwiU3VjY2Vzc0NhcmQiLCJDYW1lcmFDYXB0dXJlIiwiVXBsb2FkQnV0dG9uIiwiQ2FtZXJhQnV0dG9uIiwiTXVsdGlVcGxvYWQiLCJEcmFnQW5kRHJvcCIsIkZpbGVJbnB1dCIsIlVwbG9hZCIsIkRhdGVGb3JtYXQiLCJEYXRlQ29udHJvbCIsIkRhdGVGaWx0ZXIiLCJGb3JtQ29udHJvbCIsIkNvbnRyb2xWYWxpZGF0aW9uIiwiRmllbGQiLCJjb250cm9sbGVyIiwidGVtcGxhdGUiLCJyZXF1aXJlIiwiJG5nTW9kZWwiLCJiaW5kaW5ncyIsIm5nTW9kZWwiLCJuZ1RydWVWYWx1ZSIsIm5nRmFsc2VWYWx1ZSIsIm5nUmVxdWlyZWQiLCJDaGVja2JveENvbnRyb2xsZXIiLCIkc2NvcGUiLCJkb20iLCJhZGRMYWJlbEhhbmRsZXIiLCJhZGRXYXRjaGVycyIsImNoZWNrYm94Q29udGFpbmVyIiwibGFiZWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNoZWNrZWQiLCJpc0NoZWNrZWQiLCJldmVudCIsIiRzZXRWaWV3VmFsdWUiLCIkc2V0VG91Y2hlZCIsInN0b3BQcm9wYWdhdGlvbiIsInZhbGlkYXRlQ2hlY2tib3giLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJnZXRDbG9zZXN0UGFyZW50QnlUYWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwicHJldmVudERlZmF1bHQiLCIkd2F0Y2giLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwiJHNldERpcnR5IiwiY2hlY2tib3giLCJyZW1vdmVBdHRyaWJ1dGUiLCIkZXZlbnQiLCJpc1JlcXVpcmVkIiwiJHRvdWNoZWQiLCJidXR0b24iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY2hlY2tib3hMYWJlbCIsIiRzZXRWYWxpZGl0eSIsInRhZ05hbWUiLCJ0YWdOYW1lVXBwZXIiLCJ0b1VwcGVyQ2FzZSIsImNsYXNzTmFtZSIsImNvbnRhaW5zIiwiZ2V0UHJldmlvdXNTaWJsaW5nV2l0aENsYXNzTmFtZSIsInNpYmxpbmciLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZ2V0TmV4dFNpYmxpbmdXaXRoQ2xhc3NOYW1lIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwicmVzdHJpY3QiLCJuZ1ZhbHVlIiwibmdDaGFuZ2UiLCJSYWRpb0NvbnRyb2xsZXIiLCJyYWRpb0xhYmVsIiwidHJhbnNjbHVkZSIsInBsYWNlaG9sZGVyIiwic2l6ZSIsImRyb3Bkb3duUmlnaHQiLCJkcm9wZG93blVwIiwiZHJvcGRvd25XaWR0aCIsImludmVyc2UiLCJoaWRlTm90ZSIsImhpZGVTZWNvbmRhcnkiLCJoaWRlSWNvbiIsImhpZGVDdXJyZW5jeSIsImhpZGVDaXJjbGUiLCJoaWRlTGFiZWwiLCJTZWxlY3RDb250cm9sbGVyIiwiJHRyYW5zY2x1ZGUiLCIkYXR0cnMiLCJvbk1vZGVsQ2hhbmdlIiwiYnV0dG9uR3JvdXAiLCJkcm9wZG93biIsIm9uRm9jdXNPdXQiLCJzZWFyY2giLCJwcmVTZWxlY3RNb2RlbFZhbHVlIiwic2V0RGVmYXVsdElmUmVxdWlyZWQiLCJhY3RpdmVFbGVtZW50Iiwib3B0aW9uS2V5cHJlc3MiLCJzaG91bGRTaG93U2VhcmNoIiwiZm9jdXMiLCJmb2N1c09uQWN0aXZlTGluayIsInRvTG93ZXJDYXNlIiwiY2xvbmUiLCJ0ZXh0IiwidHJpbSIsImhhc1RyYW5zY2x1ZGVkIiwiY2hlY2tGb3JUcmFuc2NsdWRlZENvbnRlbnQiLCJyZXNwb25zaXZlQ2xhc3NlcyIsIm9wdGlvbnNQYWdlU2l6ZSIsIm51bWJlck9mT3B0aW9uc1JldmVhbGVkIiwiaGFzTW9yZU9wdGlvbnNUb1JldmVhbCIsImZpbHRlclN0cmluZyIsImZpbHRlcmVkT3B0aW9ucyIsImdldEZpbHRlcmVkT3B0aW9ucyIsIm9uT3B0aW9uc0NoYW5nZSIsInByZXZpb3VzVmFsdWUiLCJvcHRpb24iLCJmaW5kT3B0aW9uRnJvbVZhbHVlIiwic2VsZWN0ZWQiLCJyZXNwb25zaXZlT3B0aW9uIiwiY2xhc3NlcyIsInNlY29uZGFyeUNsYXNzZXMiLCJzZWNvbmRhcnkiLCJkaXNhYmxlZCIsInNlbGVjdE9wdGlvbiIsImdldENoYXJhY3RlckNvZGVGcm9tS2V5cHJlc3MiLCJjaGFyYWN0ZXIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJnZXRDaGFyYWN0ZXJGcm9tS2V5cHJlc3MiLCJsZXR0ZXIiLCJmb3VuZCIsInNlYXJjaEFuZFNlbGVjdCIsImNvbnRpbnVlU2VhcmNoQW5kU2VsZWN0TWF0Y2giLCJyZXNldE9wdGlvbiIsImZpbHRlclN0cmluZ0xvd2VyIiwicmVwbGFjZSIsImVuY291bnRlcmVkTGFiZWxzQW5kVmFsdWVzIiwiaGVhZGVyIiwiaXNEdXBsaWNhdGUiLCJleGlzdGluZ1ZhbHVlc0ZvckxhYmVsIiwiaGFzRXhpc3RpbmdWYWx1ZXMiLCJpc0FycmF5IiwiZXF1YWxzIiwibGFiZWxNYXRjaGVzIiwibm90ZU1hdGNoZXMiLCJzZWNvbmRhcnlNYXRjaGVzIiwic2VhcmNoYWJsZU1hdGNoZXMiLCJmaWx0ZXJJbnB1dCIsInNlbGVjdGVkT3B0aW9uIiwiZmluZFNlbGVjdGVkIiwiY2hhcmFjdGVyQ29kZSIsIndoaWNoIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwiYWN0aXZlT3B0aW9uIiwiYWN0aXZlTGluayIsIm9wdGlvbkxpbmtzIiwiZG93biIsIm1vdmVEb3duT25lT3B0aW9uIiwidXAiLCJtb3ZlVXBPbmVPcHRpb24iLCJyZXR1cm4iLCJjbGljayIsInByZXZpb3VzT3B0aW9uIiwicHJldmlvdXNPcHRpb25MaW5rIiwic2VsZWN0T3B0aW9uVXNpbmdMaW5rIiwibmV4dE9wdGlvbiIsIm5leHRPcHRpb25MaW5rIiwidHJhbnNjbHVkZWRPcHRpb24iLCJub3RlIiwic2VhcmNoYWJsZSIsImlzVmFsaWRNb2RlbCIsIm9wdGlvbk1hdGNoIiwicmVxdWlyZWQiLCIkY29tbWl0Vmlld1ZhbHVlIiwidGVybSIsInNlYXJjaFRlcm0iLCJjb250YWluc1NlYXJjaCIsImJyZWFrcG9pbnRzIiwidmFsaWRCcmVha3BvaW50cyIsInhzIiwic20iLCJtZCIsImxnIiwieGwiLCJzcGxpdCIsImJyZWFrcG9pbnQiLCJpY29uIiwiaGVscEltYWdlIiwiYnV0dG9uVGV4dCIsImRyb3BwaW5nVGV4dCIsInByb2Nlc3NpbmdUZXh0Iiwic3VjY2Vzc1RleHQiLCJmYWlsdXJlVGV4dCIsImNhbWVyYU92ZXJsYXkiLCJjYW1lcmFEaXJlY3Rpb24iLCJkZXNjcmlwdGlvbiIsImluc3RydWN0aW9ucyIsIlVwbG9hZENvbnRyb2xsZXIiLCJpc0xpdmVDYW1lcmFVcGxvYWQiLCJpc0RvbmUiLCJjbGVhckh0bWxJbnB1dCIsInNldE5nTW9kZWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXQiLCJpc0Ryb3BwYWJsZSIsImlzRHJvcEVsaWdpYmxlIiwiZmlsZXMiLCJpc0ltYWdlIiwibG9jYWxzIiwibG9jYXRpb24iLCJiYXNlVXJsIiwicHJvdG9jb2wiLCJob3N0IiwiY3VycmVudERpciIsInBhdGhuYW1lIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsIiQxIiwidGVzdCIsImlucHV0RmlsZSIsInNob3dMaXZlQ2FwdHVyZVNjcmVlbiIsInZpZXdJY29uIiwiJHEiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiZGVmZXJyZWQiLCJkZWZlciIsIm9ubG9hZCIsInJlc29sdmUiLCJvbmVycm9yIiwicmVqZWN0IiwicmVhZEFzRGF0YVVSTCIsInByb21pc2UiLCIkaHR0cCIsImZpZWxkTmFtZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCIkaHR0cE9wdGlvbnMiLCIkaW5wdXRPcHRpb25zIiwiY29weSIsInVybCIsImhlYWRlcnMiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJwcmVwYXJlSHR0cE9wdGlvbnMiLCJtZXRob2QiLCJwb3N0IiwiaXNOdW1iZXIiLCJpbnB1dE9wdGlvbnMiLCJzdGF0ZSIsIm9uU3RvcCIsIlByb2Nlc3NDb250cm9sbGVyIiwiJGludGVydmFsIiwiaW50ZXJ2YWwiLCJwcm9jZXNzaW5nIiwib25TdGF0ZUNoYW5nZSIsIm9uU2l6ZUNoYW5nZSIsImlzU3RvcHBlZCIsInN0YXJ0UHJvY2VzcyIsInN0b3BQcm9jZXNzIiwicmFkaXVzIiwibm90aWZ5Q29uc3VtZXJzIiwiY2FuY2VsIiwiU3VjY2Vzc0NhcmRDb250cm9sbGVyIiwiZmlsZU5hbWUiLCJDYW1lcmFDYXB0dXJlU2NyZWVuSGFuZGxlciIsIkNhbWVyYU92ZXJsYXlIYW5kbGVyIiwib3ZlcmxheSIsImRpcmVjdGlvbiIsIm9uQ2FwdHVyZSIsInRlc3RNb2RlIiwiQ2FtZXJhQ2FwdHVyZUNvbnRyb2xsZXIiLCIkd2luZG93IiwiJGxvZyIsInNob3dWaWRlb1ByZXZpZXciLCJzaG93VmlkZW9JblByZXZpZXciLCJzaG93Q2FwdHVyZUluUHJldmlldyIsIm1lZGlhU3RyZWFtIiwiY2FwdHVyZUJ1dHRvbkRpc2FibGVkIiwic2NyZWVuSGVpZ2h0Iiwic2NyZWVuV2lkdGgiLCJ2aWRlb1Jlc0hlaWdodCIsInZpZGVvUmVzV2lkdGgiLCJvdmVybGF5V2lkdGgiLCJvdmVybGF5SGVpZ2h0Iiwib3ZlcmxheVhPZmZzZXQiLCJvdmVybGF5WU9mZnNldCIsImRpc3BsYXlDYW52YXNYT2Zmc2V0IiwiZGlzcGxheUNhbnZhc1lPZmZzZXQiLCJ2aWRlb1hPZmZzZXQiLCJ2aWRlb0hlaWdodCIsInZpZGVvV2lkdGgiLCJpc1ZpZGVvSG9yaXpvbnRhbGx5RmxpcHBlZCIsImhhc0dldFVzZXJNZWRpYSIsIndhcm4iLCJvdmVybGF5TG9hZGVkIiwib3ZlcmxheUVsZW1lbnQiLCJkaXNwbGF5Q2FudmFzIiwidXBsb2FkQ2FudmFzIiwidmlkZW9QcmV2aWV3RWxlbWVudCIsInZpZGVvIiwiYXNzaWduVmlkZW9EaW1lbnNpb25zIiwiZGVidWciLCJnZXRWaWRlb1NwZWNpZmljYXRpb25zIiwidmlkZW9IZWlnaHRJblBlcmNlbnRhZ2UiLCJ2aWRlb1dpZHRoSW5QZXJjZW50YWdlIiwidmlkZW9QbGF5aW5nQ2FsbGJhY2siLCIkYXBwbHlBc3luYyIsInZpZGVvUGxheWluZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvbk9yaWVudGF0aW9uQ2hhbmdlIiwic3RhcnRMaXZlQ2FtRmxvdyIsImNyZWF0ZU9yaWVudGF0aW9uQ2hhbmdlQ2FsbGJhY2siLCJwYXVzZSIsInRyeUFjcXVpcmVGdWxsU2NyZWVuIiwiZmluYWxseSIsInNldFNjcmVlbkRpbWVuc2lvbnMiLCJuYXR1cmFsSGVpZ2h0IiwibmF0dXJhbFdpZHRoIiwiY3JlYXRlT3ZlcmxheU9uTG9hZENhbGxiYWNrIiwidHJ5QWNxdWlyZU1lZGlhU3RyZWFtIiwic3RyZWFtIiwib25WaWRlb1N0cmVhbUFjcXVpc2l0aW9uIiwiZXJyIiwib25DYW5jZWxCdG5DbGljayIsInNjcmVlbmZ1bGwiLCJlbmFibGVkIiwiaXNGdWxsc2NyZWVuIiwicmVxdWVzdCIsInNyY09iamVjdCIsInBsYXkiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJlbnVtZXJhdGVEZXZpY2VzIiwiZGV2aWNlcyIsIm51bVZpZGVvRGV2aWNlcyIsImRldmljZSIsImtpbmQiLCJjYW1lcmFDb25zdHJhaW50cyIsIndpZHRoIiwibWluIiwiaWRlYWwiLCJtYXgiLCJmYWNpbmdNb2RlIiwiYXVkaW8iLCJnZXRVc2VyTWVkaWEiLCJzY3JlZW4iLCJoZWlnaHQiLCJhdmFpbEhlaWdodCIsImF2YWlsV2lkdGgiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJleGl0IiwiZ2V0VHJhY2tzIiwidHJhY2siLCJzdG9wIiwiY2xvc2VWaWRlb1N0cmVhbSIsImdldENhbnZhc1NwZWNpZmljYXRpb25zIiwieU9mZnNldCIsInhPZmZzZXQiLCJwYWludEhlaWdodCIsInBhaW50V2lkdGgiLCJjdHgiLCJnZXRDb250ZXh0IiwicmVzZXRUcmFuc2Zvcm0iLCJkcmF3SW1hZ2UiLCJ0b0Jsb2IiLCJsZWZ0IiwidG9wIiwiZ2V0T3ZlcmxheVNwZWNpZmljYXRpb25zIiwiaXNDb21tb25qcyIsImtleWJvYXJkQWxsb3dlZCIsIkVsZW1lbnQiLCJ2YWwiLCJmbk1hcCIsInJldCIsImV2ZW50TmFtZU1hcCIsImNoYW5nZSIsImZ1bGxzY3JlZW5jaGFuZ2UiLCJmdWxsc2NyZWVuZXJyb3IiLCJlbGVtIiwiUHJvbWlzZSIsInJlcXVlc3RGdWxsc2NyZWVuIiwib25GdWxsU2NyZWVuRW50ZXJlZCIsIm9mZiIsImRvY3VtZW50RWxlbWVudCIsInVzZXJBZ2VudCIsIkFMTE9XX0tFWUJPQVJEX0lOUFVUIiwib24iLCJvbkZ1bGxTY3JlZW5FeGl0IiwiZXhpdEZ1bGxzY3JlZW4iLCJ0b2dnbGUiLCJvbmNoYW5nZSIsImNhbGxiYWNrIiwiZXZlbnROYW1lIiwicmF3IiwiZGVmaW5lUHJvcGVydGllcyIsImZ1bGxzY3JlZW5FbGVtZW50IiwiZnVsbHNjcmVlbkVuYWJsZWQiLCJoYXNOYXJyb3dWaWRlb0luUG9ydHJhaXRTY3JlZW4iLCJwYXJzZUludCIsImhhc05hcnJvd1ZpZGVvSW5MYW5kU2NhcGVTY3JlZW4iLCJjYW52YXNEaW1lbnNpb25zIiwiZ2V0Q2FudmFzU3BlY3NGb3JQb3J0cmFpdFNjcmVlbldpdGhOYXJyb3dWaWRlbyIsImdldENhbnZhc1NwZWNzRm9yTGFuZHNjYXBlU2NyZWVuV2l0aE5hcnJvd1ZpZGVvIiwiaGVpZ2h0TXVsdCIsIndpZHRoTXVsdCIsImNhbnZhc1dpZHRoIiwiY2FudmFzSGVpZ2h0IiwiY2FudmFzWE9mZnNldCIsImNhbnZhc1lPZmZzZXQiLCJnZXRDYW52YXNTcGVjcyIsIm92ZXJsYXlOYXR1cmFsSGVpZ2h0Iiwib3ZlcmxheU5hdHVyYWxXaWR0aCIsImdldE92ZXJsYXlDb250YWluZXIiLCJjb250YWluZXJIZWlnaHQiLCJjb250YWluZXJXaWR0aCIsImNvbnRhaW5lcllPZmZzZXQiLCJjb250YWluZXJYT2Zmc2V0IiwiZ2V0T3ZlcmxheVNwZWNpZmljYXRpb25zV3J0Q29udGFpbmVyIiwiaXNTY3JlZW5Qb3J0cmFpdCIsImF2YWlsYWJsZUhlaWdodCIsImlzU2NyZWVuTGFuZHNjYXBlIiwib3ZlcmxheVhNYXJnaW4iLCJvdmVybGF5WU1hcmdpbiIsIm92ZXJsYXlIZWlnaHRXaWR0aFJhdGlvIiwibWF4V2lkdGgiLCJtYXhIZWlnaHQiLCJpc1NlY29uZGFyeSIsInNtYWxsIiwiYmxvY2siLCJtb2RlbCIsIm11bHRpcGxlIiwib25DbGljayIsIkZpbGVJbnB1dENvbnRyb2xsZXIiLCJvblVzZXJJbnB1dCIsImNvbnRyb2xsZXJBcyIsImJpbmRUb0NvbnRyb2xsZXIiLCJzY29wZSIsIkNvbXBvbmVudCIsImFkZE1vcmVCdXR0b25UZXh0Iiwib25GaW5pc2giLCJhcmVBbGxGaWxlc1Byb2Nlc3NlZCIsIm9iakRpdiIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImZpbGVPYmplY3QiLCJzb21lIiwidHdEcm9wIiwiJHBhcnNlIiwiJHJvb3RTY29wZSIsIiRleGNlcHRpb25IYW5kbGVyIiwiYXR0ciIsImNvdW50ZXIiLCJkYXRhVHJhbnNmZXIiLCIkJHBoYXNlIiwiJGFwcGx5IiwidHdEcmFnRW50ZXIiLCIkZXZhbEFzeW5jIiwidHdEcmFnTGVhdmUiLCJsb2NhbGUiLCJ0d0xvY2FsZSIsIm5nTWluIiwibmdNYXgiLCJtb2RlbFR5cGUiLCJEYXRlQ29udHJvbGxlciIsIlR3RGF0ZVNlcnZpY2UiLCJpbml0aWFsaXNlZFdpdGhEYXRlIiwiYXBwbHlEYXRlTW9kZWxJZlZhbGlkT3JUaHJvd0Vycm9yIiwiU1RSSU5HX1RZUEUiLCJPQkpFQ1RfVFlQRSIsImRhdGVNb2RlbFR5cGUiLCJkYXkiLCJtb250aCIsInllYXIiLCJzZXREYXRlUmVxdWlyZWQiLCJzZXREYXRlRGlzYWJsZWQiLCJzZXREYXRlTG9jYWxlIiwic2V0TW9udGhzIiwiYWRkVmFsaWRhdG9ycyIsImRheUlucHV0IiwieWVhcklucHV0IiwiYWRkRm9jdXNIYW5kbGVycyIsInllYXJUb3VjaGVkIiwiYWRkQmx1ckhhbmRsZXJzIiwidmFsaWREYXRlIiwiZXhwbG9kZURhdGVNb2RlbCIsImRhdGVNb250aHMiLCJnZXRNb250aHNCYXNlZE9uSW50bFN1cHBvcnRGb3JMb2NhbGUiLCJkYXRlUmVxdWlyZWQiLCJkYXRlRGlzYWJsZWQiLCJERUZBVUxUX0xPQ0FMRV9FTiIsIm1vbnRoQmVmb3JlRGF5IiwiaXNNb250aEJlZm9yZURheSIsImRhdGUiLCJkYXRlT2JqIiwiRGF0ZSIsImdldFVUQ0RhdGUiLCJnZXRVVENNb250aCIsImdldFVUQ0Z1bGxZZWFyIiwiJHZhbGlkYXRvcnMiLCJsaW1pdCIsInByZXBEYXRlTGltaXRGb3JDb21wYXJpc29uIiwiZGF0ZVZhbHVlIiwicHJlcERhdGVWYWx1ZUZvckNvbXBhcmlzb24iLCJhZGp1c3RMYXN0RGF5IiwibW9udGhOYW1lcyIsIm1vbnRoTmFtZSIsImV4dGVuZE1vbnRoc1dpdGhJZHMiLCJnZXRNb250aE5hbWVzRm9yTG9jYWxlIiwiZ2V0VVRDRGF0ZUZyb21QYXJ0cyIsIk51bWJlciIsImlzTmFOIiwiY29tYmluZURhdGUiLCJpc29TdHJpbmciLCJ0b0lTT1N0cmluZyIsImRhdGVTdHJpbmciLCJzdWJzdHJpbmciLCJsYXN0VVRDRGF5Rm9yTW9udGhBbmRZZWFyIiwiZ2V0TGFzdERheU9mTW9udGgiLCJ2YWxpZERhdGVPYmplY3QiLCJnZXRUaW1lIiwibmdMaW1pdCIsImF0dHJMaW1pdCIsImdldERlZmF1bHREYXlOYW1lIiwiZGF5T2ZXZWVrIiwiZm9ybWF0IiwiZGVmYXVsdERheU5hbWUiLCJsYW5ndWFnZSIsImdldExhbmd1YWdlRnJvbUxvY2FsZSIsIkRFRkFVTFRfREFZX05BTUVTX0JZX0xBTkdVQUdFIiwic3Vic3RyIiwiZ2V0RGVmYXVsdE1vbnRoTmFtZSIsIkRFRkFVTFRfTU9OVEhfTkFNRVNfQllfTEFOR1VBR0UiLCJnZXREYXRlTmFtZSIsImRheU9mTW9udGgiLCJsYW5nIiwiZ2V0U3VmZml4IiwiREFZX1NVRkZJWEVTX0JZX0xBTkdVQUdFIiwiZ2V0WWVhck5hbWUiLCJZRUFSX1NVRkZJWEVTX0JZX0xBTkdVQUdFIiwiZ2V0TG9jYWxpc2VkRGF0ZU5hbWUiLCJmb3JtYXR0aW5nT2JqZWN0IiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwiaXNMb2NhbGVUcmFuc2xhdGlvblJlcXVpcmVzU3RyaXBwaW5nIiwiZ2V0VmFsaWREYXRlRm9ybWF0IiwiZ2V0VmFsaWRMb2NhbGUiLCJJbnRsIiwiRGF0ZVRpbWVGb3JtYXQiLCJzdXBwb3J0ZWRMb2NhbGVzT2YiLCJpc0ludGxTdXBwb3J0ZWRGb3JMb2NhbGUiLCJnZXREZWxpbWl0ZXIiLCJERUxJTUlURVJTX0JZX0xBTkdVQUdFIiwic3VmZml4ZXMiLCJleGFjdE1hdGNoIiwiZW5kc1dpdGgiLCJnZXRMb2NhbGVEYXRlIiwiZ2V0RGF0ZSIsImdldExvY2FsZU1vbnRoIiwiZ2V0TW9udGgiLCJnZXRMb2NhbGVGdWxsWWVhciIsImdldEZ1bGxZZWFyIiwiZ2V0TG9jYWxlVG9kYXkiLCJub3ciLCJnZXRVVENUb2RheSIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJzZXRVVENGdWxsWWVhciIsInNldFVUQ0hvdXJzIiwic2V0VVRDTWludXRlcyIsInNldFVUQ1NlY29uZHMiLCJzZXRVVENNaWxsaXNlY29uZHMiLCJnZXRMb2NhbGVEYXRlRnJvbVBhcnRzIiwic2V0RnVsbFllYXIiLCJzZXRIb3VycyIsInNldE1pbnV0ZXMiLCJzZXRTZWNvbmRzIiwic2V0TWlsbGlzZWNvbmRzIiwiZ2V0RGF0ZVBhcnRzRnJvbUlzbyIsImlzb0RhdGUiLCJob3Vyc09mZnNldCIsIm1pbnV0ZXNPZmZzZXQiLCJvZmZzZXQiLCJtYXRjaCIsImlzSXNvU3RyaW5nVmFsaWQiLCJSZWdFeHAiLCJnZXRVVENEYXRlRnJvbUlzbyIsImdldERheU5hbWVzRm9yTG9jYWxlIiwiZGF5cyIsInZhbGlkRm9ybWF0IiwiZ2V0RGF5TmFtZUZvckxvY2FsZSIsInZhbGlkTG9jYWxlIiwid2Vla2RheSIsIm1vbnRocyIsImdldE1vbnRoTmFtZUZvckxvY2FsZSIsImRlZmF1bHRNb250aE5hbWUiLCJzbGljZSIsImdldFdlZWtkYXkiLCJnZXRVVENEYXkiLCJpc1llYXJCZWZvcmVNb250aCIsImFkZFllYXJzIiwieWVhcnMiLCJhZGRUb0RhdGUiLCJhZGRNb250aHMiLCJhZGREYXlzIiwiZ2V0TG9jYWxlVGltZVN0cmluZyIsImdldFRpbWVTdHJpbmciLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiYW1wbSIsImdldFllYXJBbmRNb250aFByZXNlbnRhdGlvbiIsInllYXJOYW1lIiwiZGVsaW1pdGVyIiwiZ2V0WWVhck1vbnRoRGF0ZVByZXNlbnRhdGlvbiIsImRhdGVOYW1lIiwiZ2V0TG9jYWxlTm93IiwiZ2V0VVRDTm93IiwiZ2V0VVRDSG91cnMiLCJnZXRVVENNaW51dGVzIiwiZ2V0VVRDU2Vjb25kcyIsImdldExvY2FsZURhdGVTdHJpbmciLCJnZXREYXRlU3RyaW5nIiwiZ2V0RGF5IiwiZ2V0VVRDRGF0ZVN0cmluZyIsImN1cnJlbnRZZWFyIiwiaGFzVGltZSIsIk1hdGgiLCJhYnMiLCJoYXNEYXRlIiwiaGFzV2Vla2RheSIsImhhc01vbnRoIiwid2Vla2RheU5hbWUiLCJ0aW1lTmFtZSIsImNvbWJpbmVEYXRlUGFydHMiLCJkYXlOYW1lIiwiZW4iLCJqYSIsIjExIiwiMTIiLCIxMyIsIjEiLCIyIiwiMyIsImRlIiwiZmkiLCJEYXRlRGlzcGxheSIsIkRhdGVGb3JtYXRGaWx0ZXIiLCJkYXRlU3VwcGxpZWQiLCJzdGVwIiwidXBsb2FkQWNjZXB0IiwidXBsb2FkSWNvbiIsInVwbG9hZFRvb0xhcmdlTWVzc2FnZSIsIm5nRm9jdXMiLCJuZ0JsdXIiLCJuZ01pbmxlbmd0aCIsIm5nTWF4bGVuZ3RoIiwibmdQYXR0ZXJuIiwidXBsb2FkT3B0aW9ucyIsImhlbHBPcHRpb25zIiwidGV4dEZvcm1hdCIsInZhbGlkYXRpb25Bc3luYyIsInBlcnNpc3RBc3luYyIsIm9uQXN5bmNGYWlsdXJlIiwib25Bc3luY1N1Y2Nlc3MiLCJmaWxlVXBsb2FkU291cmNlIiwiY2FtZXJhT3B0aW9ucyIsIkZvcm1Db250cm9sQ29udHJvbGxlciIsImludGVybmFsTW9kZWwiLCJtb2RlbFZhbHVlIiwidmlld1ZhbHVlIiwibWlubGVuZ3RoIiwibWF4bGVuZ3RoIiwiJGZvcm1hdHRlcnMiLCJpbml0aWFsRmllbGQiLCJjaGFuZ2VIYW5kbGVyIiwiZm9jdXNIYW5kbGVyIiwiYmx1ckhhbmRsZXIiLCJ3YXJuaW5nTWVzc2FnZSIsIkZpZWxkQ29udHJvbGxlciIsImZpZWxkIiwicGFyc2UiLCJjb250cm9sIiwiZ2V0Q29udHJvbFR5cGUiLCJ2YWx1ZXNBc3luYyIsInByZXBWYWx1ZXNBc3luYyIsImVudW0iLCJleHRyYWN0RXJyb3JzIiwib3JpZ2luYWxEYXRhIiwiQXJyYXkiLCJlcnJvcnMiLCJjb250cm9sVHlwZSIsImZsYXR0ZW5GaWVsZHNXaXRoR3JvdXBzIiwiZmllbGRzIiwiZmxhdHRlbmVkRmllbGRzIiwiZmxhdHRlbkZpZWxkV2l0aEdyb3VwIiwiZ3JvdXAiLCJzdWJGaWVsZHMiLCJ0b29sdGlwIiwiaGVscFRleHQiLCJpbmZvIiwibmVzdGVkRmllbGQiLCJwcmVwTGVnYWN5VmFsdWUiLCJ0aXRsZSIsImNvZGUiLCJwcmVwUmVxdWlyZW1lbnRzIiwiYWx0ZXJuYXRpdmVzIiwicHJlcHBlZEFsdGVybmF0aXZlcyIsImNvcHlPZiIsImFsdGVybmF0aXZlIiwicHJlcGFyZWQiLCJwcmVwTGVnYWN5QWx0ZXJuYXRpdmVzIiwicHJvcGVydGllcyIsInByZXBGaWVsZHMiLCJ0eXBlcyIsImhpZGRlbiIsInByZXBhcmVkRmllbGRzIiwiZmllbGRNYXAiLCJuZXN0ZWRGaWVsZHMiLCJwYXRoU2VjdGlvbnMiLCJuZXN0ZWRLZXkiLCJ0cmFuc2Zvcm1OZXN0ZWRLZXlzVG9OZXN0ZWRTcGVjcyIsInRyYW5zZm9ybUZpZWxkQXJyYXlUb01hcCIsInByZXBGaWVsZCIsInByZXBhcmVkRmllbGQiLCJwcmVwTGVnYWN5UHJvcHMiLCJwcmVwVHlwZSIsInByZXBQYXR0ZXJuIiwicHJlcFZhbGlkYXRpb25NZXNzYWdlcyIsInByZXBIZWxwIiwidGFiVHlwZSIsInRhYk5hbWVXaXRoU3BhY2VzIiwiY2hhckF0IiwiZ2V0TmFtZUZyb21UeXBlIiwiZmllbGRHcm91cHMiLCJ2YWxpZGF0aW9uUmVnZXhwIiwicGF0dGVybiIsIm1pbmltdW0iLCJtYXhpbXVtIiwiZXhhbXBsZSIsInZhbHVlc0FsbG93ZWQiLCJ2YWx1ZXMiLCJwcmVwTGVnYWN5VmFsdWVzIiwiZXgiLCJjb25zb2xlIiwicG9zdERhdGEiLCJwYXJhbXMiLCJnZXRQYXJhbVZhbHVlc0Zyb21Nb2RlbCIsImZldGNoVmFsdWVzQXN5bmMiLCJwYXJhbWV0ZXJOYW1lIiwiaGVscCIsImhlbHBMaXN0IiwidXBsb2FkUGxhY2Vob2xkZXJJbWFnZSIsImltYWdlIiwiZ2V0UmVxdWlyZWRGaWVsZHMiLCJnZXRTZWxlY3Rpb25UeXBlIiwiZ2V0Q29udHJvbEZvclN0cmluZ0Zvcm1hdCIsIlZhbGlkYXRpb25Db250cm9sbGVyIiwidmFsaWRhdGlvbiIsImNoZWNrTW9kZWxBbmRVcGRhdGUiLCIkdmFsaWQiLCIkZGlydHkiLCJpc1ZhbGlkT2JqZWN0U2NoZW1hIiwic2NoZW1hIiwiaXNPYmplY3QiLCJwcm9wZXJ0eU5hbWUiLCJwcm9wZXJ0eVZhbHVlIiwicHJvcGVydHlTY2hlbWEiLCJpc1ZhbGlkU2NoZW1hIiwiaXNPYmplY3RQcm9wZXJ0eVZhbGlkIiwicmVkdWNlIiwidmFsaWRTb0ZhciIsInZhbGlkUHJvcGVydHkiLCJvbmVPZiIsIml0ZXIiLCJpc1ZhbGlkT25lT2ZTY2hlbWEiLCJhbGxPZiIsImlzVmFsaWRBbGxPZlNjaGVtYSIsImdldFN0cmluZ1ZhbGlkYXRpb25GYWlsdXJlcyIsImlzVmFsaWRTdHJpbmdTY2hlbWEiLCJnZXROdW1iZXJWYWxpZGF0aW9uRmFpbHVyZXMiLCJpc1ZhbGlkTnVtYmVyU2NoZW1hIiwiZ2V0SW50ZWdlclZhbGlkYXRpb25GYWlsdXJlcyIsImlzVmFsaWRJbnRlZ2VyU2NoZW1hIiwiZ2V0Qm9vbGVhblZhbGlkYXRpb25GYWlsdXJlcyIsImlzVmFsaWRCb29sZWFuU2NoZW1hIiwiaXRlbXMiLCJnZXRBcnJheVZhbGlkYXRpb25GYWlsdXJlcyIsImlzVmFsaWRBcnJheVNjaGVtYSIsImlzU3RyaW5nIiwiaXNJbnRlZ2VyIiwiZmxvb3IiLCJpc0Jvb2xlYW4iLCJjb25zdHJ1Y3RvciIsImZhaWx1cmVzIiwiaXNWYWxpZFJlcXVpcmVkIiwiaXNWYWxpZE1pbkxlbmd0aCIsIm1pbkxlbmd0aCIsImlzVmFsaWRNYXhMZW5ndGgiLCJtYXhMZW5ndGgiLCJpc1ZhbGlkUGF0dGVybiIsImlzVmFsaWRNaW4iLCJpc1ZhbGlkTWF4IiwiaXNWYWxpZE1pbkl0ZW1zIiwibWluSXRlbXMiLCJpc1ZhbGlkTWF4SXRlbXMiLCJtYXhJdGVtcyIsImdldE9iamVjdFZhbGlkYXRpb25GYWlsdXJlcyIsInByb3AiLCJwcm9wSW5Nb2RlbCIsImdldFZhbGlkYXRpb25GYWlsdXJlcyIsImdldFZhbGlkTW9kZWxQYXJ0cyIsImNsZWFuZWRNb2RlbCIsInZhbGlkU3Vic2V0T2ZNb2RlbCIsIm5lc3RlZFNjaGVtYSIsImV4dGVuZCIsImNsZWFuTW9kZWxXaXRoQWxsT2ZTY2hlbWEiLCJjbGVhbk1vZGVsV2l0aE9uZU9mU2NoZW1hIiwiY2xlYW5Nb2RlbFdpdGhPYmplY3RTY2hlbWEiLCJjaGlsZE1vZGVsIiwiY2xlYW5Nb2RlbFdpdGhBcnJheVNjaGVtYSIsImNsZWFuTW9kZWxXaXRoU3RyaW5nU2NoZW1hIiwiY2xlYW5Nb2RlbFdpdGhOdW1iZXJTY2hlbWEiLCJjbGVhbk1vZGVsV2l0aEJvb2xlYW5TY2hlbWEiLCJyZWdleCIsIkZvcm0iLCJBbGxPZlNjaGVtYSIsIkFycmF5U2NoZW1hIiwiQmFzaWNUeXBlU2NoZW1hIiwiR2VuZXJpY1NjaGVtYSIsIk9iamVjdFNjaGVtYSIsIk9uZU9mU2NoZW1hIiwiVmFsaWRhdGlvbiIsInRyYW5zbGF0aW9ucyIsIm9uQ2hhbmdlIiwiaXNWYWxpZCIsIm1vZGVscyIsInNjaGVtYXMiLCJzcGxpdE1vZGVsIiwic2NoZW1hRm9ySW5kZXgiLCJjdXJyZW50IiwiY29tYmluZWQiLCJzaW1wbGVUeXBlcyIsIm5ld0l0ZW0iLCJnZXROZXdJdGVtIiwiZ2V0QXJyYXlUeXBlIiwiYXJyYXlUeXBlIiwicmFuZG9tIiwidmFsaWRhdGlvbktleXMiLCJoaWRlVGl0bGUiLCJuZXdTY2hlbWEiLCJvdXRwdXRNb2RlbCIsImluY2x1ZGVzIiwiYWN0aXZlSW5kZXgiLCJnZXRBY3RpdmVTY2hlbWFJbmRleCIsInByZWZpbGxNb2RlbHMiLCJydWxlVmFsaWRhdG9ycyIsInR5cGVWYWxpZGF0b3JzIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxP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WCxXQUNFWSxLQUFLay9CLG1CQUFxQkEscUJBQzFCbC9CLEtBQUtpL0Isc0JBQXdCQSx3QkFDN0JqL0IsS0FBS3U4QixjQUFnQkEsZ0JBQ3JCdjhCLEtBQUsraEMsZUFBaUJBLEVBQ3RCL2hDLEtBQUtnaUMsZUFBaUJBLElBS21CdGtDIiwiZmlsZSI6ImRpc3QvanMvanNvbi1zY2hlbWEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjA3KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gYW5ndWxhcjsiLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBEb21TZXJ2aWNlIGZyb20gJy4vZG9tLnNlcnZpY2UuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuc2VydmljZXMuZG9tJywgW10pXG4gIC5zZXJ2aWNlKCdUd0RvbVNlcnZpY2UnLCBEb21TZXJ2aWNlKS5uYW1lO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgRm9jdXNhYmxlIGZyb20gJy4vZm9jdXNhYmxlLmRpcmVjdGl2ZS5qcyc7XG5pbXBvcnQgRm9ybUNvbnRyb2xGb2N1cyBmcm9tICcuL2Zvcm0tY29udHJvbC5kaXJlY3RpdmUuanMnO1xuaW1wb3J0IERvbVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvZG9tJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLmZvY3VzYWJsZScsIFtcbiAgICBEb21TZXJ2aWNlXG4gIF0pXG4gIC5kaXJlY3RpdmUoJ3R3Rm9jdXNhYmxlJywgRm9jdXNhYmxlKVxuICAuZGlyZWN0aXZlKCdmb3JtQ29udHJvbCcsIEZvcm1Db250cm9sRm9jdXMpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBEYXRlU2VydmljZSBmcm9tICcuL2RhdGUuc2VydmljZS5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5zZXJ2aWNlcy5kYXRlJywgW10pXG4gIC5zZXJ2aWNlKCdUd0RhdGVTZXJ2aWNlJywgRGF0ZVNlcnZpY2UpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi9zZWxlY3QuY29tcG9uZW50LmpzJztcbmltcG9ydCBEb21TZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL2RvbSc7XG5pbXBvcnQgRm9jdXNhYmxlIGZyb20gJy4uL2ZvY3VzYWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3Jtcy5zZWxlY3QnLCBbXG4gICAgRG9tU2VydmljZSxcbiAgICBGb2N1c2FibGVcbiAgXSlcbiAgLmNvbXBvbmVudCgndHdTZWxlY3QnLCBTZWxlY3QpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBSZXF1aXJlbWVudHNTZXJ2aWNlIGZyb20gJy4vcmVxdWlyZW1lbnRzLnNlcnZpY2UuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuc2VydmljZXMucmVxdWlyZW1lbnRzJywgW10pXG4gIC5zZXJ2aWNlKCdUd1JlcXVpcmVtZW50c1NlcnZpY2UnLCBSZXF1aXJlbWVudHNTZXJ2aWNlKS5uYW1lO1xuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0dmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cdFx0XHRpZihpdGVtWzJdKSB7XG5cdFx0XHRcdHJldHVybiBcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGNvbnRlbnQgKyBcIn1cIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBjb250ZW50O1xuXHRcdFx0fVxuXHRcdH0pLmpvaW4oXCJcIik7XG5cdH07XG5cblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3Rcblx0bGlzdC5pID0gZnVuY3Rpb24obW9kdWxlcywgbWVkaWFRdWVyeSkge1xuXHRcdGlmKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKVxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xuXHRcdHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XG5cdFx0XHRpZih0eXBlb2YgaWQgPT09IFwibnVtYmVyXCIpXG5cdFx0XHRcdGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcblx0XHR9XG5cdFx0Zm9yKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBtb2R1bGVzW2ldO1xuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxuXHRcdFx0Ly8gdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBub3QgMTAwJSBwZXJmZWN0IGZvciB3ZWlyZCBtZWRpYSBxdWVyeSBjb21iaW5hdGlvbnNcblx0XHRcdC8vICB3aGVuIGEgbW9kdWxlIGlzIGltcG9ydGVkIG11bHRpcGxlIHRpbWVzIHdpdGggZGlmZmVyZW50IG1lZGlhIHF1ZXJpZXMuXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXHRcdFx0aWYodHlwZW9mIGl0ZW1bMF0gIT09IFwibnVtYmVyXCIgfHwgIWFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcblx0XHRcdFx0aWYobWVkaWFRdWVyeSAmJiAhaXRlbVsyXSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuXHRcdFx0XHR9IGVsc2UgaWYobWVkaWFRdWVyeSkge1xuXHRcdFx0XHRcdGl0ZW1bMl0gPSBcIihcIiArIGl0ZW1bMl0gKyBcIikgYW5kIChcIiArIG1lZGlhUXVlcnkgKyBcIilcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRsaXN0LnB1c2goaXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRyZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG5cdHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJztcblx0dmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXHRpZiAoIWNzc01hcHBpbmcpIHtcblx0XHRyZXR1cm4gY29udGVudDtcblx0fVxuXG5cdGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcblx0XHR2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcblx0XHR2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuXHRcdFx0cmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJ1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG5cdH1cblxuXHRyZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuXHR2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcblx0dmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcblxuXHRyZXR1cm4gJy8qIyAnICsgZGF0YSArICcgKi8nO1xufVxuIiwiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cblxudmFyIHN0eWxlc0luRG9tID0ge307XG5cbnZhclx0bWVtb2l6ZSA9IGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbztcblxuXHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikgbWVtbyA9IGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdFx0cmV0dXJuIG1lbW87XG5cdH07XG59O1xuXG52YXIgaXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuXHQvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuXHQvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG5cdC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcblx0Ly8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG5cdC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuXHRyZXR1cm4gd2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2I7XG59KTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uICh0YXJnZXQsIHBhcmVudCkge1xuICBpZiAocGFyZW50KXtcbiAgICByZXR1cm4gcGFyZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIHBhcmVudCk7XG5cdFx0XHQvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXHRcdFx0aWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG5cdFx0XHRcdFx0Ly8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuXHRcdFx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdFx0XHRzdHlsZVRhcmdldCA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuXHRcdH1cblx0XHRyZXR1cm4gbWVtb1t0YXJnZXRdXG5cdH07XG59KSgpO1xuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhclx0c2luZ2xldG9uQ291bnRlciA9IDA7XG52YXJcdHN0eWxlc0luc2VydGVkQXRUb3AgPSBbXTtcblxudmFyXHRmaXhVcmxzID0gcmVxdWlyZShcIi4vdXJsc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsaXN0LCBvcHRpb25zKSB7XG5cdGlmICh0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcblx0XHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuXHRvcHRpb25zLmF0dHJzID0gdHlwZW9mIG9wdGlvbnMuYXR0cnMgPT09IFwib2JqZWN0XCIgPyBvcHRpb25zLmF0dHJzIDoge307XG5cblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09IFwiYm9vbGVhblwiKSBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSA8aGVhZD4gZWxlbWVudFxuICAgICAgICBpZiAoIW9wdGlvbnMuaW5zZXJ0SW50bykgb3B0aW9ucy5pbnNlcnRJbnRvID0gXCJoZWFkXCI7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIHRoZSB0YXJnZXRcblx0aWYgKCFvcHRpb25zLmluc2VydEF0KSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QsIG9wdGlvbnMpO1xuXG5cdGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucyk7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSAobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0XHRkb21TdHlsZS5yZWZzLS07XG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XG5cdFx0fVxuXG5cdFx0aWYobmV3TGlzdCkge1xuXHRcdFx0dmFyIG5ld1N0eWxlcyA9IGxpc3RUb1N0eWxlcyhuZXdMaXN0LCBvcHRpb25zKTtcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XG5cdFx0fVxuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBtYXlSZW1vdmUubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcblxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSBkb21TdHlsZS5wYXJ0c1tqXSgpO1xuXG5cdFx0XHRcdGRlbGV0ZSBzdHlsZXNJbkRvbVtkb21TdHlsZS5pZF07XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufTtcblxuZnVuY3Rpb24gYWRkU3R5bGVzVG9Eb20gKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGRvbVN0eWxlLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IoOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHBhcnRzID0gW107XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNJbkRvbVtpdGVtLmlkXSA9IHtpZDogaXRlbS5pZCwgcmVmczogMSwgcGFydHM6IHBhcnRzfTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzIChsaXN0LCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcblx0XHR2YXIgY3NzID0gaXRlbVsxXTtcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xuXHRcdHZhciBzb3VyY2VNYXAgPSBpdGVtWzNdO1xuXHRcdHZhciBwYXJ0ID0ge2NzczogY3NzLCBtZWRpYTogbWVkaWEsIHNvdXJjZU1hcDogc291cmNlTWFwfTtcblxuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKSBzdHlsZXMucHVzaChuZXdTdHlsZXNbaWRdID0ge2lkOiBpZCwgcGFydHM6IFtwYXJ0XX0pO1xuXHRcdGVsc2UgbmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xuXHR9XG5cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50IChvcHRpb25zLCBzdHlsZSkge1xuXHR2YXIgdGFyZ2V0ID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8pXG5cblx0aWYgKCF0YXJnZXQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcblx0fVxuXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlc0luc2VydGVkQXRUb3Bbc3R5bGVzSW5zZXJ0ZWRBdFRvcC5sZW5ndGggLSAxXTtcblxuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmICghbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIHRhcmdldC5maXJzdENoaWxkKTtcblx0XHR9IGVsc2UgaWYgKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdFx0fVxuXHRcdHN0eWxlc0luc2VydGVkQXRUb3AucHVzaChzdHlsZSk7XG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwib2JqZWN0XCIgJiYgb3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUpIHtcblx0XHR2YXIgbmV4dFNpYmxpbmcgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlLCB0YXJnZXQpO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIG5leHRTaWJsaW5nKTtcblx0fSBlbHNlIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTtcblx0fVxufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQgKHN0eWxlKSB7XG5cdGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG5cdHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xuXG5cdHZhciBpZHggPSBzdHlsZXNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGUpO1xuXHRpZihpZHggPj0gMCkge1xuXHRcdHN0eWxlc0luc2VydGVkQXRUb3Auc3BsaWNlKGlkeCwgMSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXG5cdGlmKG9wdGlvbnMuYXR0cnMubm9uY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdHZhciBub25jZSA9IGdldE5vbmNlKCk7XG5cdFx0aWYgKG5vbmNlKSB7XG5cdFx0XHRvcHRpb25zLmF0dHJzLm5vbmNlID0gbm9uY2U7XG5cdFx0fVxuXHR9XG5cblx0YWRkQXR0cnMoc3R5bGUsIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGUpO1xuXG5cdHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTGlua0VsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcblxuXHRpZihvcHRpb25zLmF0dHJzLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0fVxuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0Tm9uY2UoKSB7XG5cdGlmICh0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRyZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gdHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nXG5cdFx0ID8gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcykgXG5cdFx0IDogb3B0aW9ucy50cmFuc2Zvcm0uZGVmYXVsdChvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IFByb2Nlc3MgZnJvbSAnLi9wcm9jZXNzLmNvbXBvbmVudC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5sb2FkaW5nLnByb2Nlc3MnLCBbXSlcbiAgLmNvbXBvbmVudCgndHdQcm9jZXNzJywgUHJvY2VzcykubmFtZTtcbiIsIlxuY2xhc3MgRm9jdXNhYmxlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRlbGVtZW50LCBUd0RvbVNlcnZpY2UpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gJGVsZW1lbnRbMF07XG4gICAgY29uc3QgZm9ybUdyb3VwID0gVHdEb21TZXJ2aWNlLmdldENsb3Nlc3RQYXJlbnRCeUNsYXNzTmFtZShlbGVtZW50LCAnZm9ybS1ncm91cCcpO1xuXG4gICAgaWYgKGZvcm1Hcm91cCAmJiBlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgICAgICBmb3JtR3JvdXAuY2xhc3NMaXN0LmFkZCgnZm9jdXMnKTtcbiAgICAgIH0pO1xuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgICBmb3JtR3JvdXAuY2xhc3NMaXN0LnJlbW92ZSgnZm9jdXMnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuXG5Gb2N1c2FibGVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRlbGVtZW50JywgJ1R3RG9tU2VydmljZSddO1xuXG5leHBvcnQgZGVmYXVsdCBGb2N1c2FibGVDb250cm9sbGVyO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgUmFkaW8gZnJvbSAnLi9yYWRpby5jb21wb25lbnQuanMnO1xuaW1wb3J0IERvbVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvZG9tJztcbmltcG9ydCBGb2N1c2FibGUgZnJvbSAnLi4vZm9jdXNhYmxlJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLnJhZGlvJywgW1xuICAgIERvbVNlcnZpY2UsXG4gICAgRm9jdXNhYmxlXG4gIF0pXG4gIC5jb21wb25lbnQoJ3R3UmFkaW8nLCBSYWRpbykubmFtZTtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IFByb2Nlc3NpbmdDYXJkIGZyb20gJy4vcHJvY2Vzc2luZy1jYXJkLmNvbXBvbmVudCc7XG5pbXBvcnQgUHJvY2Vzc2luZ01pbmkgZnJvbSAnLi9wcm9jZXNzaW5nLW1pbmkuY29tcG9uZW50JztcbmltcG9ydCBBc3luY0ZpbGVSZWFkZXIgZnJvbSAnLi4vc2VydmljZXMvYXN5bmMtZmlsZS1yZWFkZXIuc2VydmljZS5qcyc7XG5pbXBvcnQgQXN5bmNGaWxlU2F2ZXIgZnJvbSAnLi4vc2VydmljZXMvYXN5bmMtZmlsZS1zYXZlci5zZXJ2aWNlLmpzJztcbmltcG9ydCBGaWxlVmFsaWRhdGlvblNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvZmlsZS12YWxpZGF0aW9uLnNlcnZpY2UuanMnO1xuaW1wb3J0IEFzeW5jVGFza3NDb25maWcgZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvYXN5bmNUYXNrc0NvbmZpZyc7XG5pbXBvcnQgUHJvY2VzcyBmcm9tICcuLi8uLi8uLi9sb2FkaW5nL3Byb2Nlc3MnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuZm9ybXMudXBsb2FkLnByb2Nlc3NpbmcnLCBbXG4gICAgQXN5bmNUYXNrc0NvbmZpZyxcbiAgICBBc3luY0ZpbGVSZWFkZXIsXG4gICAgQXN5bmNGaWxlU2F2ZXIsXG4gICAgRmlsZVZhbGlkYXRpb25TZXJ2aWNlLFxuICAgIFByb2Nlc3NcbiAgXSlcbiAgLmNvbXBvbmVudCgndHdVcGxvYWRQcm9jZXNzaW5nJywgUHJvY2Vzc2luZ0NhcmQpXG4gIC5jb21wb25lbnQoJ3R3VXBsb2FkUHJvY2Vzc2luZ01pbmknLCBQcm9jZXNzaW5nTWluaSlcbiAgLm5hbWU7XG4iLCJjbGFzcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgJHRpbWVvdXQsXG4gICAgQXN5bmNGaWxlUmVhZGVyLFxuICAgIEFzeW5jRmlsZVNhdmVyLFxuICAgIEFzeW5jVGFza3NDb25maWcsXG4gICAgRmlsZVZhbGlkYXRpb25TZXJ2aWNlXG4gICkge1xuICAgIHRoaXMuJHRpbWVvdXQgPSAkdGltZW91dDtcbiAgICB0aGlzLkFzeW5jRmlsZVJlYWRlciA9IEFzeW5jRmlsZVJlYWRlcjtcbiAgICB0aGlzLkFzeW5jRmlsZVNhdmVyID0gQXN5bmNGaWxlU2F2ZXI7XG4gICAgdGhpcy5Bc3luY1Rhc2tzQ29uZmlnID0gQXN5bmNUYXNrc0NvbmZpZztcbiAgICB0aGlzLkZpbGVWYWxpZGF0aW9uID0gRmlsZVZhbGlkYXRpb25TZXJ2aWNlO1xuXG4gICAgdGhpcy5wcm9jZXNzaW5nU3RhdGUgPSBudWxsO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuZmlsZSAmJiBjaGFuZ2VzLmZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICB0aGlzLm9uRmlsZUNhcHR1cmUoY2hhbmdlcy5maWxlLmN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgb25GaWxlQ2FwdHVyZShmaWxlKSB7XG4gICAgaWYgKHRoaXMubmdEaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZmlsZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgcmV0cmlldmUgZmlsZScpO1xuICAgIH1cblxuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIHRoaXMuZmlsZSA9IGZpbGU7XG5cbiAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IHRydWU7XG4gICAgdGhpcy5wcm9jZXNzaW5nU3RhdGUgPSBudWxsO1xuXG4gICAgdGhpcy5vblN0YXJ0KHsgZmlsZSB9KTtcblxuICAgIGlmICghdGhpcy5GaWxlVmFsaWRhdGlvbi5pc1NtYWxsZXJUaGFuTWF4U2l6ZShmaWxlLCB0aGlzLm1heFNpemUpKSB7XG4gICAgICB0aGlzLnZhbGlkYXRpb25NZXNzYWdlcyA9IFt0aGlzLnRvb0xhcmdlTWVzc2FnZV07XG4gICAgICBhc3luY0ZhaWx1cmUoe1xuICAgICAgICBzdGF0dXM6IDQxMyxcbiAgICAgICAgZGF0YTogeyBtZXNzYWdlOiB0aGlzLnRvb0xhcmdlTWVzc2FnZSB9XG4gICAgICB9LCBudWxsLCB0aGlzKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwT3B0aW9ucykge1xuICAgICAgLy8gUG9zdCBmaWxlIG5vd1xuICAgICAgdGhpcy5hc3luY0ZpbGVSZWFkKGZpbGUpXG4gICAgICAgIC50aGVuKGRhdGFVcmwgPT4gdGhpcy5hc3luY0ZpbGVTYXZlKGZpbGUpXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gYXN5bmNTdWNjZXNzKHJlc3BvbnNlLCBkYXRhVXJsLCB0aGlzKSkpXG4gICAgICAgIC5jYXRjaChlcnJvciA9PiBhc3luY0ZhaWx1cmUoZXJyb3IsIG51bGwsIHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUG9zdCBvbiBmb3JtIHN1Ym1pdFxuICAgICAgdGhpcy5hc3luY0ZpbGVSZWFkKGZpbGUpXG4gICAgICAgIC50aGVuKGRhdGFVcmwgPT4gYXN5bmNTdWNjZXNzKG51bGwsIGRhdGFVcmwsIHRoaXMpKVxuICAgICAgICAuY2F0Y2goZXJyb3IgPT4gYXN5bmNGYWlsdXJlKGVycm9yLCBudWxsLCB0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgYXN5bmNGaWxlU2F2ZShmaWxlKSB7XG4gICAgY29uc3QgaHR0cE9wdGlvbnMgPSB0aGlzLkFzeW5jVGFza3NDb25maWcuZXh0ZW5kSHR0cE9wdGlvbnModGhpcy5odHRwT3B0aW9ucyk7XG4gICAgcmV0dXJuIHRoaXMuQXN5bmNGaWxlU2F2ZXIuc2F2ZShodHRwT3B0aW9ucy5wYXJhbSB8fCB0aGlzLm5hbWUsIGZpbGUsIGh0dHBPcHRpb25zKTtcbiAgfVxuXG4gIGFzeW5jRmlsZVJlYWQoZmlsZSkge1xuICAgIHJldHVybiB0aGlzLkFzeW5jRmlsZVJlYWRlci5yZWFkKGZpbGUpO1xuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wcm9jZXNzaW5nU3RhdGUgPSAwO1xuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc1N1Y2Nlc3MgPSBmYWxzZTtcbiAgICB0aGlzLmlzRXJyb3IgPSBmYWxzZTtcbiAgfVxuXG4gIG9uUmVtb3ZlKCkge1xuICAgIHRoaXMub25DYW5jZWwoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhc3luY1N1Y2Nlc3MocmVzcG9uc2UsIGRhdGFVcmwsICRjdHJsKSB7XG4gICRjdHJsLnByb2Nlc3NpbmdTdGF0ZSA9IDE7XG4gIGxldCBpZCA9IG51bGw7XG4gIGNvbnN0IGZpbGUgPSAkY3RybC5maWxlO1xuICBjb25zdCBodHRwT3B0aW9ucyA9ICRjdHJsLmh0dHBPcHRpb25zO1xuXG4gIGlmIChodHRwT3B0aW9uc1xuICAgICAgJiYgaHR0cE9wdGlvbnMuaWRQcm9wZXJ0eVxuICAgICAgJiYgcmVzcG9uc2VcbiAgICAgICYmIHJlc3BvbnNlLmRhdGFcbiAgICAgICYmIHJlc3BvbnNlLmRhdGFbaHR0cE9wdGlvbnMuaWRQcm9wZXJ0eV0pIHtcbiAgICBpZCA9IHJlc3BvbnNlLmRhdGFbaHR0cE9wdGlvbnMuaWRQcm9wZXJ0eV07XG4gIH1cblxuICAvLyBUaW1lIHN1Y2Nlc3MgbWVzc2FnaW5nIHRvIG1hdGNoIGFuaW1hdGlvblxuICAkY3RybC4kdGltZW91dCgoKSA9PiB7XG4gICAgJGN0cmwuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgJGN0cmwuaXNTdWNjZXNzID0gdHJ1ZTtcbiAgICAkY3RybC5vblN1Y2Nlc3MoeyBmaWxlLCBkYXRhVXJsLCBpZCwgcmVzcG9uc2UgfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgfSwgMzYwMCk7XG5cbiAgcmV0dXJuIGRhdGFVcmw7XG59XG5mdW5jdGlvbiBhc3luY0ZhaWx1cmUoZXJyb3IsIGRhdGFVcmwsICRjdHJsKSB7XG4gIC8vIFN0YXJ0IGNoYW5naW5nIHByb2Nlc3MgaW5kaWNhdG9yIGltbWVkaWF0ZWx5XG4gICRjdHJsLnByb2Nlc3NpbmdTdGF0ZSA9IC0xO1xuXG4gIGlmICgkY3RybC5yZXNwb25zZUVycm9yRXh0cmFjdG9yKSB7XG4gICAgJGN0cmwuZXJyb3JNZXNzYWdlID0gJGN0cmwucmVzcG9uc2VFcnJvckV4dHJhY3Rvcih7IGVycm9yIH0pIHx8ICRjdHJsLmVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIC8vIFdhaXQgYmVmb3JlIHVwZGF0aW5nIHRleHRcbiAgJGN0cmwuJHRpbWVvdXQoKCkgPT4ge1xuICAgICRjdHJsLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICAgICRjdHJsLmlzRXJyb3IgPSB0cnVlO1xuICB9LCAzNjAwKTtcbiAgLy8gQWxsb3cgYSBzbWFsbCBhbW91bnQgb2YgZXh0cmEgdGltZSBiZWZvcmUgbm90aWZ5aW5nIGV4dGVybmFsIGhhbmRsZXJzXG4gICRjdHJsLiR0aW1lb3V0KCgpID0+IHtcbiAgICAkY3RybC5vbkZhaWx1cmUoeyBlcnJvciB9KTtcbiAgfSwgMzYwMCk7IC8vIDM1MDApOyBUT0RPIGZvciBzb21lIHJlYXNvbiBtb3JlIHRpbWUgaXMgbmVlZGVkXG5cbiAgcmV0dXJuIGVycm9yO1xufVxuXG5Db250cm9sbGVyLiRpbmplY3QgPSBbXG4gICckdGltZW91dCcsXG4gICdBc3luY0ZpbGVSZWFkZXInLFxuICAnQXN5bmNGaWxlU2F2ZXInLFxuICAnQXN5bmNUYXNrc0NvbmZpZycsXG4gICdGaWxlVmFsaWRhdGlvblNlcnZpY2UnXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICBuYW1lOiAnPCcsXG4gIGZpbGU6ICc8JyxcblxuICBvblN0YXJ0OiAnJicsXG4gIG9uU3VjY2VzczogJyYnLFxuICBvbkZhaWx1cmU6ICcmJyxcbiAgb25DYW5jZWw6ICcmJyxcbiAgcmVzcG9uc2VFcnJvckV4dHJhY3RvcjogJyYnLFxuXG4gIG1heFNpemU6ICc8JyxcbiAgYWNjZXB0OiAnPCcsXG4gIGh0dHBPcHRpb25zOiAnPCcsXG5cbiAgcHJvY2Vzc2luZ01lc3NhZ2U6ICc8JyxcbiAgc3VjY2Vzc01lc3NhZ2U6ICc8JyxcbiAgZXJyb3JNZXNzYWdlOiAnPCcsXG4gIHRvb0xhcmdlTWVzc2FnZTogJzwnLFxuXG4gIHZhbGlkYXRpb25NZXNzYWdlczogJzwnLFxuXG4gIGNhbmNlbFRleHQ6ICc8J1xufTtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IERyb3AgZnJvbSAnLi9kcm9wLmRpcmVjdGl2ZSc7XG5pbXBvcnQgRHJhZ0VudGVyIGZyb20gJy4vZHJhZy1lbnRlci5kaXJlY3RpdmUnO1xuaW1wb3J0IERyYWdMZWF2ZSBmcm9tICcuL2RyYWctbGVhdmUuZGlyZWN0aXZlJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLmRyYWctYW5kLWRyb3AnLCBbXSlcbiAgLmRpcmVjdGl2ZSgndHdEcm9wJywgRHJvcClcbiAgLmRpcmVjdGl2ZSgndHdEcmFnRW50ZXInLCBEcmFnRW50ZXIpXG4gIC5kaXJlY3RpdmUoJ3R3RHJhZ0xlYXZlJywgRHJhZ0xlYXZlKVxuICAubmFtZTtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IENoZWNrYm94IGZyb20gJy4vY2hlY2tib3guY29tcG9uZW50LmpzJztcbmltcG9ydCBEb21TZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL2RvbSc7XG5pbXBvcnQgRm9jdXNhYmxlIGZyb20gJy4uL2ZvY3VzYWJsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3Jtcy5jaGVja2JveCcsIFtcbiAgICBEb21TZXJ2aWNlLFxuICAgIEZvY3VzYWJsZVxuICBdKVxuICAuY29tcG9uZW50KCd0d0NoZWNrYm94JywgQ2hlY2tib3gpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IFVwbG9hZCBmcm9tICcuL3VwbG9hZC5jb21wb25lbnQuanMnO1xuXG5pbXBvcnQgQ2FwdHVyZUNhcmQgZnJvbSAnLi9jYXB0dXJlLWNhcmQnO1xuaW1wb3J0IERyb3BwaW5nQ2FyZCBmcm9tICcuL2Ryb3BwaW5nLWNhcmQnO1xuaW1wb3J0IFByb2Nlc3NpbmdDYXJkIGZyb20gJy4vcHJvY2Vzc2luZy1jYXJkJztcbmltcG9ydCBTdWNjZXNzQ2FyZCBmcm9tICcuL3N1Y2Nlc3MtY2FyZCc7XG5pbXBvcnQgQ2FtZXJhQ2FwdHVyZSBmcm9tICcuL2NhbWVyYS1jYXB0dXJlJztcbmltcG9ydCBVcGxvYWRCdXR0b24gZnJvbSAnLi91cGxvYWQtYnV0dG9uJztcbmltcG9ydCBDYW1lcmFCdXR0b24gZnJvbSAnLi9jYW1lcmEtYnV0dG9uJztcblxuaW1wb3J0IEZpbGVJbnB1dCBmcm9tICcuL2ZpbGUtaW5wdXQuZGlyZWN0aXZlLmpzJztcbmltcG9ydCBNdWx0aVVwbG9hZCBmcm9tICcuL211bHRpLXVwbG9hZCc7XG5pbXBvcnQgRHJhZ0FuZERyb3AgZnJvbSAnLi4vZHJhZy1hbmQtZHJvcCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3Jtcy51cGxvYWQnLCBbXG4gICAgQ2FwdHVyZUNhcmQsXG4gICAgRHJvcHBpbmdDYXJkLFxuICAgIFByb2Nlc3NpbmdDYXJkLFxuICAgIFN1Y2Nlc3NDYXJkLFxuICAgIENhbWVyYUNhcHR1cmUsXG4gICAgVXBsb2FkQnV0dG9uLFxuICAgIENhbWVyYUJ1dHRvbixcbiAgICBNdWx0aVVwbG9hZCxcbiAgICBEcmFnQW5kRHJvcFxuICBdKVxuICAuZGlyZWN0aXZlKCd0d0ZpbGVJbnB1dCcsIEZpbGVJbnB1dClcbiAgLmNvbXBvbmVudCgndHdVcGxvYWQnLCBVcGxvYWQpXG4gIC5uYW1lO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgQXN5bmNUYXNrc0NvbmZpZyBmcm9tICcuL2FzeW5jVGFza3NDb25maWcuc2VydmljZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5zZXJ2aWNlcy5hc3luYy10YXNrcy1jb25maWcnLCBbXSlcbiAgLnNlcnZpY2UoJ0FzeW5jVGFza3NDb25maWcnLCBBc3luY1Rhc2tzQ29uZmlnKS5uYW1lO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgRGF0ZUNvbnRyb2wgZnJvbSAnLi9kYXRlLmNvbXBvbmVudCc7XG5pbXBvcnQgRGF0ZVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvZGF0ZSc7XG5pbXBvcnQgRGF0ZUZvcm1hdCBmcm9tICcuLi8uLi9mb3JtYXR0aW5nL2RhdGUtZm9ybWF0JztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi4vc2VsZWN0JztcbmltcG9ydCBGb2N1c2FibGUgZnJvbSAnLi4vZm9jdXNhYmxlJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLmRhdGUnLCBbXG4gICAgRGF0ZVNlcnZpY2UsXG4gICAgRGF0ZUZvcm1hdCxcbiAgICBTZWxlY3QsXG4gICAgRm9jdXNhYmxlXG4gIF0pXG4gIC5jb21wb25lbnQoJ3R3RGF0ZScsIERhdGVDb250cm9sKS5uYW1lO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgRGF0ZUZvcm1hdCBmcm9tICcuL2RhdGUtZm9ybWF0LmNvbXBvbmVudCc7XG5pbXBvcnQgRGF0ZUZpbHRlciBmcm9tICcuL2RhdGUtZm9ybWF0LmZpbHRlcic7XG5pbXBvcnQgRGF0ZVNlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvZGF0ZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3JtYXR0aW5nLmRhdGUnLCBbXG4gICAgRGF0ZVNlcnZpY2VcbiAgXSlcbiAgLmNvbXBvbmVudCgndHdEYXRlRm9ybWF0JywgRGF0ZUZvcm1hdClcbiAgLmZpbHRlcigndHdEYXRlRm9ybWF0JywgRGF0ZUZpbHRlcilcbiAgLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBTZWxlY3QgZnJvbSAnLi4vc2VsZWN0JztcbmltcG9ydCBSYWRpbyBmcm9tICcuLi9yYWRpbyc7XG5pbXBvcnQgQ2hlY2tib3ggZnJvbSAnLi4vY2hlY2tib3gnO1xuaW1wb3J0IERhdGVDb250cm9sIGZyb20gJy4uL2RhdGUnO1xuaW1wb3J0IFVwbG9hZCBmcm9tICcuLi91cGxvYWQnO1xuXG5pbXBvcnQgRm9ybUNvbnRyb2wgZnJvbSAnLi9mb3JtLWNvbnRyb2wuY29tcG9uZW50LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLmZvcm0tY29udHJvbCcsIFtcbiAgICBTZWxlY3QsXG4gICAgUmFkaW8sXG4gICAgQ2hlY2tib3gsXG4gICAgRGF0ZUNvbnRyb2wsXG4gICAgVXBsb2FkXG4gIF0pXG4gIC5jb21wb25lbnQoJ3R3Rm9ybUNvbnRyb2wnLCBGb3JtQ29udHJvbClcbiAgLmNvbXBvbmVudCgndHdEeW5hbWljRm9ybUNvbnRyb2wnLCBGb3JtQ29udHJvbCkgLy8gRGVwcmVjYXRlZFxuICAubmFtZTtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IEZvcm1Db250cm9sIGZyb20gJy4uL2Zvcm0tY29udHJvbCc7XG5pbXBvcnQgRmllbGQgZnJvbSAnLi9maWVsZC5jb21wb25lbnQnO1xuaW1wb3J0IFJlcXVpcmVtZW50c1NlcnZpY2UgZnJvbSAnLi4vLi4vc2VydmljZXMvcmVxdWlyZW1lbnRzJztcbmltcG9ydCBDb250cm9sVmFsaWRhdGlvbiBmcm9tICcuLi8uLi92YWxpZGF0aW9uL2NvbnRyb2wtdmFsaWRhdGlvbic7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3Jtcy5maWVsZCcsIFtcbiAgICBGb3JtQ29udHJvbCxcbiAgICBSZXF1aXJlbWVudHNTZXJ2aWNlLFxuICAgIENvbnRyb2xWYWxpZGF0aW9uXG4gIF0pXG4gIC5jb21wb25lbnQoJ3R3RmllbGQnLCBGaWVsZCkubmFtZTtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IENvbnRyb2xWYWxpZGF0aW9uIGZyb20gJy4vY29udHJvbC12YWxpZGF0aW9uLmRpcmVjdGl2ZS5qcyc7XG5pbXBvcnQgRG9tU2VydmljZSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kb20nO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxndWlkZS52YWxpZGF0aW9uLmNvbnRyb2wnLCBbXG4gICAgRG9tU2VydmljZVxuICBdKVxuICAuZGlyZWN0aXZlKCd0d1ZhbGlkYXRpb24nLCBDb250cm9sVmFsaWRhdGlvbikubmFtZTtcbiIsIlxuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jaGVja2JveC5jb250cm9sbGVyLmpzJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2NoZWNrYm94Lmh0bWwnO1xuXG5jb25zdCBDaGVja2JveCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIHJlcXVpcmU6IHtcbiAgICAkbmdNb2RlbDogJ25nTW9kZWwnXG4gIH0sXG4gIGJpbmRpbmdzOiB7XG4gICAgbmFtZTogJ0AnLFxuICAgIG5nTW9kZWw6ICc9JyxcbiAgICBuZ1RydWVWYWx1ZTogJzwnLFxuICAgIG5nRmFsc2VWYWx1ZTogJzwnLFxuICAgIG5nUmVxdWlyZWQ6ICc8JyxcbiAgICBuZ0Rpc2FibGVkOiAnPCdcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hlY2tib3g7XG4iLCJcbmNsYXNzIENoZWNrYm94Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJGVsZW1lbnQsIFR3RG9tU2VydmljZSkge1xuICAgIGNvbnN0ICRuZ01vZGVsID0gJGVsZW1lbnQuY29udHJvbGxlcignbmdNb2RlbCcpO1xuXG4gICAgdGhpcy5kb20gPSBUd0RvbVNlcnZpY2U7XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICAgIHRoaXMuZWxlbWVudCA9ICRlbGVtZW50WzBdO1xuXG4gICAgdGhpcy5hZGRMYWJlbEhhbmRsZXIoKTtcbiAgICB0aGlzLmFkZFdhdGNoZXJzKCRzY29wZSwgJGVsZW1lbnQsICRuZ01vZGVsKTtcblxuICAgIHRoaXMuY2hlY2tib3hDb250YWluZXIgPSB0aGlzLmRvbS5nZXRDbG9zZXN0UGFyZW50QnlDbGFzc05hbWUoXG4gICAgICB0aGlzLmVsZW1lbnQsXG4gICAgICAnY2hlY2tib3gnXG4gICAgKTtcblxuICAgIHRoaXMubGFiZWwgPSB0aGlzLmNoZWNrYm94Q29udGFpbmVyXG4gICAgICA/IHRoaXMuY2hlY2tib3hDb250YWluZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xhYmVsJylbMF1cbiAgICAgIDogZmFsc2U7XG4gIH1cblxuICAkb25Jbml0KCkge1xuICAgIHRoaXMuY2hlY2tlZCA9IHRoaXMuaXNDaGVja2VkKCk7XG4gIH1cblxuICBpc0NoZWNrZWQoKSB7XG4gICAgcmV0dXJuICh0aGlzLm5nVHJ1ZVZhbHVlICYmIHRoaXMubmdUcnVlVmFsdWUgPT09IHRoaXMubmdNb2RlbClcbiAgICAgIHx8ICghdGhpcy5uZ1RydWVWYWx1ZSAmJiB0aGlzLm5nTW9kZWwpXG4gICAgICB8fCBmYWxzZTtcbiAgfVxuXG4gIGJ1dHRvbkNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMuY2hlY2tlZCkge1xuICAgICAgdGhpcy5jaGVja2VkID0gZmFsc2U7XG4gICAgICB0aGlzLiRuZ01vZGVsLiRzZXRWaWV3VmFsdWUodGhpcy5uZ0ZhbHNlVmFsdWUgfHwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNoZWNrZWQgPSB0cnVlO1xuICAgICAgdGhpcy4kbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHRoaXMubmdUcnVlVmFsdWUgfHwgdHJ1ZSk7XG4gICAgfVxuICAgIHRoaXMuJG5nTW9kZWwuJHNldFRvdWNoZWQoKTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgLy8gUHJldmVudCBidXR0b24gY2xpY2sgcHJvcGdhdGlvbiBmcm9tIGZpcmluZyBsYWJlbFxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVDaGVja2JveChcbiAgICAgIHRoaXMuY2hlY2tlZCxcbiAgICAgIHRoaXMuJGVsZW1lbnQsXG4gICAgICB0aGlzLiRuZ01vZGVsLFxuICAgICAgdGhpcy5uZ1JlcXVpcmVkLFxuICAgICAgdGhpcy5kb21cbiAgICApO1xuICB9XG5cbiAgYnV0dG9uRm9jdXMoKSB7XG4gICAgaWYgKHRoaXMubGFiZWwpIHtcbiAgICAgIHRoaXMubGFiZWwuY2xhc3NMaXN0LmFkZCgnZm9jdXMnKTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ZvY3VzJykpO1xuICB9XG5cbiAgYnV0dG9uQmx1cigpIHtcbiAgICBpZiAodGhpcy5sYWJlbCkge1xuICAgICAgdGhpcy5sYWJlbC5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYmx1cicpKTtcbiAgICB0aGlzLiRuZ01vZGVsLiRzZXRUb3VjaGVkKCk7XG5cbiAgICB2YWxpZGF0ZUNoZWNrYm94KFxuICAgICAgdGhpcy5jaGVja2VkLFxuICAgICAgdGhpcy4kZWxlbWVudCxcbiAgICAgIHRoaXMuJG5nTW9kZWwsXG4gICAgICB0aGlzLm5nUmVxdWlyZWQsXG4gICAgICB0aGlzLmRvbVxuICAgICk7XG4gIH1cblxuICAvLyBJRSAnY2xpY2tzJyB0aGUgaGlkZGVuIGlucHV0IHdoZW4gbGFiZWwgaXMgY2xpY2tlZFxuICBzdGF0aWMgaGlkZGVuQ2xpY2soJGV2ZW50KSB7XG4gICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgYWRkTGFiZWxIYW5kbGVyKCkge1xuICAgIGNvbnN0IGxhYmVsID0gdGhpcy5kb20uZ2V0Q2xvc2VzdFBhcmVudEJ5VGFnTmFtZSh0aGlzLmVsZW1lbnQsICdsYWJlbCcpO1xuXG4gICAgaWYgKCFsYWJlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgY29uc3QgaXNEaXNhYmxlZCA9IGxhYmVsLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGlmICghaXNEaXNhYmxlZCkge1xuICAgICAgICBjb25zdCBidXR0b24gPSB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J1dHRvbicpWzBdO1xuICAgICAgICAvLyBUcmlnZ2VyIG91ciBidXR0b24sIHByZXZlbnQgZGVmYXVsdCBsYWJlbCBiZWhhdmlvdXJcbiAgICAgICAgYnV0dG9uLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjbGljaycpKTtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZFdhdGNoZXJzKCRzY29wZSwgJGVsZW1lbnQsICRuZ01vZGVsKSB7XG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubmdNb2RlbCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgJG5nTW9kZWwuJHNldERpcnR5KCk7XG4gICAgICAgIHZhbGlkYXRlQ2hlY2tib3goXG4gICAgICAgICAgdGhpcy5jaGVja2VkLFxuICAgICAgICAgICRlbGVtZW50LFxuICAgICAgICAgICRuZ01vZGVsLFxuICAgICAgICAgIHRoaXMubmdSZXF1aXJlZCxcbiAgICAgICAgICB0aGlzLmRvbVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmlzQ2hlY2tlZCgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubmdEaXNhYmxlZCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSAkZWxlbWVudFswXTtcbiAgICAgIGNvbnN0IGNoZWNrYm94ID0gdGhpcy5kb20uZ2V0Q2xvc2VzdFBhcmVudEJ5Q2xhc3NOYW1lKGVsZW1lbnQsICdjaGVja2JveCcpO1xuICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmRvbS5nZXRDbG9zZXN0UGFyZW50QnlUYWdOYW1lKGVsZW1lbnQsICdsYWJlbCcpO1xuXG4gICAgICBpZiAoIWNoZWNrYm94KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChuZXdWYWx1ZSAmJiAhb2xkVmFsdWUpIHtcbiAgICAgICAgY2hlY2tib3guY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICAgICAgLy8gY2hlY2tib3guc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICAgIH0gZWxzZSBpZiAoIW5ld1ZhbHVlICYmIG9sZFZhbHVlKSB7XG4gICAgICAgIGNoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIC8vIGNoZWNrYm94LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgbGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubmdSZXF1aXJlZCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgdmFsaWRhdGVDaGVja2JveChcbiAgICAgICAgICB0aGlzLmNoZWNrZWQsXG4gICAgICAgICAgJGVsZW1lbnQsXG4gICAgICAgICAgJG5nTW9kZWwsXG4gICAgICAgICAgdGhpcy5uZ1JlcXVpcmVkLFxuICAgICAgICAgIHRoaXMuZG9tXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVDaGVja2JveChpc0NoZWNrZWQsICRlbGVtZW50LCAkbmdNb2RlbCwgaXNSZXF1aXJlZCwgZG9tKSB7XG4gIGlmICghJG5nTW9kZWwuJHRvdWNoZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgZWxlbWVudCA9ICRlbGVtZW50WzBdO1xuICBjb25zdCBidXR0b24gPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3R3LWNoZWNrYm94LWJ1dHRvbicpWzBdO1xuICBjb25zdCBjaGVja2JveExhYmVsID0gZG9tLmdldENsb3Nlc3RQYXJlbnRCeUNsYXNzTmFtZShlbGVtZW50LCAnY2hlY2tib3gnKTtcbiAgY29uc3QgZm9ybUdyb3VwID0gZG9tLmdldENsb3Nlc3RQYXJlbnRCeUNsYXNzTmFtZShlbGVtZW50LCAnZm9ybS1ncm91cCcpO1xuXG4gIGlmICghaXNDaGVja2VkICYmIGlzUmVxdWlyZWQpIHtcbiAgICAkbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3JlcXVpcmVkJywgZmFsc2UpO1xuICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcbiAgICBpZiAoY2hlY2tib3hMYWJlbCkge1xuICAgICAgY2hlY2tib3hMYWJlbC5jbGFzc0xpc3QuYWRkKCdoYXMtZXJyb3InKTtcbiAgICB9XG4gICAgaWYgKGZvcm1Hcm91cCkge1xuICAgICAgZm9ybUdyb3VwLmNsYXNzTGlzdC5hZGQoJ2hhcy1lcnJvcicpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAkbmdNb2RlbC4kc2V0VmFsaWRpdHkoJ3JlcXVpcmVkJywgdHJ1ZSk7XG4gICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1lcnJvcicpO1xuICAgIGlmIChjaGVja2JveExhYmVsKSB7XG4gICAgICBjaGVja2JveExhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1lcnJvcicpO1xuICAgIH1cbiAgICBpZiAoZm9ybUdyb3VwKSB7XG4gICAgICBmb3JtR3JvdXAuY2xhc3NMaXN0LnJlbW92ZSgnaGFzLWVycm9yJyk7XG4gICAgfVxuICB9XG59XG5cbkNoZWNrYm94Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnVHdEb21TZXJ2aWNlJ107XG5cbmV4cG9ydCBkZWZhdWx0IENoZWNrYm94Q29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8aW5wdXQgdHlwZT1oaWRkZW4gY2xhc3M9c3Itb25seSBuYW1lPXt7JGN0cmwubmFtZX19IG5nLW1vZGVsPSRjdHJsLm5nTW9kZWwgbmctY2xpY2s9JGN0cmwuaGlkZGVuQ2xpY2soJGV2ZW50KSBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIC8+IDxidXR0b24gdHlwZT1idXR0b24gY2xhc3M9dHctY2hlY2tib3gtYnV0dG9uIHR3LWZvY3VzYWJsZSBuZy1jbGljaz0kY3RybC5idXR0b25DbGljaygkZXZlbnQpIG5nLWZvY3VzPSRjdHJsLmJ1dHRvbkZvY3VzKCkgbmctYmx1cj0kY3RybC5idXR0b25CbHVyKCkgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jbGFzcz1cXFwieydjaGVja2VkJzogJGN0cmwuY2hlY2tlZH1cXFwiIGFyaWEtcHJlc3NlZD17eyRjdHJsLmNoZWNrZWR9fT4gPHNwYW4gY2xhc3M9XFxcInR3LWNoZWNrYm94LWNoZWNrIGdseXBoaWNvbiBnbHlwaGljb24tb2tcXFwiPjwvc3Bhbj4gPC9idXR0b24+IFwiOyIsImZ1bmN0aW9uIERvbVNlcnZpY2UoKSB7XG4gIHRoaXMuZ2V0Q2xvc2VzdFBhcmVudEJ5VGFnTmFtZSA9IChlbGVtZW50LCB0YWdOYW1lKSA9PiB7XG4gICAgY29uc3QgdGFnTmFtZVVwcGVyID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50O1xuXG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50ICYmIHBhcmVudC50YWdOYW1lICYmIHBhcmVudC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT09IHRhZ05hbWVVcHBlcikge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB0aGlzLmdldENsb3Nlc3RQYXJlbnRCeUNsYXNzTmFtZSA9IChlbGVtZW50LCBjbGFzc05hbWUpID0+IHtcbiAgICBsZXQgcGFyZW50ID0gZWxlbWVudDtcblxuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuY2xhc3NMaXN0ICYmIHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB0aGlzLmdldFByZXZpb3VzU2libGluZ1dpdGhDbGFzc05hbWUgPSAoZWxlbWVudCwgY2xhc3NOYW1lKSA9PiB7XG4gICAgbGV0IHNpYmxpbmcgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG5cbiAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgaWYgKHNpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHNpYmxpbmc7XG4gICAgICB9XG4gICAgICBzaWJsaW5nID0gc2libGluZy5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcblxuICB0aGlzLmdldE5leHRTaWJsaW5nV2l0aENsYXNzTmFtZSA9IChlbGVtZW50LCBjbGFzc05hbWUpID0+IHtcbiAgICBsZXQgc2libGluZyA9IGVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuXG4gICAgd2hpbGUgKHNpYmxpbmcpIHtcbiAgICAgIGlmIChzaWJsaW5nLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSB7XG4gICAgICAgIHJldHVybiBzaWJsaW5nO1xuICAgICAgfVxuICAgICAgc2libGluZyA9IHNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRG9tU2VydmljZTtcbiIsImltcG9ydCBGb2N1c2FibGVDb250cm9sbGVyIGZyb20gJy4vZm9jdXNhYmxlLmNvbnRyb2xsZXIuanMnO1xuXG5mdW5jdGlvbiBGb2N1c2FibGUoKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiBGb2N1c2FibGVDb250cm9sbGVyXG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvY3VzYWJsZTtcbiIsIi8vIFRoaXMgZGlyZWN0aXZlIHByb3ZpZGUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbi8vIEl0IHNob3VsZCBubyBsb25nZXIgYmUgbmVjZXNzYXJ5IHdoZW4gYnJvd3NlcnMgc3VwcG9ydCA6Zm9jdXMtd2l0aGluXG5pbXBvcnQgRm9jdXNhYmxlQ29udHJvbGxlciBmcm9tICcuL2ZvY3VzYWJsZS5jb250cm9sbGVyLmpzJztcblxuZnVuY3Rpb24gRm9ybUNvbnRyb2xGb2N1cygpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0MnLFxuICAgIGNvbnRyb2xsZXI6IEZvY3VzYWJsZUNvbnRyb2xsZXJcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybUNvbnRyb2xGb2N1cztcbiIsImltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vcmFkaW8uY29udHJvbGxlci5qcyc7XG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9yYWRpby5odG1sJztcblxuY29uc3QgUmFkaW8gPSB7XG4gIGNvbnRyb2xsZXIsXG4gIHRlbXBsYXRlLFxuICByZXF1aXJlOiB7XG4gICAgJG5nTW9kZWw6ICduZ01vZGVsJ1xuICB9LFxuICBiaW5kaW5nczoge1xuICAgIG5hbWU6ICdAJyxcbiAgICB2YWx1ZTogJ0AnLFxuICAgIG5nTW9kZWw6ICc9JyxcbiAgICBuZ1ZhbHVlOiAnPCcsXG4gICAgbmdSZXF1aXJlZDogJzwnLFxuICAgIG5nRGlzYWJsZWQ6ICc8JyxcbiAgICBuZ0NoYW5nZTogJyYnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlvO1xuIiwiXG5jbGFzcyBSYWRpb0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRlbGVtZW50LCBUd0RvbVNlcnZpY2UpIHtcbiAgICBjb25zdCAkbmdNb2RlbCA9ICRlbGVtZW50LmNvbnRyb2xsZXIoJ25nTW9kZWwnKTtcblxuICAgIHRoaXMuZG9tID0gVHdEb21TZXJ2aWNlO1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgICB0aGlzLmVsZW1lbnQgPSAkZWxlbWVudFswXTtcbiAgICB0aGlzLmNoZWNrZWQgPSB0aGlzLmlzQ2hlY2tlZCgpO1xuICAgIHRoaXMubGFiZWwgPSB0aGlzLmRvbS5nZXRDbG9zZXN0UGFyZW50QnlUYWdOYW1lKHRoaXMuZWxlbWVudCwgJ2xhYmVsJyk7XG5cbiAgICAkZWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4ge1xuICAgICAgJG5nTW9kZWwuJHNldFRvdWNoZWQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkV2F0Y2hlcnMoJHNjb3BlLCB0aGlzLmVsZW1lbnQpO1xuICB9XG5cbiAgaXNDaGVja2VkKCkge1xuICAgIHJldHVybiAodGhpcy5uZ1ZhbHVlICYmIHRoaXMubmdNb2RlbCA9PT0gdGhpcy5uZ1ZhbHVlKVxuICAgICAgfHwgdGhpcy52YWx1ZSA9PT0gdGhpcy5uZ01vZGVsO1xuICB9XG5cbiAgYnV0dG9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMubmdEaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuY2hlY2tlZCA9IHRydWU7XG4gICAgdGhpcy4kbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHRoaXMubmdWYWx1ZSB8fCB0aGlzLnZhbHVlKTtcbiAgfVxuXG4gIGJ1dHRvbkZvY3VzKCkge1xuICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICB0aGlzLmxhYmVsLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJyk7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZm9jdXMnKSk7XG4gIH1cblxuICBidXR0b25CbHVyKCkge1xuICAgIGlmICh0aGlzLmxhYmVsKSB7XG4gICAgICB0aGlzLmxhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzJyk7XG4gICAgfVxuICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYmx1cicpKTtcbiAgfVxuXG4gIGhpZGRlbklucHV0Q2hhbmdlKCkge1xuICAgIC8vIFRoaXMgb25seSBmaXJlcyBvbiBsYWJlbCBjbGlja1xuICAgIC8vIFNldHRpbmcgdmlldyB2YWx1ZSB3aWxsIGFsc28gdHJpZ2dlciBvbkNoYW5nZVxuICAgIHRoaXMuJG5nTW9kZWwuJHNldFZpZXdWYWx1ZSh0aGlzLm5nVmFsdWUgfHwgdGhpcy52YWx1ZSk7XG4gIH1cblxuICBhZGRXYXRjaGVycygkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAkc2NvcGUuJHdhdGNoKCckY3RybC5uZ01vZGVsJywgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLiRuZ01vZGVsLiRzZXREaXJ0eSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5jaGVja2VkID0gdGhpcy5pc0NoZWNrZWQoKTtcbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJyRjdHJsLm5nRGlzYWJsZWQnLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBjb25zdCByYWRpb0xhYmVsID0gdGhpcy5kb20uZ2V0Q2xvc2VzdFBhcmVudEJ5Q2xhc3NOYW1lKGVsZW1lbnQsICdyYWRpbycpO1xuXG4gICAgICBpZiAoIXJhZGlvTGFiZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG5ld1ZhbHVlICYmICFvbGRWYWx1ZSkge1xuICAgICAgICByYWRpb0xhYmVsLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgICAgIHJhZGlvTGFiZWwuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgICB9IGVsc2UgaWYgKCFuZXdWYWx1ZSAmJiBvbGRWYWx1ZSkge1xuICAgICAgICByYWRpb0xhYmVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIHJhZGlvTGFiZWwucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cblJhZGlvQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGVsZW1lbnQnLCAnVHdEb21TZXJ2aWNlJ107XG5cbmV4cG9ydCBkZWZhdWx0IFJhZGlvQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8aW5wdXQgdHlwZT1yYWRpbyBjbGFzcz1zci1vbmx5IG5hbWU9e3skY3RybC5uYW1lfX0gbmctdmFsdWU9XFxcIiRjdHJsLm5nVmFsdWUgfHwgJGN0cmwudmFsdWVcXFwiIG5nLW1vZGVsPSRjdHJsLm5nTW9kZWwgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jaGFuZ2U9JGN0cmwuaGlkZGVuSW5wdXRDaGFuZ2UoKSB0YWJpbmRleD0tMSAvPiA8YnV0dG9uIHR5cGU9YnV0dG9uIGNsYXNzPXR3LXJhZGlvLWJ1dHRvbiB0dy1mb2N1c2FibGUgbmctY2xpY2s9JGN0cmwuYnV0dG9uQ2xpY2soJGV2ZW50KSBuZy1mb2N1cz0kY3RybC5idXR0b25Gb2N1cygpIG5nLWJsdXI9JGN0cmwuYnV0dG9uQmx1cigpIG5nLWRpc2FibGVkPSRjdHJsLm5nRGlzYWJsZWQgbmctY2xhc3M9XFxcIntjaGVja2VkOiAkY3RybC5jaGVja2VkfVxcXCIgYXJpYS1wcmVzc2VkPXt7JGN0cmwuY2hlY2tlZH19PiA8c3BhbiBjbGFzcz10dy1yYWRpby1jaGVjaz48L3NwYW4+IDwvYnV0dG9uPiBcIjsiLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL3NlbGVjdC5jb250cm9sbGVyLmpzJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL3NlbGVjdC5odG1sJztcblxuY29uc3QgU2VsZWN0ID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgcmVxdWlyZTogJ25nTW9kZWwnLFxuICB0cmFuc2NsdWRlOiB0cnVlLFxuICBiaW5kaW5nczoge1xuICAgIG5nTW9kZWw6ICc9JyxcbiAgICBuZ1JlcXVpcmVkOiAnPCcsXG4gICAgbmdEaXNhYmxlZDogJzwnLFxuICAgIG9wdGlvbnM6ICc8JyxcbiAgICBuYW1lOiAnQCcsXG4gICAgcGxhY2Vob2xkZXI6ICdAJyxcbiAgICBmaWx0ZXI6ICdAJyxcbiAgICBzaXplOiAnQCcsXG4gICAgZHJvcGRvd25SaWdodDogJ0AnLFxuICAgIGRyb3Bkb3duVXA6ICdAJyxcbiAgICBkcm9wZG93bldpZHRoOiAnQCcsXG4gICAgaW52ZXJzZTogJzwnLFxuICAgIGhpZGVOb3RlOiAnQCcsXG4gICAgaGlkZVNlY29uZGFyeTogJ0AnLFxuICAgIGhpZGVJY29uOiAnQCcsXG4gICAgaGlkZUN1cnJlbmN5OiAnQCcsXG4gICAgaGlkZUNpcmNsZTogJ0AnLFxuICAgIGhpZGVMYWJlbDogJ0AnXG4gIH1cbn07XG5cbi8qXG4vLyBUT0RPIG1heSBiZSBiZXR0ZXIgZm9yIGFjY2Vzc2liaWxpdHkgdG8gaGF2ZSBoaWRkZW4gc2VsZWN0P1xuPHNlbGVjdCBuYW1lPSd7eyRjdHJsLm5hbWV9fScgY2xhc3M9J3NyLW9ubHkgdHctc2VsZWN0LWhpZGRlbicgXFxcbiAgbmctbW9kZWw9JyRjdHJsLm5nTW9kZWwnIFxcXG4gIG5nLW9wdGlvbnM9J29wdGlvbi52YWx1ZSBhcyBvcHRpb24ubGFiZWwgZm9yIG9wdGlvbiBpbiAkY3RybC5vcHRpb25zJyBcXFxuICBuZy1kaXNhYmxlZD0nJGN0cmwubmdEaXNhYmxlZCcgXFxcbiAgbmctcmVxdWlyZWQ9JyRjdHJsLm5nUmVxdWlyZWQnPiBcXFxuPC9zZWxlY3Q+XCJcbiovXG5cbmV4cG9ydCBkZWZhdWx0IFNlbGVjdDtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuXG5jbGFzcyBTZWxlY3RDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJGVsZW1lbnQsICR0cmFuc2NsdWRlLCAkdGltZW91dCwgJGF0dHJzLCBUd0RvbVNlcnZpY2UsICRzY29wZSkge1xuICAgIHRoaXMuJG5nTW9kZWwgPSAkZWxlbWVudC5jb250cm9sbGVyKCduZ01vZGVsJyk7XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICAgIHRoaXMuJGF0dHJzID0gJGF0dHJzO1xuICAgIHRoaXMuJHRpbWVvdXQgPSAkdGltZW91dDtcbiAgICB0aGlzLiR0cmFuc2NsdWRlID0gJHRyYW5zY2x1ZGU7XG4gICAgdGhpcy5kb20gPSBUd0RvbVNlcnZpY2U7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSAkZWxlbWVudFswXTtcbiAgICAkc2NvcGUuJHdhdGNoKCckY3RybC5uZ01vZGVsJywgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4gdGhpcy5vbk1vZGVsQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkpO1xuICB9XG5cbiAgJG9uSW5pdCgpIHtcbiAgICB0aGlzLmJ1dHRvbiA9IHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidG4nKVswXTtcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuXG4gICAgcHJlU2VsZWN0TW9kZWxWYWx1ZSh0aGlzLiRuZ01vZGVsLCB0aGlzKTtcbiAgICBzZXREZWZhdWx0SWZSZXF1aXJlZCh0aGlzLiRuZ01vZGVsLCB0aGlzLCB0aGlzLiRlbGVtZW50LCB0aGlzLiRhdHRycyk7XG5cbiAgICBhZGRFdmVudEhhbmRsZXJzKHRoaXMsIHRoaXMuJGVsZW1lbnQsIHRoaXMuJG5nTW9kZWwsIHRoaXMub3B0aW9ucywgdGhpcy4kdGltZW91dCk7XG5cbiAgICBjaGVja0ZvclRyYW5zY2x1ZGVkQ29udGVudCh0aGlzLiR0cmFuc2NsdWRlLCB0aGlzKTtcblxuICAgIHRoaXMucmVzcG9uc2l2ZUNsYXNzZXMgPSByZXNwb25zaXZlQ2xhc3NlcztcblxuICAgIHRoaXMub3B0aW9uc1BhZ2VTaXplID0gMzAwO1xuICAgIHRoaXMubnVtYmVyT2ZPcHRpb25zUmV2ZWFsZWQgPSB0aGlzLm9wdGlvbnNQYWdlU2l6ZTsgLy8gSW5pdC5cbiAgICB0aGlzLmhhc01vcmVPcHRpb25zVG9SZXZlYWwgPSBmYWxzZTtcblxuICAgIHRoaXMuZmlsdGVyU3RyaW5nID0gJyc7XG4gICAgdGhpcy5maWx0ZXJlZE9wdGlvbnMgPSB0aGlzLmdldEZpbHRlcmVkT3B0aW9ucygpO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMub3B0aW9ucykge1xuICAgICAgdGhpcy5vbk9wdGlvbnNDaGFuZ2UoXG4gICAgICAgIGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUsXG4gICAgICAgIGNoYW5nZXMub3B0aW9ucy5wcmV2aW91c1ZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIG9uTW9kZWxDaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgaWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobmV3VmFsdWUgfHwgb2xkVmFsdWUpIHtcbiAgICAgIHRoaXMuJG5nTW9kZWwuJHNldERpcnR5KCk7XG4gICAgfVxuICAgIGNvbnN0IG9wdGlvbiA9IGZpbmRPcHRpb25Gcm9tVmFsdWUodGhpcy5vcHRpb25zLCBuZXdWYWx1ZSk7XG4gICAgaWYgKG9wdGlvbikge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IG9wdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgb25PcHRpb25zQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgIHByZVNlbGVjdE1vZGVsVmFsdWUodGhpcy4kbmdNb2RlbCwgdGhpcyk7XG4gICAgICBzZXREZWZhdWx0SWZSZXF1aXJlZCh0aGlzLiRuZ01vZGVsLCB0aGlzLCB0aGlzLiRlbGVtZW50LCB0aGlzLiRhdHRycyk7XG4gICAgICB0aGlzLmZpbHRlcmVkT3B0aW9ucyA9IHRoaXMuZ2V0RmlsdGVyZWRPcHRpb25zKCk7XG4gICAgfVxuICB9XG5cbiAgY2lyY2xlQ2xhc3NlcyhyZXNwb25zaXZlT3B0aW9uKSB7XG4gICAgbGV0IGNsYXNzZXMgPSByZXNwb25zaXZlQ2xhc3NlcyhyZXNwb25zaXZlT3B0aW9uKTtcbiAgICBjb25zdCBzZWNvbmRhcnlDbGFzc2VzID0gcmVzcG9uc2l2ZUNsYXNzZXModGhpcy5oaWRlU2Vjb25kYXJ5KTtcbiAgICAvLyBJZiBzZWNvbmRhcnkgdGV4dCBsaW5lLCBhbmQgaXQgd29uJ3QgYmUgaGlkZGVuIGF0IHNvbWUgcG9pbnQsIHVzZSBsYXJnZXIgY2lyY2xlXG4gICAgaWYgKHRoaXMuc2VsZWN0ZWQuc2Vjb25kYXJ5ICYmIHNlY29uZGFyeUNsYXNzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjbGFzc2VzICs9ICcgY2lyY2xlLXNtJztcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NlcyArPSAnIGNpcmNsZS14cyc7XG4gICAgfVxuICAgIHJldHVybiBjbGFzc2VzO1xuICB9XG5cbiAgYnV0dG9uRm9jdXMoKSB7XG4gICAgdGhpcy5lbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdmb2N1cycpKTtcbiAgfVxuXG4gIG9wdGlvbkNsaWNrKG9wdGlvbiwgJGV2ZW50KSB7XG4gICAgaWYgKG9wdGlvbi5kaXNhYmxlZCkge1xuICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxlY3RPcHRpb24odGhpcy4kbmdNb2RlbCwgdGhpcywgb3B0aW9uKTtcbiAgICB0aGlzLmJ1dHRvbi5mb2N1cygpO1xuICB9XG5cbiAgb3B0aW9uRm9jdXMob3B0aW9uKSB7XG4gICAgc2VsZWN0T3B0aW9uKHRoaXMuJG5nTW9kZWwsIHRoaXMsIG9wdGlvbik7XG4gIH1cblxuICBvcHRpb25LZXlwcmVzcyhldmVudCkge1xuICAgIC8vIElmIHdlJ3JlIGluIHRoZSBmaWx0ZXIgZG9uJ3QgYWxsb3cgbm9ybWFsIGJlaGF2aW91clxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd0dy1zZWxlY3QtZmlsdGVyJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBQcmV2ZW50IGRlbGV0ZSB0YWtpbmcgdXMgYmFja1xuICAgIGNvbnN0IGNoYXJhY3RlckNvZGUgPSBnZXRDaGFyYWN0ZXJDb2RlRnJvbUtleXByZXNzKGV2ZW50KTtcbiAgICBpZiAoY2hhcmFjdGVyQ29kZSA9PT0gOCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZWFyY2ggZm9yIG9wdGlvbiBiYXNlZCBvbiBjaGFyYWN0ZXJcbiAgICBjb25zdCBjaGFyYWN0ZXIgPSBnZXRDaGFyYWN0ZXJGcm9tS2V5cHJlc3MoZXZlbnQpO1xuICAgIGNvbnRpbnVlU2VhcmNoQW5kU2VsZWN0TWF0Y2goXG4gICAgICB0aGlzLiRuZ01vZGVsLFxuICAgICAgdGhpcyxcbiAgICAgIHRoaXMub3B0aW9ucyxcbiAgICAgIGNoYXJhY3RlclxuICAgICk7XG4gICAgZm9jdXNPbkFjdGl2ZUxpbmsodGhpcy5lbGVtZW50KTtcbiAgfVxuXG4gIHBsYWNlaG9sZGVyQ2xpY2soKSB7XG4gICAgcmVzZXRPcHRpb24odGhpcy4kbmdNb2RlbCwgdGhpcyk7XG4gICAgdGhpcy5idXR0b24uZm9jdXMoKTtcbiAgfVxuXG4gIHBsYWNlaG9sZGVyRm9jdXMoKSB7XG4gICAgcmVzZXRPcHRpb24odGhpcy4kbmdNb2RlbCwgdGhpcyk7XG4gIH1cblxuICBnZXRGaWx0ZXJlZE9wdGlvbnMoKSB7XG4gICAgdGhpcy5oYXNNb3JlT3B0aW9uc1RvUmV2ZWFsID0gZmFsc2U7XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMgfHwgIXRoaXMub3B0aW9ucy5maWx0ZXIpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBjb25zdCBmaWx0ZXJTdHJpbmdMb3dlciA9IHRoaXMuZmlsdGVyU3RyaW5nICYmIGVzY2FwZVJlZ0V4cCh0aGlzLmZpbHRlclN0cmluZy50b0xvd2VyQ2FzZSgpKTtcblxuICAgIGNvbnN0IGVuY291bnRlcmVkTGFiZWxzQW5kVmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAgIGNvbnN0IGZpbHRlcmVkT3B0aW9ucyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNbaV07XG5cbiAgICAgIGlmIChvcHRpb24uaGVhZGVyICYmICFvcHRpb24udmFsdWUgJiYgIW9wdGlvbi5sYWJlbCkge1xuICAgICAgICBmaWx0ZXJlZE9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGxldCBpc0R1cGxpY2F0ZSA9IGZhbHNlO1xuXG4gICAgICBjb25zdCBleGlzdGluZ1ZhbHVlc0ZvckxhYmVsID0gZW5jb3VudGVyZWRMYWJlbHNBbmRWYWx1ZXNbb3B0aW9uLmxhYmVsXTtcbiAgICAgIGNvbnN0IGhhc0V4aXN0aW5nVmFsdWVzID0gYW5ndWxhci5pc0FycmF5KGV4aXN0aW5nVmFsdWVzRm9yTGFiZWwpO1xuXG4gICAgICBpZiAoaGFzRXhpc3RpbmdWYWx1ZXMpIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBleGlzdGluZ1ZhbHVlc0ZvckxhYmVsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuZXF1YWxzKGV4aXN0aW5nVmFsdWVzRm9yTGFiZWxbal0sIG9wdGlvbi52YWx1ZSkpIHtcbiAgICAgICAgICAgIGlzRHVwbGljYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzaG91bGRBZGRPcHRpb24gPSAhaXNEdXBsaWNhdGVcbiAgICAgICAgJiYgKCFmaWx0ZXJTdHJpbmdMb3dlciAvLyBlbXB0eSBmaWx0ZXJzdHJpbmcgbWVhbnMgcGFzcyBldmVyeXRoaW5nLlxuICAgICAgICAgIHx8IGxhYmVsTWF0Y2hlcyhvcHRpb24sIGZpbHRlclN0cmluZ0xvd2VyKVxuICAgICAgICAgIHx8IG5vdGVNYXRjaGVzKG9wdGlvbiwgZmlsdGVyU3RyaW5nTG93ZXIpXG4gICAgICAgICAgfHwgc2Vjb25kYXJ5TWF0Y2hlcyhvcHRpb24sIGZpbHRlclN0cmluZ0xvd2VyKVxuICAgICAgICAgIHx8IHNlYXJjaGFibGVNYXRjaGVzKG9wdGlvbiwgZmlsdGVyU3RyaW5nTG93ZXIpKTtcblxuICAgICAgaWYgKHNob3VsZEFkZE9wdGlvbikge1xuICAgICAgICAvLyBUb28gbWFueSBvcHRpb25zPyBEb24ndCBhZGQgYW55bW9yZSwgaW5kaWNhdGUgdGhhdCB0aGVyZSdzIG1vcmUgaW5zdGVhZC5cbiAgICAgICAgaWYgKGZpbHRlcmVkT3B0aW9ucy5sZW5ndGggPj0gdGhpcy5udW1iZXJPZk9wdGlvbnNSZXZlYWxlZCkge1xuICAgICAgICAgIHRoaXMuaGFzTW9yZU9wdGlvbnNUb1JldmVhbCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzRXhpc3RpbmdWYWx1ZXMpIHtcbiAgICAgICAgICBleGlzdGluZ1ZhbHVlc0ZvckxhYmVsLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmNvdW50ZXJlZExhYmVsc0FuZFZhbHVlc1tvcHRpb24ubGFiZWxdID0gW29wdGlvbi52YWx1ZV07XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJlZE9wdGlvbnMucHVzaChvcHRpb24pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZE9wdGlvbnM7XG4gIH1cblxuICBmb2N1c09uRmlsdGVySW5wdXQoKSB7XG4gICAgY29uc3QgZmlsdGVySW5wdXQgPSB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndHctc2VsZWN0LWZpbHRlcicpWzBdO1xuICAgIGlmIChmaWx0ZXJJbnB1dCkge1xuICAgICAgZmlsdGVySW5wdXQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICBmaWx0ZXJDaGFuZ2UoKSB7XG4gICAgdGhpcy5udW1iZXJPZk9wdGlvbnNSZXZlYWxlZCA9IHRoaXMub3B0aW9uc1BhZ2VTaXplOyAvLyBSZXNldC5cbiAgICB0aGlzLmZpbHRlcmVkT3B0aW9ucyA9IHRoaXMuZ2V0RmlsdGVyZWRPcHRpb25zKCk7XG4gICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBmaW5kU2VsZWN0ZWQodGhpcy5maWx0ZXJlZE9wdGlvbnMsIHRoaXMuc2VsZWN0ZWQpO1xuXG4gICAgLy8gQ2hvb3NlIGEgbmV3IHNlbGVjdGVkIHZhbHVlIGlmIHRoZSBvbGQgb25lIHdhcyBoaWRkZW5cbiAgICBpZiAoIXNlbGVjdGVkT3B0aW9uICYmIHRoaXMuZmlsdGVyZWRPcHRpb25zLmxlbmd0aCkge1xuICAgICAgc2VsZWN0T3B0aW9uKHRoaXMuJG5nTW9kZWwsIHRoaXMsIHRoaXMuZmlsdGVyZWRPcHRpb25zWzBdKTtcbiAgICB9XG4gIH1cblxuICAvLyBLZXlkb3duIGFzIGtleXByZXNzIGRpZCBub3Qgd29yayBpbiBjaHJvbWUvc2FmYXJpXG4gIGZpbHRlcktleWRvd24oZXZlbnQpIHtcbiAgICBjb25zdCBjaGFyYWN0ZXJDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQuY2hhckNvZGUgfHwgZXZlbnQua2V5Q29kZTtcbiAgICBjb25zdCBhY3RpdmVPcHRpb24gPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpO1xuICAgIGNvbnN0IGFjdGl2ZUxpbmsgPSBhY3RpdmVPcHRpb24gPyBhY3RpdmVPcHRpb24ucXVlcnlTZWxlY3RvcignYScpIDogZmFsc2U7XG4gICAgY29uc3Qgb3B0aW9uTGlua3MgPSB0aGlzLmVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndHctc2VsZWN0LW9wdGlvbi1saW5rJyk7XG5cbiAgICBpZiAoY2hhcmFjdGVyQ29kZSA9PT0ga2V5cy5kb3duKSB7XG4gICAgICB0aGlzLm1vdmVEb3duT25lT3B0aW9uKGFjdGl2ZU9wdGlvbiwgYWN0aXZlTGluaywgb3B0aW9uTGlua3MpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBjdXJzb3IganVtcGluZyBhcm91bmQgaW4gaW5wdXRcbiAgICB9IGVsc2UgaWYgKGNoYXJhY3RlckNvZGUgPT09IGtleXMudXApIHtcbiAgICAgIHRoaXMubW92ZVVwT25lT3B0aW9uKGFjdGl2ZU9wdGlvbiwgYWN0aXZlTGluaywgb3B0aW9uTGlua3MpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gUHJldmVudCBjdXJzb3IganVtcGluZyBpbiBpbnB1dFxuICAgIH0gZWxzZSBpZiAoY2hhcmFjdGVyQ29kZSA9PT0ga2V5cy5yZXR1cm4pIHtcbiAgICAgIGlmIChhY3RpdmVPcHRpb24pIHtcbiAgICAgICAgYWN0aXZlT3B0aW9uLmNsaWNrKCk7XG4gICAgICAgIHRoaXMuYnV0dG9uLmZvY3VzKCk7XG4gICAgICB9XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBQcmV2ZW50IGZvcm0gYWN0aW9uIGFzIGlucHV0IGFjdGl2ZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHNlbGVjdE9wdGlvblVzaW5nTGluayhsaW5rKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5maWx0ZXJlZE9wdGlvbnNbbGluay5nZXRBdHRyaWJ1dGUoJ2luZGV4JyldO1xuICAgIHNlbGVjdE9wdGlvbih0aGlzLiRuZ01vZGVsLCB0aGlzLCBvcHRpb24pO1xuICB9XG5cbiAgbW92ZVVwT25lT3B0aW9uKGFjdGl2ZU9wdGlvbiwgYWN0aXZlTGluaywgb3B0aW9uTGlua3MpIHtcbiAgICAvLyBJZiBub25lIGFjdGl2ZSwgc2VsZWN0IGxhc3RcbiAgICBpZiAoIWFjdGl2ZU9wdGlvbiAmJiBvcHRpb25MaW5rcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuc2VsZWN0T3B0aW9uVXNpbmdMaW5rKG9wdGlvbkxpbmtzW29wdGlvbkxpbmtzLmxlbmd0aCAtIDFdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBJZiBhY3RpdmUgb3B0aW9uIG5vdCBmaXJzdCwgbW92ZSB1cFxuICAgIGlmIChhY3RpdmVMaW5rICE9PSBvcHRpb25MaW5rc1swXSkge1xuICAgICAgY29uc3QgcHJldmlvdXNPcHRpb24gPSB0aGlzLmRvbS5nZXRQcmV2aW91c1NpYmxpbmdXaXRoQ2xhc3NOYW1lKFxuICAgICAgICBhY3RpdmVPcHRpb24sXG4gICAgICAgICd0dy1zZWxlY3Qtb3B0aW9uJ1xuICAgICAgKTtcbiAgICAgIGlmIChwcmV2aW91c09wdGlvbikge1xuICAgICAgICBjb25zdCBwcmV2aW91c09wdGlvbkxpbmsgPSBwcmV2aW91c09wdGlvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYScpWzBdO1xuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvblVzaW5nTGluayhwcmV2aW91c09wdGlvbkxpbmspO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1vdmVEb3duT25lT3B0aW9uKGFjdGl2ZU9wdGlvbiwgYWN0aXZlTGluaywgb3B0aW9uTGlua3MpIHtcbiAgICAvLyBJZiBub25lIGFjdGl2ZSwgc2VsZWN0IGZpcnN0XG4gICAgaWYgKCFhY3RpdmVPcHRpb24gJiYgb3B0aW9uTGlua3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLnNlbGVjdE9wdGlvblVzaW5nTGluayhvcHRpb25MaW5rc1swXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIElmIGFjdGl2ZSBvcHRpb24gbm90IGxhc3QsIG1vdmUgZG93blxuICAgIGlmIChhY3RpdmVMaW5rICE9PSBvcHRpb25MaW5rc1tvcHRpb25MaW5rcy5sZW5ndGggLSAxXSkge1xuICAgICAgY29uc3QgbmV4dE9wdGlvbiA9IHRoaXMuZG9tLmdldE5leHRTaWJsaW5nV2l0aENsYXNzTmFtZShcbiAgICAgICAgYWN0aXZlT3B0aW9uLFxuICAgICAgICAndHctc2VsZWN0LW9wdGlvbidcbiAgICAgICk7XG4gICAgICBpZiAobmV4dE9wdGlvbikge1xuICAgICAgICBjb25zdCBuZXh0T3B0aW9uTGluayA9IG5leHRPcHRpb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXTtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb25Vc2luZ0xpbmsobmV4dE9wdGlvbkxpbmspO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIC8vIElmIGFjdGl2ZSBpcyBsYXN0IGFuZCBjdXN0b20gYWN0aW9uLCBmb2N1cyBvbiBpdFxuICAgIGNvbnN0IHRyYW5zY2x1ZGVkT3B0aW9uID0gdGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3R3LXNlbGVjdC10cmFuc2NsdWRlZCcpO1xuXG4gICAgaWYgKHRyYW5zY2x1ZGVkT3B0aW9uLmxlbmd0aCkge1xuICAgICAgdHJhbnNjbHVkZWRPcHRpb25bMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXS5mb2N1cygpO1xuICAgIH1cbiAgfVxuXG4gIHNob3VsZFNob3dTZWFyY2goKSB7XG4gICAgLy8gRm9yIGxvbmdlciBsaXN0IGF1dG8tc2hvdyBzZWFyY2guXG4gICAgLy8gV2UgY2hvb3NlIHR3ZWx2ZSBhcyB3ZSBkb24ndCBuZWVkIGl0IGZvciBtb250aCBzZWxlY3RvclxuICAgIHJldHVybiB0aGlzLmZpbHRlciB8fCAodGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5sZW5ndGggPiAxMik7XG4gIH1cblxuICByZXZlYWxNb3JlT3B0aW9ucygkZXZlbnQpIHtcbiAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5udW1iZXJPZk9wdGlvbnNSZXZlYWxlZCArPSB0aGlzLm9wdGlvbnNQYWdlU2l6ZTtcbiAgICB0aGlzLmZpbHRlcmVkT3B0aW9ucyA9IHRoaXMuZ2V0RmlsdGVyZWRPcHRpb25zKCk7IC8vIFJlLWNhbGMgb3B0aW9ucyBiYXNlZCBvbiBsYXJnZXIgbGlzdCBzaXplLlxuICB9XG59XG5cbmZ1bmN0aW9uIGxhYmVsTWF0Y2hlcyhvcHRpb24sIHNlYXJjaCkge1xuICByZXR1cm4gb3B0aW9uLmxhYmVsICYmIG9wdGlvbi5sYWJlbC50b0xvd2VyQ2FzZSgpLnNlYXJjaChzZWFyY2gpID49IDA7XG59XG5mdW5jdGlvbiBub3RlTWF0Y2hlcyhvcHRpb24sIHNlYXJjaCkge1xuICByZXR1cm4gb3B0aW9uLm5vdGUgJiYgb3B0aW9uLm5vdGUudG9Mb3dlckNhc2UoKS5zZWFyY2goc2VhcmNoKSA+PSAwO1xufVxuZnVuY3Rpb24gc2Vjb25kYXJ5TWF0Y2hlcyhvcHRpb24sIHNlYXJjaCkge1xuICByZXR1cm4gb3B0aW9uLnNlY29uZGFyeSAmJiBvcHRpb24uc2Vjb25kYXJ5LnRvTG93ZXJDYXNlKCkuc2VhcmNoKHNlYXJjaCkgPj0gMDtcbn1cbmZ1bmN0aW9uIHNlYXJjaGFibGVNYXRjaGVzKG9wdGlvbiwgc2VhcmNoKSB7XG4gIHJldHVybiBvcHRpb24uc2VhcmNoYWJsZSAmJiBvcHRpb24uc2VhcmNoYWJsZS50b0xvd2VyQ2FzZSgpLnNlYXJjaChzZWFyY2gpID49IDA7XG59XG5cbmZ1bmN0aW9uIGFkZEV2ZW50SGFuZGxlcnMoJGN0cmwsICRlbGVtZW50LCAkbmdNb2RlbCwgb3B0aW9ucywgJHRpbWVvdXQpIHtcbiAgY29uc3QgZWxlbWVudCA9ICRlbGVtZW50WzBdO1xuICBjb25zdCBidXR0b24gPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J0bicpWzBdO1xuICBjb25zdCBidXR0b25Hcm91cCA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnRuLWdyb3VwJylbMF07XG4gIGNvbnN0IGRyb3Bkb3duID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkcm9wZG93bi1tZW51JylbMF07XG5cbiAgY29uc3Qgb25Gb2N1c091dCA9ICgpID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICAvLyBJZiBidXR0b24gaXNuJ3QgZm9jdXNlZCBhbmQgZHJvcGRvd24gbm90IG9wZW4sIGJsdXJcbiAgICAgIGlmIChidXR0b24gIT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgICAgICAgJiYgIWJ1dHRvbkdyb3VwLmNsYXNzTGlzdC5jb250YWlucygnb3BlbicpKSB7XG4gICAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2JsdXInKSk7XG4gICAgICB9XG4gICAgfSwgMTUwKTsgLy8gbmVlZCB0aW1lb3V0IGJlY2F1c2UgdXNpbmcgZHJvcGRvd24uanMsXG4gIH07XG5cbiAgY29uc3Qgb25CdXR0b25DbGljayA9ICgpID0+IHtcbiAgICAkdGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoJGN0cmwuc2hvdWxkU2hvd1NlYXJjaCgpKSB7XG4gICAgICAgIC8vIElmIGZpbHRlciBpbiB1c2UsIGZvY3VzIG9uIHRoYXRcbiAgICAgICAgY29uc3QgZmlsdGVySW5wdXQgPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3R3LXNlbGVjdC1maWx0ZXInKVswXTtcbiAgICAgICAgZmlsdGVySW5wdXQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSBmb2N1cyBvbiBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgZm9jdXNPbkFjdGl2ZUxpbmsoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25CdXR0b25LZXlwcmVzcyA9IChldmVudCkgPT4ge1xuICAgICRjdHJsLm9wdGlvbktleXByZXNzKGV2ZW50KTtcbiAgfTtcblxuICBjb25zdCBvbkRyb3Bkb3duS2V5cHJlc3MgPSAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2EnKSB7XG4gICAgICAkY3RybC5vcHRpb25LZXlwcmVzcyhldmVudCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uQ29tcG9uZW50Qmx1ciA9ICgpID0+IHtcbiAgICAkbmdNb2RlbC4kc2V0VG91Y2hlZCgpO1xuICB9O1xuXG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uQ29tcG9uZW50Qmx1cik7XG4gIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIG9uQnV0dG9uS2V5cHJlc3MpO1xuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkJ1dHRvbkNsaWNrKTtcbiAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0Jywgb25Gb2N1c091dCk7XG4gIGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0Jywgb25Gb2N1c091dCk7XG4gIGRyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgb25Ecm9wZG93bktleXByZXNzKTtcbn1cblxuZnVuY3Rpb24gZm9jdXNPbkFjdGl2ZUxpbmsoZWxlbWVudCkge1xuICBjb25zdCBhY3RpdmVPcHRpb24gPSBlbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpWzBdO1xuICBpZiAoYWN0aXZlT3B0aW9uKSB7XG4gICAgYWN0aXZlT3B0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0uZm9jdXMoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0ZvclRyYW5zY2x1ZGVkQ29udGVudCgkdHJhbnNjbHVkZSwgJGN0cmwpIHtcbiAgJHRyYW5zY2x1ZGUoKGNsb25lKSA9PiB7XG4gICAgaWYgKGNsb25lLmxlbmd0aCA+IDEgfHwgY2xvbmUudGV4dCgpLnRyaW0oKSAhPT0gJycpIHtcbiAgICAgICRjdHJsLmhhc1RyYW5zY2x1ZGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRDaGFyYWN0ZXJDb2RlRnJvbUtleXByZXNzKGV2ZW50KSB7XG4gIHJldHVybiBldmVudC53aGljaCB8fCBldmVudC5jaGFyQ29kZSB8fCBldmVudC5rZXlDb2RlO1xufVxuXG5mdW5jdGlvbiBnZXRDaGFyYWN0ZXJGcm9tS2V5cHJlc3MoZXZlbnQpIHtcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoZ2V0Q2hhcmFjdGVyQ29kZUZyb21LZXlwcmVzcyhldmVudCkpO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXC1cXFtcXF1cXC9cXHtcXH1cXChcXClcXCpcXCtcXD9cXC5cXFxcXFxeXFwkXFx8XS9nLCAnXFxcXCQmJyk7XG59XG5cbmZ1bmN0aW9uIHByZVNlbGVjdE1vZGVsVmFsdWUoJG5nTW9kZWwsICRjdHJsKSB7XG4gIGlmIChpc1ZhbGlkTW9kZWwoJGN0cmwubmdNb2RlbCkpIHtcbiAgICBjb25zdCBvcHRpb24gPSBmaW5kT3B0aW9uRnJvbVZhbHVlKCRjdHJsLm9wdGlvbnMsICRjdHJsLm5nTW9kZWwpO1xuICAgIGlmIChvcHRpb24pIHtcbiAgICAgIHNlbGVjdE9wdGlvbigkbmdNb2RlbCwgJGN0cmwsIG9wdGlvbik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRPcHRpb25Gcm9tVmFsdWUob3B0aW9ucywgdmFsdWUpIHtcbiAgbGV0IG9wdGlvbk1hdGNoID0gZmFsc2U7XG4gIG9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgaWYgKGFuZ3VsYXIuZXF1YWxzKG9wdGlvbi52YWx1ZSwgdmFsdWUpKSB7XG4gICAgICBvcHRpb25NYXRjaCA9IG9wdGlvbjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3B0aW9uTWF0Y2g7XG59XG5cbmZ1bmN0aW9uIHNldERlZmF1bHRJZlJlcXVpcmVkKCRuZ01vZGVsLCAkY3RybCwgJGVsZW1lbnQsICRhdHRycykge1xuICAvLyBJZiByZXF1aXJlZCBhbmQgbW9kZWwgZW1wdHksIHNlbGVjdCBmaXJzdCBvcHRpb24gd2l0aCB2YWx1ZVxuICBpZiAoKCRjdHJsLm5nUmVxdWlyZWQgfHwgJGF0dHJzLnJlcXVpcmVkKSAmJiAhaXNWYWxpZE1vZGVsKCRjdHJsLm5nTW9kZWwpICYmICEkY3RybC5wbGFjZWhvbGRlcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGN0cmwub3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzVmFsaWRNb2RlbCgkY3RybC5vcHRpb25zW2ldLnZhbHVlKSkge1xuICAgICAgICBzZWxlY3RPcHRpb24oJG5nTW9kZWwsICRjdHJsLCAkY3RybC5vcHRpb25zW2ldKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNlbGVjdE9wdGlvbigkbmdNb2RlbCwgJGN0cmwsIG9wdGlvbikge1xuICBpZiAob3B0aW9uLmRpc2FibGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gICRuZ01vZGVsLiRzZXRWaWV3VmFsdWUob3B0aW9uLnZhbHVlKTtcbiAgLy8gRm9yY2UgY29tbWl0IHNvIHRoYXQgbmctY2hhbmdlIGFsd2F5cyBoYXMgbmV3IHZhbHVlXG4gICRuZ01vZGVsLiRjb21taXRWaWV3VmFsdWUoKTtcbiAgJGN0cmwuc2VsZWN0ZWQgPSBvcHRpb247XG59XG5cbmZ1bmN0aW9uIGZpbmRTZWxlY3RlZChvcHRpb25zLCBzZWxlY3RlZCkge1xuICAvLyBUaGVyZSBjYW4gYmUgc2NlbmFyaW9zIHdoZW4gdGhlIGBmaWx0ZXJlZE9wdGlvbnNgIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHlcbiAgLy8gc28gdGhpcyBtZXRob2QgbWF5IGJlIGNhbGxlZCB3aXRoIGFuIHVuZGVmaW5lZCBhcyBgb3B0aW9uc2AgYXJndW1lbnQsIHNvXG4gIC8vIHdlIHNob3VsZCBjaGVjayBpZiB0aGF0IHBhc3NlZCBhcmd1bWVudCBpcyByZWFsbHkgYW4gYXJyYXkgYmVmb3JlIGNhbGxpbmdcbiAgLy8gYC5mb3JFYWNoYCBvbiBpdFxuICBpZiAoIWFuZ3VsYXIuaXNBcnJheShvcHRpb25zKSkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvLyBQcmVmZXIgZm9yRWFjaCBvdmVyIGZpbmQgZm9yIGJyb3dzZXIgc3VwcG9ydFxuICBsZXQgc2VsZWN0ZWRPcHRpb247XG4gIG9wdGlvbnMuZm9yRWFjaCgob3B0aW9uKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkICYmIGFuZ3VsYXIuZXF1YWxzKHNlbGVjdGVkLnZhbHVlLCBvcHRpb24udmFsdWUpKSB7XG4gICAgICBzZWxlY3RlZE9wdGlvbiA9IHNlbGVjdGVkO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzZWxlY3RlZE9wdGlvbjtcbn1cblxuZnVuY3Rpb24gcmVzZXRPcHRpb24oJG5nTW9kZWwsICRjdHJsKSB7XG4gICRuZ01vZGVsLiRzZXRWaWV3VmFsdWUobnVsbCk7XG4gIC8vIEZvcmNlIGNvbW1pdCBzbyB0aGF0IG5nLWNoYW5nZSBhbHdheXMgaGFzIG5ldyB2YWx1ZVxuICAkbmdNb2RlbC4kY29tbWl0Vmlld1ZhbHVlKCk7XG4gICRjdHJsLnNlbGVjdGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGNvbnRpbnVlU2VhcmNoQW5kU2VsZWN0TWF0Y2goJG5nTW9kZWwsICRjdHJsLCBvcHRpb25zLCBsZXR0ZXIpIHtcbiAgbGV0IGZvdW5kID0gc2VhcmNoQW5kU2VsZWN0KCRuZ01vZGVsLCAkY3RybCwgb3B0aW9ucywgJGN0cmwuc2VhcmNoICsgbGV0dGVyKTtcbiAgaWYgKGZvdW5kKSB7XG4gICAgJGN0cmwuc2VhcmNoICs9IGxldHRlcjtcbiAgfSBlbHNlIHtcbiAgICAkY3RybC5zZWFyY2ggPSBsZXR0ZXI7XG4gICAgZm91bmQgPSBzZWFyY2hBbmRTZWxlY3QoJG5nTW9kZWwsICRjdHJsLCBvcHRpb25zLCAkY3RybC5zZWFyY2gpO1xuICB9XG4gIHJldHVybiBmb3VuZDtcbn1cblxuZnVuY3Rpb24gc2VhcmNoQW5kU2VsZWN0KCRuZ01vZGVsLCAkY3RybCwgb3B0aW9ucywgdGVybSkge1xuICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgY29uc3Qgc2VhcmNoVGVybSA9IHRlcm0udG9Mb3dlckNhc2UoKTtcblxuICBvcHRpb25zLmZvckVhY2goKG9wdGlvbikgPT4ge1xuICAgIGlmIChmb3VuZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY29udGFpbnNTZWFyY2gob3B0aW9uLmxhYmVsLCBzZWFyY2hUZXJtKVxuICAgICAgfHwgY29udGFpbnNTZWFyY2gob3B0aW9uLm5vdGUsIHNlYXJjaFRlcm0pXG4gICAgICB8fCBjb250YWluc1NlYXJjaChvcHRpb24uc2Vjb25kYXJ5LCBzZWFyY2hUZXJtKVxuICAgICAgfHwgY29udGFpbnNTZWFyY2gob3B0aW9uLnNlYXJjaGFibGUsIHNlYXJjaFRlcm0pKSB7XG4gICAgICBzZWxlY3RPcHRpb24oJG5nTW9kZWwsICRjdHJsLCBvcHRpb24pO1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBmb3VuZDtcbn1cblxuZnVuY3Rpb24gY29udGFpbnNTZWFyY2godGVybSwgc2VhcmNoKSB7XG4gIHJldHVybiB0ZXJtICYmIHRlcm0udG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaCkgPT09IDA7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRNb2RlbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgfHwgdmFsdWUgPT09IDAgfHwgdmFsdWUgPT09IGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZXNwb25zaXZlQ2xhc3Nlcyh2YWx1ZSkge1xuICBsZXQgY2xhc3NlcyA9ICcnO1xuICBsZXQgYnJlYWtwb2ludHMgPSBbXTtcbiAgY29uc3QgdmFsaWRCcmVha3BvaW50cyA9IHtcbiAgICB4czogdHJ1ZSxcbiAgICBzbTogdHJ1ZSxcbiAgICBtZDogdHJ1ZSxcbiAgICBsZzogdHJ1ZSxcbiAgICB4bDogdHJ1ZVxuICB9O1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJyAmJiB2YWx1ZSkge1xuICAgIHJldHVybiAnaGlkZGVuJztcbiAgfVxuXG4gIGlmICh2YWx1ZSAmJiB2YWx1ZS50b0xvd2VyQ2FzZSAmJiB2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScpIHtcbiAgICByZXR1cm4gJ2hpZGRlbic7XG4gIH1cblxuICBpZiAodmFsdWUpIHtcbiAgICBicmVha3BvaW50cyA9IHZhbHVlLnNwbGl0KCcsJyk7XG4gIH1cblxuICBicmVha3BvaW50cy5mb3JFYWNoKChicmVha3BvaW50KSA9PiB7XG4gICAgaWYgKHZhbGlkQnJlYWtwb2ludHNbYnJlYWtwb2ludF0pIHtcbiAgICAgIGNsYXNzZXMgKz0gYGhpZGRlbi0ke2JyZWFrcG9pbnR9IGA7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gY2xhc3Nlcztcbn1cblxuY29uc3Qga2V5cyA9IHtcbiAgdXA6IDM4LFxuICBkb3duOiA0MCxcbiAgcmV0dXJuOiAxM1xufTtcblxuU2VsZWN0Q29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAnJGVsZW1lbnQnLFxuICAnJHRyYW5zY2x1ZGUnLFxuICAnJHRpbWVvdXQnLFxuICAnJGF0dHJzJyxcbiAgJ1R3RG9tU2VydmljZScsXG4gICckc2NvcGUnXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBTZWxlY3RDb250cm9sbGVyO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBidG4tYmxvY2sgdHctc2VsZWN0XFxcIiBuZy1jbGFzcz1cXFwie1xcbiAgICBkcm9wZG93bjogISRjdHJsLmRyb3Bkb3duVXAsXFxuICAgIGRyb3B1cDogJGN0cmwuZHJvcGRvd25VcFxcbiAgfVxcXCIgYXJpYS1oaWRkZW49ZmFsc2U+IDxidXR0b24gdHlwZT1idXR0b24gY2xhc3M9XFxcImJ0biBidG4taW5wdXQgZHJvcGRvd24tdG9nZ2xlXFxcIiBuZy1jbGFzcz1cXFwie1xcbiAgICAgICdidG4taW5wdXQtaW52ZXJzZSc6ICRjdHJsLmludmVyc2UsXFxuICAgICAgJ2J0bi1hZGRvbic6ICRjdHJsLmludmVyc2UsXFxuICAgICAgJ2J0bi1zbSc6ICRjdHJsLnNpemUgPT09ICdzbScsXFxuICAgICAgJ2J0bi1sZyc6ICRjdHJsLnNpemUgPT09ICdsZydcXG4gICAgfVxcXCIgZGF0YS10b2dnbGU9ZHJvcGRvd24gYXJpYS1leHBhbmRlZD1mYWxzZSBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIG5nLWZvY3VzPSRjdHJsLmJ1dHRvbkZvY3VzKCkgdHctZm9jdXNhYmxlPiA8c3BhbiBjbGFzcz10dy1zZWxlY3Qtc2VsZWN0ZWQgbmctaWY9JGN0cmwuc2VsZWN0ZWQ+IDxzcGFuIGNsYXNzPVxcXCJjaXJjbGUgY2lyY2xlLWludmVyc2UgcHVsbC14cy1sZWZ0IGNpcmNsZS1zbVxcXCIgbmctaWY9XFxcIiRjdHJsLnNlbGVjdGVkICYmICRjdHJsLnNlbGVjdGVkLmljb24gJiYgJGN0cmwuc2VsZWN0ZWQuc2Vjb25kYXJ5XFxcIj4gPHNwYW4gY2xhc3M9XFxcImljb24ge3skY3RybC5zZWxlY3RlZC5pY29ufX1cXFwiPjwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwiY2lyY2xlIGNpcmNsZS1pbnZlcnNlIHB1bGwteHMtbGVmdFxcXCIgbmctY2xhc3M9JGN0cmwuY2lyY2xlQ2xhc3NlcygkY3RybC5oaWRlQ2lyY2xlKSBuZy1pZj1cXFwiKCRjdHJsLnNlbGVjdGVkLmNpcmNsZVRleHQgfHwgJGN0cmwuc2VsZWN0ZWQuY2lyY2xlSW1hZ2UgfHwgJGN0cmwuc2VsZWN0ZWQuY2lyY2xlSWNvbilcXFwiPiA8c3BhbiBuZy1pZj0kY3RybC5zZWxlY3RlZC5jaXJjbGVUZXh0Pnt7JGN0cmwuc2VsZWN0ZWQuY2lyY2xlVGV4dH19PC9zcGFuPiA8aW1nIGFsdD17eyRjdHJsLnNlbGVjdGVkLmxhYmVsfX0gbmctaWY9JGN0cmwuc2VsZWN0ZWQuY2lyY2xlSW1hZ2Ugc3JjPVxcXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsXFxuICAgICAgICAgICAgaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVFBQUFDMUhBd0NBQUFBQzBsRVFWUjQybU5rWUFBQUFBWUFBakNCMEM4QUFBQUFTVVZPUks1Q1lJST1cXFwiIG5nLXNyYz17eyRjdHJsLnNlbGVjdGVkLmNpcmNsZUltYWdlfX0gLz4gPHNwYW4gbmctaWY9JGN0cmwuc2VsZWN0ZWQuY2lyY2xlSWNvbiBjbGFzcz1cXFwiaWNvbiB7eyRjdHJsLnNlbGVjdGVkLmNpcmNsZUljb259fVxcXCI+PC9zcGFuPiA8L3NwYW4+IDxzcGFuIGNsYXNzPXRleHQtZWxsaXBzaXM+IDxzcGFuIGNsYXNzPVxcXCJjdXJyZW5jeS1mbGFnIGN1cnJlbmN5LWZsYWcte3skY3RybC5zZWxlY3RlZC5jdXJyZW5jeSB8IGxvd2VyY2FzZX19XFxcIiBuZy1pZj1cXFwiJGN0cmwuc2VsZWN0ZWQgJiYgJGN0cmwuc2VsZWN0ZWQuY3VycmVuY3lcXFwiIG5nLWNsYXNzPSRjdHJsLnJlc3BvbnNpdmVDbGFzc2VzKCRjdHJsLmhpZGVDdXJyZW5jeSk+PC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwiaWNvbiB7eyRjdHJsLnNlbGVjdGVkLmljb259fVxcXCIgbmctaWY9XFxcIiRjdHJsLnNlbGVjdGVkICYmICRjdHJsLnNlbGVjdGVkLmljb24gJiYgISRjdHJsLnNlbGVjdGVkLnNlY29uZGFyeVxcXCIgbmctY2xhc3M9JGN0cmwucmVzcG9uc2l2ZUNsYXNzZXMoJGN0cmwuaGlkZUljb24pPjwvc3Bhbj4gPHNwYW4gY2xhc3M9dHctc2VsZWN0LWxhYmVsIG5nLWNsYXNzPSRjdHJsLnJlc3BvbnNpdmVDbGFzc2VzKCRjdHJsLmhpZGVMYWJlbCk+IHt7JGN0cmwuc2VsZWN0ZWQubGFiZWx9fSA8L3NwYW4+IDxzcGFuIG5nLWlmPSRjdHJsLnNlbGVjdGVkLm5vdGUgbmctY2xhc3M9JGN0cmwucmVzcG9uc2l2ZUNsYXNzZXMoJGN0cmwuaGlkZU5vdGUpIGNsYXNzPVxcXCJ0dy1zZWxlY3Qtbm90ZSBzbWFsbCBtLWwtMVxcXCI+IHt7JGN0cmwuc2VsZWN0ZWQubm90ZX19IDwvc3Bhbj4gPHNwYW4gbmctaWY9JGN0cmwuc2VsZWN0ZWQuc2Vjb25kYXJ5IG5nLWNsYXNzPSRjdHJsLnJlc3BvbnNpdmVDbGFzc2VzKCRjdHJsLmhpZGVTZWNvbmRhcnkpIGNsYXNzPVxcXCJ0dy1zZWxlY3Qtc2Vjb25kYXJ5IHNtYWxsIHNlY29uZGFyeSB0ZXh0LWVsbGlwc2lzXFxcIj4ge3skY3RybC5zZWxlY3RlZC5zZWNvbmRhcnl9fSA8L3NwYW4+IDwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz1mb3JtLWNvbnRyb2wtcGxhY2Vob2xkZXIgbmctaWY9ISRjdHJsLnNlbGVjdGVkPnt7JGN0cmwucGxhY2Vob2xkZXJ9fTwvc3Bhbj4gPHNwYW4gY2xhc3M9Y2FyZXQ+PC9zcGFuPiA8L2J1dHRvbj4gPHVsIGNsYXNzPWRyb3Bkb3duLW1lbnUgcm9sZT1tZW51IG5nLWNsYXNzPVxcXCJ7XFxuICAgICAgJ2Ryb3Bkb3duLW1lbnUteHMtcmlnaHQnOiAkY3RybC5kcm9wZG93blJpZ2h0ID09PSAneHMnLFxcbiAgICAgICdkcm9wZG93bi1tZW51LXNtLXJpZ2h0JzogJGN0cmwuZHJvcGRvd25SaWdodCA9PT0gJ3NtJyxcXG4gICAgICAnZHJvcGRvd24tbWVudS1tZC1yaWdodCc6ICRjdHJsLmRyb3Bkb3duUmlnaHQgPT09ICdtZCcsXFxuICAgICAgJ2Ryb3Bkb3duLW1lbnUtbGctcmlnaHQnOiAkY3RybC5kcm9wZG93blJpZ2h0ID09PSAnbGcnLFxcbiAgICAgICdkcm9wZG93bi1tZW51LXhsLXJpZ2h0JzogJGN0cmwuZHJvcGRvd25SaWdodCA9PT0gJ3hsJyxcXG4gICAgICAnZHJvcGRvd24tbWVudS1zbSc6ICRjdHJsLmRyb3Bkb3duV2lkdGggPT09ICdzbScsXFxuICAgICAgJ2Ryb3Bkb3duLW1lbnUtbWQnOiAkY3RybC5kcm9wZG93bldpZHRoID09PSAnbWQnLFxcbiAgICAgICdkcm9wZG93bi1tZW51LWxnJzogJGN0cmwuZHJvcGRvd25XaWR0aCA9PT0gJ2xnJ1xcbiAgICB9XFxcIj4gPGxpIG5nLWlmPSRjdHJsLnNob3VsZFNob3dTZWFyY2goKT4gPGEgaHJlZj1cXFwiXFxcIiBjbGFzcz1cXFwidHctc2VsZWN0LWZpbHRlci1saW5rIHAtYS0wXFxcIiB0YWJpbmRleD0tMSBuZy1mb2N1cz0kY3RybC5mb2N1c09uRmlsdGVySW5wdXQoKT4gPGRpdiBjbGFzcz1pbnB1dC1ncm91cD4gPHNwYW4gY2xhc3M9aW5wdXQtZ3JvdXAtYWRkb24+PHNwYW4gY2xhc3M9XFxcImljb24gaWNvbi1zZWFyY2hcXFwiPjwvc3Bhbj4gPC9zcGFuPiA8aW5wdXQgdHlwZT10ZXh0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdHctc2VsZWN0LWZpbHRlclxcXCIgcGxhY2Vob2xkZXI9e3skY3RybC5maWx0ZXJ9fSBuZy1tb2RlbD0kY3RybC5maWx0ZXJTdHJpbmcgbmctY2hhbmdlPSRjdHJsLmZpbHRlckNoYW5nZSgpIG5nLWtleWRvd249JGN0cmwuZmlsdGVyS2V5ZG93bigkZXZlbnQpIC8+IDwvZGl2PiA8L2E+IDwvbGk+IDxsaSBuZy1jbGFzcz1cXFwie2FjdGl2ZTogISRjdHJsLnNlbGVjdGVkfVxcXCIgbmctaWY9XFxcIiRjdHJsLnBsYWNlaG9sZGVyICYmICEkY3RybC5uZ1JlcXVpcmVkICYmICEkY3RybC5maWx0ZXJcXFwiPiA8YSBocmVmPVxcXCJcXFwiIHRhYmluZGV4PS0xIG5nLWNsaWNrPSRjdHJsLnBsYWNlaG9sZGVyQ2xpY2soKSBuZy1mb2N1cz0kY3RybC5wbGFjZWhvbGRlckZvY3VzKCkgY2xhc3M9dHctc2VsZWN0LXBsYWNlaG9sZGVyIHR3LWZvY3VzYWJsZT4ge3skY3RybC5wbGFjZWhvbGRlcn19IDwvYT4gPC9saT4gPGxpIG5nLWlmPVxcXCIoJGN0cmwucGxhY2Vob2xkZXIgJiYgISRjdHJsLm5nUmVxdWlyZWQpIHx8ICRjdHJsLmZpbHRlclxcXCIgY2xhc3M9ZGl2aWRlcj48L2xpPiA8bGkgbmctcmVwZWF0PVxcXCJvcHRpb24gaW4gJGN0cmwuZmlsdGVyZWRPcHRpb25zXFxcIiBuZy1jbGFzcz1cXFwie1xcbiAgICAgICAgJ2FjdGl2ZSc6ICRjdHJsLm5nTW9kZWwgPT09IG9wdGlvbi52YWx1ZSxcXG4gICAgICAgICdkaXNhYmxlZCc6IG9wdGlvbi5kaXNhYmxlZCxcXG4gICAgICAgICdkcm9wZG93bi1oZWFkZXInOiBvcHRpb24uaGVhZGVyLFxcbiAgICAgICAgJ3R3LXNlbGVjdC1vcHRpb24nOiAhb3B0aW9uLmhlYWRlciAmJiAhb3B0aW9uLmRpc2FibGVkXFxuICAgICAgfVxcXCI+IDxzcGFuIG5nLWlmPW9wdGlvbi5oZWFkZXIgY2xhc3M9dGV4dC1lbGxpcHNpcyBuZy1jbGljaz0kZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk+e3tvcHRpb24uaGVhZGVyfX08L3NwYW4+IDxhIGhyZWY9XFxcIlxcXCIgbmctaWY9IW9wdGlvbi5oZWFkZXIgbmctY2xpY2s9XFxcIiRjdHJsLm9wdGlvbkNsaWNrKG9wdGlvbiwgJGV2ZW50KVxcXCIgbmctZm9jdXM9JGN0cmwub3B0aW9uRm9jdXMob3B0aW9uKSBuZy1jbGFzcz1cXFwieyd0dy1zZWxlY3Qtb3B0aW9uLWxpbmsnOiAhb3B0aW9uLmRpc2FibGVkfVxcXCIgaW5kZXg9e3skaW5kZXh9fSB0YWJpbmRleD0tMSB0dy1mb2N1c2FibGU+IDxkaXYgbmctaWY9XFxcIm9wdGlvbi5pY29uICYmIG9wdGlvbi5zZWNvbmRhcnlcXFwiIGNsYXNzPVxcXCJjaXJjbGUgY2lyY2xlLWludmVyc2UgcHVsbC14cy1sZWZ0IGNpcmNsZS1zbVxcXCI+IDxzcGFuIGNsYXNzPVxcXCJpY29uIHt7b3B0aW9uLmljb259fVxcXCI+PC9zcGFuPiA8L2Rpdj4gPHNwYW4gbmctaWY9XFxcIm9wdGlvbi5pY29uICYmICFvcHRpb24uc2Vjb25kYXJ5XFxcIiBjbGFzcz1cXFwiaWNvbiB7e29wdGlvbi5pY29ufX0gcHVsbC14cy1sZWZ0XFxcIj4gPC9zcGFuPiA8c3BhbiBuZy1pZj1vcHRpb24uY3VycmVuY3kgY2xhc3M9XFxcImN1cnJlbmN5LWZsYWcgY3VycmVuY3ktZmxhZy17e29wdGlvbi5jdXJyZW5jeSB8IGxvd2VyY2FzZX19IHB1bGwteHMtbGVmdFxcXCI+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9XFxcImNpcmNsZSBjaXJjbGUtaW52ZXJzZSBwdWxsLXhzLWxlZnRcXFwiIG5nLWNsYXNzPVxcXCJ7XFxuICAgICAgICAgICAgJ2NpcmNsZS1zbSc6IG9wdGlvbi5zZWNvbmRhcnksXFxuICAgICAgICAgICAgJ2NpcmNsZS14cyc6ICFvcHRpb24uc2Vjb25kYXJ5XFxuICAgICAgICAgIH1cXFwiIG5nLWlmPVxcXCJvcHRpb24uY2lyY2xlVGV4dCB8fCBvcHRpb24uY2lyY2xlSW1hZ2UgfHwgb3B0aW9uLmNpcmNsZUljb25cXFwiPiA8c3BhbiBjbGFzcz10dy1zZWxlY3QtY2lyY2xlLXRleHQgbmctaWY9b3B0aW9uLmNpcmNsZVRleHQ+e3tvcHRpb24uY2lyY2xlVGV4dH19PC9zcGFuPiA8aW1nIGFsdD17e29wdGlvbi5sYWJlbH19IG5nLWlmPW9wdGlvbi5jaXJjbGVJbWFnZSBzcmM9XFxcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcXG4gICAgICAgICAgICAgIGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FRQUFBQzFIQXdDQUFBQUMwbEVRVlI0Mm1Oa1lBQUFBQVlBQWpDQjBDOEFBQUFBU1VWT1JLNUNZSUk9XFxcIiBuZy1zcmM9e3tvcHRpb24uY2lyY2xlSW1hZ2V9fSAvPiA8c3BhbiBuZy1pZj1vcHRpb24uY2lyY2xlSWNvbiBjbGFzcz1cXFwiaWNvbiB7e29wdGlvbi5jaXJjbGVJY29ufX1cXFwiPjwvc3Bhbj4gPC9zcGFuPnt7b3B0aW9uLmxhYmVsfX08c3BhbiBuZy1pZj1vcHRpb24ubm90ZSBjbGFzcz1cXFwidHctc2VsZWN0LW5vdGUgc21hbGwgbS1sLTFcXFwiPnt7b3B0aW9uLm5vdGV9fTwvc3Bhbj48c3BhbiBuZy1pZj1vcHRpb24uc2Vjb25kYXJ5IGNsYXNzPVxcXCJ0dy1zZWxlY3Qtc2Vjb25kYXJ5IHNtYWxsIHRleHQtZWxsaXBzaXNcXFwiPnt7b3B0aW9uLnNlY29uZGFyeX19PC9zcGFuPiA8L2E+IDwvbGk+IDxsaSBuZy1pZj0kY3RybC5oYXNNb3JlT3B0aW9uc1RvUmV2ZWFsPiA8YSBocmVmPVxcXCJcXFwiIG5nLWNsaWNrPSRjdHJsLnJldmVhbE1vcmVPcHRpb25zKCRldmVudCkgY2xhc3M9dHctc2VsZWN0LWxvYWQtbW9yZSB0YWJpbmRleD0tMSB0dy1mb2N1c2FibGU+IC4uLiA8L2E+IDwvbGk+IDxsaSBuZy1pZj0kY3RybC5oYXNUcmFuc2NsdWRlZCBjbGFzcz1kaXZpZGVyPjwvbGk+IDxsaSBuZy10cmFuc2NsdWRlIG5nLWlmPSRjdHJsLmhhc1RyYW5zY2x1ZGVkIGNsYXNzPXR3LXNlbGVjdC10cmFuc2NsdWRlZD48L2xpPiA8L3VsPiA8L2Rpdj4gPGlucHV0IHR5cGU9aGlkZGVuIGNsYXNzPXR3LXNlbGVjdC1oaWRkZW4gbmFtZT17eyRjdHJsLm5hbWV9fSB2YWx1ZT17eyRjdHJsLm5nTW9kZWx9fSBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIC8+IFwiOyIsImltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vdXBsb2FkLmNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdXBsb2FkLmh0bWwnO1xuaW1wb3J0ICcuL3VwbG9hZC5sZXNzJztcblxuY29uc3QgVXBsb2FkID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgYmluZGluZ3M6IHtcbiAgICBuZ0Rpc2FibGVkOiAnPCcsXG4gICAgbmdNb2RlbDogJz0nLFxuICAgIG5nQ2hhbmdlOiAnJicsXG4gICAgbmFtZTogJ0AnLFxuICAgIGljb246ICdAJywgLy8gaWxsdXN0cmF0aW9uIGluIGljb24gc2hvd24gaW4gdXBsb2FkIGJveFxuICAgIGhlbHBJbWFnZTogJ0AnLCAvLyBpbGx1c3RyYXRpb24gaW4gaW1hZ2Ugc2hvd2luIGluIHVwbG9hZCBib3gsIGlmIHNwZWNpZmllZCwgcmVwbGFjZXMgaWNvblxuICAgIGxhYmVsOiAnQCcsXG4gICAgcGxhY2Vob2xkZXI6ICdAJyxcblxuICAgIGJ1dHRvblRleHQ6ICdAJywgLy8gQnV0dG9uIHRleHQgc2hvd24gaW4gZGVmYXVsdCBzdGF0ZVxuICAgIGNhbmNlbFRleHQ6ICdAJywgLy8gVGV4dCBpbnN0cnVjdGluZyB0byBnbyBiYWNrIHRvIHJlLXVwbG9hZCBhZnRlciB1cGxvYWQgaXMgZG9uZVxuICAgIGRyb3BwaW5nVGV4dDogJ0AnLCAvLyBUZXh0IHNob3duIHdoZW4gaG92ZXJpbmcgd2l0aCBhIGZpbGVcblxuICAgIHByb2Nlc3NpbmdUZXh0OiAnQCcsIC8vIFRleHQgc2hvd24gd2hpbGUgcHJvY2Vzc2luZy91cGxvYWRpbmdcbiAgICBzdWNjZXNzVGV4dDogJ0AnLCAvLyBUZXh0IGFmdGVyIHVwbG9hZCBpcyBzdWNjZXNzZnVsLCBzaG93biBxdWl0ZSBicmllZmx5IGJlZm9yZSBwcmV2aWV3XG4gICAgZmFpbHVyZVRleHQ6ICdAJyxcblxuICAgIHRvb0xhcmdlTWVzc2FnZTogJ0AnLFxuICAgIC8vIHdyb25nVHlwZU1lc3NhZ2U6ICdAJyxcblxuICAgIHZhbGlkYXRpb25NZXNzYWdlczogJzwnLFxuXG4gICAgc2l6ZTogJ0AnLFxuICAgIGFjY2VwdDogJ0AnLFxuICAgIGh0dHBPcHRpb25zOiAnPCcsXG5cbiAgICBvblN0YXJ0OiAnPScsXG4gICAgb25TdWNjZXNzOiAnPScsXG4gICAgb25GYWlsdXJlOiAnPScsXG4gICAgb25DYW5jZWw6ICc9JyxcblxuICAgIG1heFNpemU6ICc8JywgLy8gVE9ETyBtb3ZlIHRvIG5nTWF4P1xuXG4gICAgLy8gQ2FtZXJhIGNhcHR1cmUgdXBsb2FkIG9wdGlvbnNcblxuICAgIC8qIFNvdXJjZSBvZiBmaWxlIHRvIHVwbG9hZFxuICAgICAqIFBvc3NpYmxlIHZhbHVlc1xuICAgICAqIENBTUVSQV9PTkxZIChhbGxvdyBvbmx5IGNhbWVyYSB1cGxvYWQpXG4gICAgICogRklMRV9PTkxZIChhbGxvdyBvbmx5IHVwbG9hZCBmcm9tIGZpbGUgc3lzdGVtKVxuICAgICAqIEFOWSAod2UgZG9udCBjYXJlKVxuICAgICAqL1xuICAgIHNvdXJjZTogJzwnLFxuICAgIGNhbWVyYU92ZXJsYXk6ICdAJywgLy8gT3B0aW9uYWxcbiAgICBjYW1lcmFEaXJlY3Rpb246ICdAJywgLy8gZW52aXJvbm1lbnQvdXNlclxuXG4gICAgZGVzY3JpcHRpb246ICdAJywgLy8gREVQUkVDQVRFRCBmb3IgbGFiZWxcbiAgICBpbnN0cnVjdGlvbnM6ICdAJywgLy8gREVQUkVDQVRFRCBmb3IgcGxhY2Vob2xkZXJcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVXBsb2FkO1xuIiwiY2xhc3MgVXBsb2FkQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICRlbGVtZW50LFxuICAgICRzY29wZSxcbiAgICAkYXR0cnMsXG4gICAgRmlsZVZhbGlkYXRpb25TZXJ2aWNlLFxuICApIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgdGhpcy4kYXR0cnMgPSAkYXR0cnM7XG4gICAgdGhpcy5GaWxlVmFsaWRhdGlvblNlcnZpY2UgPSBGaWxlVmFsaWRhdGlvblNlcnZpY2U7XG5cbiAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IGZhbHNlO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuc291cmNlKSB7XG4gICAgICB0aGlzLmlzTGl2ZUNhbWVyYVVwbG9hZCA9IGNoYW5nZXMuc291cmNlLmN1cnJlbnRWYWx1ZSA9PT0gJ0NBTUVSQV9PTkxZJztcbiAgICB9XG4gIH1cblxuICBvbkZpbGVDYXB0dXJlKGZpbGUpIHtcbiAgICBpZiAodGhpcy5uZ0Rpc2FibGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFmaWxlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXRyaWV2ZSBmaWxlJyk7XG4gICAgfVxuXG4gICAgdGhpcy5maWxlID0gZmlsZTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gZmFsc2U7XG4gICAgdGhpcy5pc0RvbmUgPSBmYWxzZTtcblxuICAgIHRoaXMuY2xlYXJIdG1sSW5wdXQoKTtcbiAgICB0aGlzLnNldE5nTW9kZWwobnVsbCk7XG5cbiAgICBpZiAodGhpcy5vbkNhbmNlbCkge1xuICAgICAgdGhpcy5vbkNhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG4gIGNsZWFySHRtbElucHV0KCkge1xuICAgIGlmICh0aGlzLiRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKS5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICBpbnB1dC52YWx1ZSA9IG51bGw7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZXROZ01vZGVsKHZhbHVlKSB7XG4gICAgLy8gSWYgbmdNb2RlbCBub3QgYXNzaWduYWJsZSwgd2UgZG9uJ3Qgd2FudCB0byBlcnJvci5cbiAgICBpZiAodHlwZW9mIHRoaXMuJGF0dHJzLm5nTW9kZWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zdCAkbmdNb2RlbCA9IHRoaXMuJGVsZW1lbnQuY29udHJvbGxlcignbmdNb2RlbCcpO1xuICAgICAgaWYgKCEkbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICRuZ01vZGVsLiRzZXRWaWV3VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGlzRHJvcEVsaWdpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZSAhPT0gJ0NBTUVSQV9PTkxZJztcbiAgfVxuXG4gIG9uRHJhZ0VudGVyKCkge1xuICAgIHRoaXMuaXNEcm9wcGFibGUgPSB0aGlzLmlzRHJvcEVsaWdpYmxlKCk7XG4gIH1cblxuICBvbkRyYWdMZWF2ZSgpIHtcbiAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7XG4gIH1cblxuICBvbkRyb3AoZmlsZXMpIHtcbiAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5vbkZpbGVDYXB0dXJlKGZpbGVzWzBdKTtcbiAgfVxuXG4gIG9uUHJvY2Vzc1N0YXJ0KGZpbGUpIHtcbiAgICB0aGlzLmlzRG9uZSA9IGZhbHNlO1xuICAgIHRoaXMuaXNQcm9jZXNzaW5nID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLm9uU3RhcnQpIHtcbiAgICAgIHRoaXMub25TdGFydCh7IGZpbGUgfSk7XG4gICAgfVxuICB9XG5cbiAgb25Qcm9jZXNzU3VjY2VzcyhmaWxlLCBkYXRhVXJsLCBpZCwgcmVzcG9uc2UpIHtcbiAgICB0aGlzLmlzRG9uZSA9IHRydWU7XG4gICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmRhdGFVcmwgPSBkYXRhVXJsO1xuICAgIHRoaXMuaXNJbWFnZSA9IHRoaXMuRmlsZVZhbGlkYXRpb25TZXJ2aWNlLmlzSW1hZ2UoZmlsZSk7XG5cbiAgICBpZiAodGhpcy5odHRwT3B0aW9ucyAmJiBpZCkge1xuICAgICAgdGhpcy5zZXROZ01vZGVsKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXROZ01vZGVsKGRhdGFVcmwpO1xuICAgIH1cblxuICAgIHRoaXMub25TdWNjZXNzKGZpbGUsIHJlc3BvbnNlKTtcbiAgfVxuXG4gIG9uUHJvY2Vzc0ZhaWx1cmUoZXJyb3IpIHtcbiAgICBpZiAodGhpcy5vbkZhaWx1cmUpIHtcbiAgICAgIHRoaXMub25GYWlsdXJlKHsgZXJyb3IgfSk7XG4gICAgfVxuICB9XG59XG5cblVwbG9hZENvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgJyRlbGVtZW50JyxcbiAgJyRzY29wZScsXG4gICckYXR0cnMnLFxuICAnRmlsZVZhbGlkYXRpb25TZXJ2aWNlJ1xuXTtcblxuZXhwb3J0IGRlZmF1bHQgVXBsb2FkQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWRyb3BwYWJsZSB0dy1kcmFnLWVudGVyPSRjdHJsLm9uRHJhZ0VudGVyKCkgdHctZHJhZy1sZWF2ZT0kY3RybC5vbkRyYWdMZWF2ZSgpIHR3LWRyb3A9JGN0cmwub25Ecm9wKGZpbGVzKSBuZy1jbGFzcz1cXFwie1xcbiAgICAnZHJvcHBhYmxlLXNtJzogJGN0cmwuc2l6ZSA9PT0nc20nLFxcbiAgICAnZHJvcHBhYmxlLW1kJzogJGN0cmwuc2l6ZSA9PT0nbWQnIHx8ICEkY3RybC5zaXplLFxcbiAgICAnZHJvcHBhYmxlLWxnJzogJGN0cmwuc2l6ZSA9PT0nbGcnLFxcbiAgICAnZHJvcHBhYmxlLWRyb3BwaW5nJzogJGN0cmwuaXNEcm9wcGFibGUgJiYgISRjdHJsLm5nRGlzYWJsZWQsXFxuICAgICdkcm9wcGFibGUtcHJvY2Vzc2luZyc6ICEkY3RybC5pc0RvbmUgJiYgKCRjdHJsLmlzUHJvY2Vzc2luZyB8fCAkY3RybC5pc1N1Y2Nlc3MpLFxcbiAgICAnZHJvcHBhYmxlLWNvbXBsZXRlJzogJGN0cmwuaXNEb25lXFxuICB9XFxcIj4gPGRpdiBjbGFzcz1kcm9wcGFibGUtZGVmYXVsdC1jYXJkIGFyaWEtaGlkZGVuPVxcXCJ7eyRjdHJsLmlzRG9uZSB8fCAkY3RybC5pc1Byb2Nlc3Npbmd9fVxcXCI+IDx0dy11cGxvYWQtY2FwdHVyZSBsYWJlbD0kY3RybC5sYWJlbCBpY29uPSRjdHJsLmljb24gYWNjZXB0PSRjdHJsLmFjY2VwdCBpbnB1dC1maWxlPSRjdHJsLmlucHV0RmlsZSBoZWxwLWltYWdlPSRjdHJsLmhlbHBJbWFnZSBidXR0b24tdGV4dD0kY3RybC5idXR0b25UZXh0IG5nLWRpc2FibGVkPSRjdHJsLm5nRGlzYWJsZWQgcGxhY2Vob2xkZXI9XFxcIiRjdHJsLnBsYWNlaG9sZGVyIHx8ICRjdHJsLmRlc2NyaXB0aW9uXFxcIiBpcy1saXZlLWNhbWVyYS11cGxvYWQ9JGN0cmwuaXNMaXZlQ2FtZXJhVXBsb2FkIGNhbWVyYS1vdmVybGF5PSRjdHJsLmNhbWVyYU92ZXJsYXkgY2FtZXJhLWRpcmVjdGlvbj0kY3RybC5jYW1lcmFEaXJlY3Rpb24gb24tZmlsZS1jYXB0dXJlPSRjdHJsLm9uRmlsZUNhcHR1cmUoZmlsZSk+PC90dy11cGxvYWQtY2FwdHVyZT4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcImRyb3BwYWJsZS1wcm9jZXNzaW5nLWNhcmQgZHJvcHBhYmxlLWNhcmRcXFwiIGFyaWEtaGlkZGVuPXt7ISRjdHJsLmlzUHJvY2Vzc2luZ319PiA8dHctdXBsb2FkLXByb2Nlc3NpbmcgbmFtZT0kY3RybC5uYW1lIGZpbGU9JGN0cmwuZmlsZSBvbi1zdGFydD0kY3RybC5vblByb2Nlc3NTdGFydChmaWxlKSBvbi1zdWNjZXNzPVxcXCIkY3RybC5vblByb2Nlc3NTdWNjZXNzKGZpbGUsIGRhdGFVcmwsIGlkLCByZXNwb25zZSlcXFwiIG9uLWZhaWx1cmU9JGN0cmwub25Qcm9jZXNzRmFpbHVyZShlcnJvcikgbWF4LXNpemU9JGN0cmwubWF4U2l6ZSBhY2NlcHQ9JGN0cmwuYWNjZXB0IGh0dHAtb3B0aW9ucz0kY3RybC5odHRwT3B0aW9ucyBwcm9jZXNzaW5nLW1lc3NhZ2U9JGN0cmwucHJvY2Vzc2luZ1RleHQgc3VjY2Vzcy1tZXNzYWdlPSRjdHJsLnN1Y2Nlc3NUZXh0IGVycm9yLW1lc3NhZ2U9JGN0cmwuZmFpbHVyZVRleHQgdmFsaWRhdGlvbi1tZXNzYWdlcz0kY3RybC52YWxpZGF0aW9uTWVzc2FnZXMgdG9vLWxhcmdlLW1lc3NhZ2U9JGN0cmwudG9vTGFyZ2VNZXNzYWdlIGNhbmNlbC10ZXh0PSRjdHJsLmNhbmNlbFRleHQgb24tY2FuY2VsPSRjdHJsLnJlc2V0KCk+PC90dy11cGxvYWQtcHJvY2Vzc2luZz4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcImRyb3BwYWJsZS1jb21wbGV0ZS1jYXJkIGRyb3BwYWJsZS1jYXJkXFxcIiBhcmlhLWhpZGRlbj17eyEkY3RybC5pc0RvbmV9fT4gPHR3LXVwbG9hZC1zdWNjZXNzIGxhYmVsPSRjdHJsLmxhYmVsIGlzLWltYWdlPSRjdHJsLmlzSW1hZ2UgZmlsZT0kY3RybC5maWxlIGRhdGE9JGN0cmwuZGF0YVVybCBzdWNjZXNzLW1lc3NhZ2U9JGN0cmwuc3VjY2Vzc1RleHQgY2FuY2VsLXRleHQ9JGN0cmwuY2FuY2VsVGV4dCBvbi1jYW5jZWw9JGN0cmwucmVzZXQoKT48L3R3LXVwbG9hZC1zdWNjZXNzPiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwiZHJvcHBhYmxlLWRyb3BwaW5nLWNhcmQgZHJvcHBhYmxlLWNhcmRcXFwiPiA8dHctdXBsb2FkLWRyb3BwaW5nIGRyb3BwaW5nLXRleHQ9JGN0cmwuZHJvcHBpbmdUZXh0PjwvdHctdXBsb2FkLWRyb3BwaW5nPiA8L2Rpdj4gPC9kaXY+IFwiOyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi91cGxvYWQubGVzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdXBsb2FkLmxlc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi91cGxvYWQubGVzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiZGl2LnRyYW5zcGFyZW50LWFyZWF7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsOTglLC45KX0uaWNvbi1jaXJjbGUtc2hhZG93e2JhY2tncm91bmQ6I2ZmZjtib3gtc2hhZG93OjAgNHB4IDE2cHggcmdiYSgwLDAsMCwuMDgpO3BhZGRpbmc6MTJweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Ym9yZGVyLXJhZGl1czo5OXB4fS5pY29uLWNpcmNsZS1zaGFkb3cgc3Zne3RvcDo0cHg7cG9zaXRpb246cmVsYXRpdmV9LmlubGluZS1zdmd7dG9wOi4zNWVtO3Bvc2l0aW9uOnJlbGF0aXZlfUBtZWRpYSAobWluLXdpZHRoOjU3NnB4KXtwLmZpcnN0LWVycm9ye21pbi1oZWlnaHQ6NzJweH19QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjU3NXB4KXsuZW1wdHktcHJvY2Vzc2luZy1saXN0e2hlaWdodDoxMzBweH0ucHJvY2Vzc2luZy1saXN0e21pbi1oZWlnaHQ6MTMwcHh9fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi13aWR0aDo1NzVweCl7Lm11bHRpLXVwbG9hZHtoZWlnaHQ6Mzc1cHh9Lm11bHRpLXVwbG9hZCAuZW1wdHktc2NyZWVue3BhZGRpbmctdG9wOjQwcHh9LmVtcHR5LXByb2Nlc3NpbmctbGlzdCwucHJvY2Vzc2luZy1saXN0e2hlaWdodDoyOTBweH19LnByb2Nlc3NpbmctbGlzdHtvdmVyZmxvdzphdXRvfS5wcm9jZXNzaW5nLWxpc3QsLnByb2Nlc3NpbmctbGlzdCAucHJvY2Vzc2luZy1pdGVtIC5tZWRpYS1ib2R5LC5wcm9jZXNzaW5nLWxpc3QgLnByb2Nlc3NpbmctaXRlbSAubWVkaWEtcmlnaHR7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2UyZTZlOH0ucHJvY2Vzc2luZy1saXN0IC5sYXN0LWl0ZW0gLnByb2Nlc3NpbmctaXRlbSAubWVkaWEtYm9keSwucHJvY2Vzc2luZy1saXN0IC5sYXN0LWl0ZW0gLnByb2Nlc3NpbmctaXRlbSAubWVkaWEtcmlnaHR7Ym9yZGVyLWJvdHRvbTowfS5wcm9jZXNzaW5nLWxpc3QgLnByb2Nlc3NpbmctaXRlbXtwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDoxMDAlfS5wcm9jZXNzaW5nLWxpc3QgLnByb2Nlc3NpbmctaXRlbSAudmVydGljYWwtY2VudGVye2FsaWduLXNlbGY6Y2VudGVyfS5lbXB0eS1wcm9jZXNzaW5nLWxpc3R7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpjZW50ZXJ9LmVtcHR5LXByb2Nlc3NpbmctbGlzdCAuY2lyY2xle2JhY2tncm91bmQtY29sb3I6I2Q4ZjFmYX0uZW1wdHktcHJvY2Vzc2luZy1saXN0IC5lbXB0eS1zY3JlZW57YWxpZ24tc2VsZjpjZW50ZXJ9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBDYXB0dXJlQ2FyZCBmcm9tICcuL2NhcHR1cmUtY2FyZC5jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuZm9ybXMudXBsb2FkLmNhcHR1cmUnLCBbXSlcbiAgLmNvbXBvbmVudCgndHdVcGxvYWRDYXB0dXJlJywgQ2FwdHVyZUNhcmQpXG4gIC5uYW1lO1xuIiwiaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vY2FwdHVyZS1jYXJkLmh0bWwnO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jYXB0dXJlLWNhcmQuY29udHJvbGxlcic7XG5cbmNvbnN0IENhcHR1cmVDYXJkID0ge1xuICB0ZW1wbGF0ZSxcbiAgY29udHJvbGxlcixcbiAgYmluZGluZ3M6IHtcbiAgICBsYWJlbDogJzwnLFxuICAgIGljb246ICc8JyxcbiAgICBhY2NlcHQ6ICc8JyxcbiAgICBidXR0b25UZXh0OiAnPCcsXG4gICAgbmdEaXNhYmxlZDogJzwnLFxuICAgIHBsYWNlaG9sZGVyOiAnPCcsXG4gICAgaW5wdXRGaWxlOiAnPCcsXG4gICAgaGVscEltYWdlOiAnPCcsXG5cbiAgICBpc0xpdmVDYW1lcmFVcGxvYWQ6ICc8JyxcbiAgICBjYW1lcmFPdmVybGF5OiAnPCcsXG4gICAgY2FtZXJhRGlyZWN0aW9uOiAnPCcsXG5cbiAgICBvbkZpbGVDYXB0dXJlOiAnJidcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FwdHVyZUNhcmQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1kcm9wcGFibGUtY2FyZC1jb250ZW50PiA8ZGl2IGNsYXNzPW0tYi0yPiA8aW1nIG5nLXNob3c9JGN0cmwuaGVscEltYWdlIG5nLXNyYz17eyRjdHJsLmhlbHBJbWFnZX19IGFsdD17eyRjdHJsLmxhYmVsfX0gY2xhc3M9XFxcInRodW1ibmFpbCB0ZXh0LXhzLWNlbnRlclxcXCIvPiA8c3BhbiBuZy1zaG93PSEkY3RybC5oZWxwSW1hZ2UgY2xhc3M9XFxcImljb24gaWNvbi17eyRjdHJsLnZpZXdJY29ufX0gaWNvbi14eGxcXFwiPjwvc3Bhbj4gPC9kaXY+IDxoNCBjbGFzcz1tLWItMSBuZy1pZj1cXFwiJGN0cmwubGFiZWwgfHwgJGN0cmwuZGVzY3JpcHRpb25cXFwiPiB7eyRjdHJsLmxhYmVsIHx8ICRjdHJsLmRlc2NyaXB0aW9ufX0gPC9oND4gPHAgY2xhc3M9bS1iLTIgbmctaWY9XFxcIiRjdHJsLnBsYWNlaG9sZGVyIHx8ICRjdHJsLmluc3RydWN0aW9uc1xcXCI+IHt7JGN0cmwucGxhY2Vob2xkZXIgfHwgJGN0cmwuaW5zdHJ1Y3Rpb25zfX0gPC9wPiA8dHctdXBsb2FkLWJ1dHRvbiBuZy1pZj0hJGN0cmwuaXNMaXZlQ2FtZXJhVXBsb2FkIG5hbWU9JGN0cmwubmFtZSBsYWJlbD0kY3RybC5idXR0b25UZXh0IGFjY2VwdD0kY3RybC5hY2NlcHQgbW9kZWw9JGN0cmwuaW5wdXRGaWxlIGRpc2FibGVkPSRjdHJsLm5nRGlzYWJsZWQgb24tY2FwdHVyZT0kY3RybC5vbkJ1dHRvbkNhcHR1cmUoZmlsZXMpPiA8L3R3LXVwbG9hZC1idXR0b24+IDx0dy1jYW1lcmEtYnV0dG9uIG5nLWlmPSRjdHJsLmlzTGl2ZUNhbWVyYVVwbG9hZCBsYWJlbD0kY3RybC5idXR0b25UZXh0IGRpc2FibGVkPSRjdHJsLm5nRGlzYWJsZWQgb24tY2xpY2s9JGN0cmwub25DYW1lcmFCdXR0b25DbGljaygpPiA8L3R3LWNhbWVyYS1idXR0b24+IDx0dy1jYW1lcmEtY2FwdHVyZSBuZy1pZj1cXFwiJGN0cmwuaXNMaXZlQ2FtZXJhVXBsb2FkICYmICRjdHJsLnNob3dMaXZlQ2FwdHVyZVNjcmVlblxcXCIgb3ZlcmxheT17eyRjdHJsLmNhbWVyYU92ZXJsYXl9fSBkaXJlY3Rpb249e3skY3RybC5jYW1lcmFEaXJlY3Rpb259fSBvbi1jYW5jZWw9JGN0cmwub25DYW1lcmFDYW5jZWwoKSBvbi1jYXB0dXJlPSRjdHJsLm9uQ2FtZXJhQ2FwdHVyZShmaWxlKT4gPC90dy1jYW1lcmEtY2FwdHVyZT4gPC9kaXY+IFwiOyIsImNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigkZWxlbWVudCkge1xuICAgIHRoaXMuJGVsZW1lbnQgPSAkZWxlbWVudDtcbiAgICB0aGlzLnNob3dMaXZlQ2FwdHVyZVNjcmVlbiA9IGZhbHNlO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuaWNvbikge1xuICAgICAgdGhpcy52aWV3SWNvbiA9IGNoYW5nZXMuaWNvbi5jdXJyZW50VmFsdWUgPyBjaGFuZ2VzLmljb24uY3VycmVudFZhbHVlIDogJ3VwbG9hZCc7XG4gICAgfVxuICB9XG5cbiAgb25DYW1lcmFDYW5jZWwoKSB7XG4gICAgdGhpcy5zaG93TGl2ZUNhcHR1cmVTY3JlZW4gPSBmYWxzZTtcbiAgfVxuXG4gIG9uQ2FtZXJhQ2FwdHVyZShmaWxlKSB7XG4gICAgdGhpcy5zaG93TGl2ZUNhcHR1cmVTY3JlZW4gPSBmYWxzZTtcbiAgICB0aGlzLm9uRmlsZUNhcHR1cmUoeyBmaWxlIH0pO1xuICB9XG5cbiAgb25DYW1lcmFCdXR0b25DbGljaygpIHtcbiAgICB0aGlzLnNob3dMaXZlQ2FwdHVyZVNjcmVlbiA9IHRydWU7XG4gIH1cblxuICBvbkJ1dHRvbkNhcHR1cmUoZmlsZXMpIHtcbiAgICBjb25zdCBmaWxlID0gZmlsZXNbMF07XG4gICAgdGhpcy5vbkZpbGVDYXB0dXJlKHsgZmlsZSB9KTtcbiAgfVxufVxuXG5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRlbGVtZW50J107XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBEcm9wcGluZ0NhcmQgZnJvbSAnLi9kcm9wcGluZy1jYXJkLmNvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3Jtcy51cGxvYWQuZHJvcHBpbmcnLCBbXSlcbiAgLmNvbXBvbmVudCgndHdVcGxvYWREcm9wcGluZycsIERyb3BwaW5nQ2FyZClcbiAgLm5hbWU7XG4iLCJpbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9kcm9wcGluZy1jYXJkLmh0bWwnO1xuXG5jb25zdCBEcm9wcGluZ0NhcmQgPSB7XG4gIHRlbXBsYXRlLFxuICBiaW5kaW5nczoge1xuICAgIGRyb3BwaW5nVGV4dDogJzwnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IERyb3BwaW5nQ2FyZDtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPWRyb3BwYWJsZS1jYXJkLWNvbnRlbnQ+IDxkaXYgY2xhc3M9XFxcImNpcmNsZSBjaXJjbGUtc20gbS1iLTNcXFwiPiA8c3BhbiBjbGFzcz1cXFwiaWNvbiBpY29uLWFkZFxcXCI+PC9zcGFuPiA8L2Rpdj4gPGg0PiB7eyAkY3RybC5kcm9wcGluZ1RleHQgfHwgJ0Ryb3AgZmlsZSB0byBzdGFydCB1cGxvYWQnIH19IDwvaDQ+IDxwIGNsYXNzPVxcXCJtLXQtMiBtLWItMFxcXCI+PC9wPiA8L2Rpdj4gXCI7IiwiaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9wcm9jZXNzaW5nLWNhcmQuY29udHJvbGxlcic7XG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9wcm9jZXNzaW5nLWNhcmQuaHRtbCc7XG5pbXBvcnQgYmluZGluZ3MgZnJvbSAnLi9wcm9jZXNzaW5nLmJpbmRpbmdzJztcblxuY29uc3QgUHJvY2Vzc2luZ0NhcmQgPSB7XG4gIGNvbnRyb2xsZXIsXG4gIHRlbXBsYXRlLFxuICBiaW5kaW5nc1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUHJvY2Vzc2luZ0NhcmQ7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1kcm9wcGFibGUtY2FyZC1jb250ZW50PiA8ZGl2IGNsYXNzPW0tYi0yPiA8dHctcHJvY2VzcyBzaXplPXNtIHN0YXRlPSRjdHJsLnByb2Nlc3NpbmdTdGF0ZT48L3R3LXByb2Nlc3M+IDwvZGl2PiA8aDQgY2xhc3M9bS1iLTI+IDxzcGFuIG5nLWlmPVxcXCIkY3RybC5pc1Byb2Nlc3NpbmcgJiYgJGN0cmwucHJvY2Vzc2luZ01lc3NhZ2VcXFwiIGNsYXNzPXVwbG9hZC1wcm9jZXNzaW5nLW1lc3NhZ2U+IHt7JGN0cmwucHJvY2Vzc2luZ01lc3NhZ2V9fSA8L3NwYW4+IDxzcGFuIG5nLWlmPVxcXCIkY3RybC5pc0Vycm9yICYmICRjdHJsLmVycm9yTWVzc2FnZVxcXCIgY2xhc3M9dXBsb2FkLWZhaWx1cmUtbWVzc2FnZT4ge3skY3RybC5lcnJvck1lc3NhZ2V9fSA8L3NwYW4+IDwvaDQ+IDx1bCBuZy1pZj1cXFwiJGN0cmwuaXNFcnJvciAmJiAkY3RybC52YWxpZGF0aW9uTWVzc2FnZXNcXFwiIGNsYXNzPVxcXCJ0ZXh0LXhzLWxlZnQgbS1iLTJcXFwiPiA8bGkgbmctaWY9JGN0cmwudmFsaWRhdGlvbk1lc3NhZ2VzWzBdPnt7ICRjdHJsLnZhbGlkYXRpb25NZXNzYWdlc1swXSB9fTwvbGk+IDxsaSBuZy1pZj0kY3RybC52YWxpZGF0aW9uTWVzc2FnZXNbMV0+e3sgJGN0cmwudmFsaWRhdGlvbk1lc3NhZ2VzWzFdIH19PC9saT4gPGxpIG5nLWlmPSRjdHJsLnZhbGlkYXRpb25NZXNzYWdlc1syXT57eyAkY3RybC52YWxpZGF0aW9uTWVzc2FnZXNbMl0gfX08L2xpPiA8L3VsPiA8YSBocmVmPVxcXCJcXFwiIG5nLWlmPSRjdHJsLmlzRXJyb3IgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeVxcXCIgbmctY2xpY2s9JGN0cmwub25SZW1vdmUoKSByb2xlPWJ1dHRvbj4gPHNwYW4gbmctaWY9JGN0cmwuY2FuY2VsVGV4dCBuZy1iaW5kPSRjdHJsLmNhbmNlbFRleHQ+PC9zcGFuPiA8c3BhbiBuZy1pZj0hJGN0cmwuY2FuY2VsVGV4dCBjbGFzcz1cXFwiaWNvbiBpY29uLXVwbG9hZCBtLXItMFxcXCI+PC9zcGFuPiA8L2E+IDwvZGl2PiBcIjsiLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL3Byb2Nlc3NpbmctY2FyZC5jb250cm9sbGVyJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL3Byb2Nlc3NpbmctbWluaS5odG1sJztcbmltcG9ydCBiaW5kaW5ncyBmcm9tICcuL3Byb2Nlc3NpbmcuYmluZGluZ3MnO1xuXG5jb25zdCBQcm9jZXNzaW5nQ2FyZCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzXG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzaW5nQ2FyZDtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPXByb2Nlc3NpbmctaXRlbT4gPGRpdiBjbGFzcz1tZWRpYT4gPGRpdiBjbGFzcz1cXFwibWVkaWEtbGVmdCB2ZXJ0aWNhbC1jZW50ZXIgcC1yLTIgcC15LTFcXFwiPiA8dHctcHJvY2VzcyBzaXplPXhzIHN0YXRlPSRjdHJsLnByb2Nlc3NpbmdTdGF0ZT48L3R3LXByb2Nlc3M+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJtZWRpYS1ib2R5IHRleHQteHMtbGVmdCBwLXktMVxcXCIgc3R5bGU9b3ZlcmZsb3c6YXV0bz4gPGRpdj4gPHNtYWxsIGNsYXNzPVxcXCJtLWItMCB0ZXh0LWVsbGlwc2lzIGZpbGUtbmFtZVxcXCI+PHN0cm9uZz57eyAkY3RybC5maWxlLm5hbWUgfX08L3N0cm9uZz48L3NtYWxsPiA8c21hbGwgY2xhc3M9XFxcIm0tYi0wIHRleHQtZWxsaXBzaXMgdGlueVxcXCI+IDxzcGFuIG5nLWlmPSRjdHJsLmlzUHJvY2Vzc2luZz57eyAkY3RybC5wcm9jZXNzaW5nTWVzc2FnZSB9fTwvc3Bhbj4gPHNwYW4gbmctaWY9JGN0cmwuaXNFcnJvcj57eyAkY3RybC5lcnJvck1lc3NhZ2UgfX08L3NwYW4+IDxzcGFuIG5nLWlmPSRjdHJsLmlzU3VjY2Vzcz57eyAkY3RybC5zdWNjZXNzTWVzc2FnZSB9fTwvc3Bhbj4gPC9zbWFsbD4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJtZWRpYS1yaWdodCBwLWwtMiBwLXktMlxcXCI+IDxhIGhyZWY9XFxcIlxcXCIgbmctaWY9ISRjdHJsLmlzUHJvY2Vzc2luZyBjbGFzcz1jbG9zZSBuZy1jbGljaz0kY3RybC5vblJlbW92ZSgpIHJvbGU9YnV0dG9uPiZ0aW1lczs8L2E+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IFwiOyIsIlxuY2xhc3MgQXN5bmNGaWxlUmVhZGVyIHtcbiAgY29uc3RydWN0b3IoJHEpIHtcbiAgICB0aGlzLiRxID0gJHE7XG4gIH1cblxuICByZWFkKGZpbGUpIHtcbiAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIGNvbnN0IGRlZmVycmVkID0gdGhpcy4kcS5kZWZlcigpO1xuXG4gICAgLy8gV2hlbiB0aGUgcmVhZGVyIGZpbmlzaGVzIGxvYWRpbmcgcmVzb2x2ZSB0aGUgcHJvbWlzZVxuICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgfTtcblxuICAgIHJlYWRlci5vbmVycm9yID0gKGV2ZW50KSA9PiB7XG4gICAgICBkZWZlcnJlZC5yZWplY3QoZXZlbnQpO1xuICAgIH07XG5cbiAgICAvLyBMb2FkIHRoZSBmaWxlXG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG5cbiAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgfVxufVxuXG5Bc3luY0ZpbGVSZWFkZXIuJGluamVjdCA9IFsnJHEnXTtcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLnVwbG9hZC5maWxlLXJlYWRlcicsIFtdKVxuICAuc2VydmljZSgnQXN5bmNGaWxlUmVhZGVyJywgQXN5bmNGaWxlUmVhZGVyKVxuICAubmFtZTtcbiIsIlxuY2xhc3MgQXN5bmNGaWxlU2F2ZXIge1xuICBjb25zdHJ1Y3RvcigkaHR0cCkge1xuICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcbiAgfVxuXG4gIHNhdmUoZmllbGROYW1lLCBmaWxlLCBodHRwT3B0aW9ucykge1xuICAgIGlmICghaHR0cE9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc3VwcGx5IGh0dHBPcHRpb25zJyk7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgY29uc3Qga2V5ID0gaHR0cE9wdGlvbnMucGFyYW0gfHwgZmllbGROYW1lO1xuICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIGZpbGUpO1xuXG4gICAgY29uc3QgJGh0dHBPcHRpb25zID0gcHJlcGFyZUh0dHBPcHRpb25zKGh0dHBPcHRpb25zKTtcblxuICAgIGRlbGV0ZSAkaHR0cE9wdGlvbnMubWV0aG9kO1xuXG4gICAgLy8gRm9yIHRlc3RpbmdcbiAgICByZXR1cm4gdGhpcy4kaHR0cC5wb3N0KCRodHRwT3B0aW9ucy51cmwsIGZvcm1EYXRhLCAkaHR0cE9wdGlvbnMpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gcHJlcGFyZUh0dHBPcHRpb25zKCRpbnB1dE9wdGlvbnMpIHtcbiAgY29uc3QgJGh0dHBPcHRpb25zID0gYW5ndWxhci5jb3B5KCRpbnB1dE9wdGlvbnMpO1xuXG4gIGlmICghJGh0dHBPcHRpb25zLnVybCkge1xuICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3Qgc3VwcGx5IGEgVVJMIHRvIHBvc3QgaW1hZ2UgZGF0YSBhc3luY2hyb25vdXNseScpO1xuICB9XG4gIGlmICghJGh0dHBPcHRpb25zLmhlYWRlcnMpIHtcbiAgICAkaHR0cE9wdGlvbnMuaGVhZGVycyA9IHt9O1xuICB9XG5cbiAgLy8gQ29udGVudC1UeXBlID0gdW5kZWZpbmVkIGFsbG93cyB0aGUgYnJvd3NlciB0byBjaG9vc2UgdGhlIHJpZ2h0IHR5cGVcbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNDE2MDc2NTYvcHVycG9zZS1vZi1jb250ZW50LXR5cGUtdW5kZWZpbmVkLWluLWFuZ3VsYXJqcy1maWxldXBsb2FkXG4gICRodHRwT3B0aW9ucy5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHVuZGVmaW5lZDtcbiAgJGh0dHBPcHRpb25zLnRyYW5zZm9ybVJlcXVlc3QgPSBhbmd1bGFyLmlkZW50aXR5O1xuXG4gIHJldHVybiAkaHR0cE9wdGlvbnM7XG59XG5cbkFzeW5jRmlsZVNhdmVyLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuc3R5bGVndWlkZS5mb3Jtcy51cGxvYWQuZmlsZS1zYXZlcicsIFtdKVxuICAuc2VydmljZSgnQXN5bmNGaWxlU2F2ZXInLCBBc3luY0ZpbGVTYXZlcilcbiAgLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuY2xhc3MgRmlsZVZhbGlkYXRpb25TZXJ2aWNlIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIGlzSW1hZ2UoZmlsZSkge1xuICAgIHJldHVybiBmaWxlLnR5cGUgJiYgZmlsZS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPiAtMTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpc1NtYWxsZXJUaGFuTWF4U2l6ZShmaWxlLCBtYXhTaXplKSB7XG4gICAgcmV0dXJuICFhbmd1bGFyLmlzTnVtYmVyKG1heFNpemUpIHx8IGZpbGUuc2l6ZSA8PSBtYXhTaXplO1xuICB9XG5cbiAgLypcbiAgLy8gVE9ETyB2YWxpZGF0ZSBmaWxlIHR5cGVcbiAgaXNUeXBlVmFsaWQoZmlsZSwgYWNjZXB0KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gICAgLy8gdGhpcy5pc1dyb25nVHlwZSA9IHRydWU7XG4gIH1cbiAgKi9cbn1cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLnVwbG9hZC52YWxpZGF0aW9uLXNlcnZpY2UnLCBbXSlcbiAgLnNlcnZpY2UoJ0ZpbGVWYWxpZGF0aW9uU2VydmljZScsIEZpbGVWYWxpZGF0aW9uU2VydmljZSlcbiAgLm5hbWU7XG4iLCJjbGFzcyBBc3luY1Rhc2tzQ29uZmlnIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iYXNlVXJsID0gJyc7XG4gICAgdGhpcy5oZWFkZXJzID0ge307XG4gIH1cblxuICBzZXRCYXNlVXJsKGJhc2VVcmwpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBiYXNlVXJsO1xuICB9XG5cbiAgc2V0SGVhZGVyKGhlYWRlciwgdmFsdWUpIHtcbiAgICB0aGlzLmhlYWRlcnNbaGVhZGVyXSA9IHZhbHVlO1xuICB9XG5cbiAgZXh0ZW5kSHR0cE9wdGlvbnMoaW5wdXRPcHRpb25zKSB7XG4gICAgY29uc3QgaHR0cE9wdGlvbnMgPSBhbmd1bGFyLmNvcHkoaW5wdXRPcHRpb25zKTtcbiAgICBodHRwT3B0aW9ucy5oZWFkZXJzID0gaHR0cE9wdGlvbnMuaGVhZGVyc1xuICAgICAgPyB7IC4uLmh0dHBPcHRpb25zLmhlYWRlcnMsIC4uLnRoaXMuaGVhZGVycyB9XG4gICAgICA6IHRoaXMuaGVhZGVycztcbiAgICBpZiAoaHR0cE9wdGlvbnMudXJsKSB7XG4gICAgICBodHRwT3B0aW9ucy51cmwgPSBgJHt0aGlzLmJhc2VVcmx9JHtodHRwT3B0aW9ucy51cmx9YDtcbiAgICB9XG4gICAgcmV0dXJuIGh0dHBPcHRpb25zO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFzeW5jVGFza3NDb25maWc7XG4iLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL3Byb2Nlc3MuY29udHJvbGxlci5qcyc7XG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9wcm9jZXNzLmh0bWwnO1xuXG5jb25zdCBQcm9jZXNzID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgYmluZGluZ3M6IHtcbiAgICBzdGF0ZTogJzwnLCAvLyBudWxsIC0gcHJvY2Vzc2luZywgLTEgLSBmYWlsZWQsIDAgLSBoaWRkZW4sIDEgLSBzdWNjZXNzXG4gICAgc2l6ZTogJ0AnLFxuICAgIG9uU3RvcDogJyYnLFxuICAgIHByb21pc2U6ICc8J1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzO1xuIiwiY2xhc3MgUHJvY2Vzc0NvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3Rvcigkc2NvcGUsICRpbnRlcnZhbCwgJHRpbWVvdXQpIHtcbiAgICB0aGlzLiRpbnRlcnZhbCA9ICRpbnRlcnZhbDtcbiAgICB0aGlzLiR0aW1lb3V0ID0gJHRpbWVvdXQ7XG5cbiAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgICB0aGlzLnByb2Nlc3NpbmcgPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMub25TdGF0ZUNoYW5nZSgpO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuc3RhdGUpIHtcbiAgICAgIHRoaXMub25TdGF0ZUNoYW5nZSgpO1xuICAgIH1cblxuICAgIGlmIChjaGFuZ2VzLnN0YXRlKSB7XG4gICAgICB0aGlzLm9uU2l6ZUNoYW5nZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uU3RhdGVDaGFuZ2UoKSB7XG4gICAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gY2FuY2VsIHRoZSBpbnRlcnZhbCB3aGVuIG5vdCBuZWVkZWQuXG4gICAgaWYgKGlzU3RvcHBlZCh0aGlzLnByb2Nlc3NpbmcpKSB7XG4gICAgICB0aGlzLnByb2Nlc3NpbmcgPSBudWxsO1xuICAgICAgdGhpcy5zdGFydFByb2Nlc3MoKTtcbiAgICB9XG4gIH1cblxuICBvblNpemVDaGFuZ2UoKSB7XG4gICAgLy8gS2lsbCB0aGUgaW50ZXJ2YWwgYW5kIHJlc3RhcnQgb24gc2l6ZSBjaGFuZ2UgYXMgYW5pbWF0aW9uIHdpbGwgcmVzdGFydFxuICAgIHRoaXMuc3RvcFByb2Nlc3MoKTtcbiAgICB0aGlzLnN0YXJ0UHJvY2VzcygpO1xuXG4gICAgaWYgKCF0aGlzLnNpemUpIHtcbiAgICAgIHRoaXMuc2l6ZSA9ICdzbSc7XG4gICAgfVxuXG4gICAgLy8gNDYlIGlzIG9rIGZvciBtb3N0IGNhc2VzLCBidXQgd2UgY2FuIG1ha2UgaXQgcGVyZmVjdC5cbiAgICBzd2l0Y2ggKHRoaXMuc2l6ZSkge1xuICAgICAgY2FzZSAneHMnOlxuICAgICAgICB0aGlzLnJhZGl1cyA9ICcxMSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc20nOlxuICAgICAgICB0aGlzLnJhZGl1cyA9ICcyMic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneGwnOlxuICAgICAgICB0aGlzLnJhZGl1cyA9ICc2MSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5yYWRpdXMgPSAnNDYlJztcbiAgICB9XG4gIH1cblxuICBzdGFydFByb2Nlc3MoKSB7XG4gICAgLy8gRG9uJ3Qgc3RhcnQgYSBuZXcgaW50ZXJ2YWwgaWYgb25lIGlzIHJ1bm5pbmdcbiAgICBpZiAodGhpcy5pbnRlcnZhbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFdlIHdhbnQgdG8gY2hlY2sgZm9yIHN0YXRlIGNoYW5nZSBvbmNlIHBlciBhbmltYXRpb24gY3ljbGUuXG4gICAgdGhpcy5pbnRlcnZhbCA9IHRoaXMuJGludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMucHJvY2Vzc2luZyA9IHRoaXMuc3RhdGU7XG4gICAgICBpZiAoaXNTdG9wcGVkKHRoaXMuc3RhdGUpKSB7XG4gICAgICAgIHRoaXMuc3RvcFByb2Nlc3MoKTtcbiAgICAgICAgdGhpcy5ub3RpZnlDb25zdW1lcnMoKTtcbiAgICAgIH1cbiAgICB9LCAxNTAwKTtcbiAgfVxuXG4gIHN0b3BQcm9jZXNzKCkge1xuICAgIGlmICh0aGlzLmludGVydmFsKSB7XG4gICAgICB0aGlzLiRpbnRlcnZhbC5jYW5jZWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBub3RpZnlDb25zdW1lcnMoKSB7XG4gICAgaWYgKHRoaXMub25TdG9wKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xuICAgICAgICB0aGlzLm9uU3RvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gMTgwMCBtYXRjaGVzIDEuNXMgZGVsYXkgYW5kIDAuM3MgYW5pbWF0aW9uXG4gICAgICAgIHRoaXMuJHRpbWVvdXQodGhpcy5vblN0b3AsIDE4MDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc1N0b3BwZWQoc3RhdGUpIHtcbiAgcmV0dXJuIHN0YXRlID09PSAtMSB8fCBzdGF0ZSA9PT0gMCB8fCBzdGF0ZSA9PT0gMTtcbn1cblxuUHJvY2Vzc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRpbnRlcnZhbCcsICckdGltZW91dCddO1xuXG5leHBvcnQgZGVmYXVsdCBQcm9jZXNzQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8c3BhbiBjbGFzcz1wcm9jZXNzIG5nLWNsYXNzPVxcXCJ7XFxuICAgICdwcm9jZXNzLXN1Y2Nlc3MnOiAkY3RybC5wcm9jZXNzaW5nID09PSAxLFxcbiAgICAncHJvY2Vzcy1kYW5nZXInOiAkY3RybC5wcm9jZXNzaW5nID09PSAtMSxcXG4gICAgJ3Byb2Nlc3Mtc3RvcHBlZCc6ICRjdHJsLnByb2Nlc3NpbmcgPT09IDAsXFxuICAgICdwcm9jZXNzLXhzJzogJGN0cmwuc2l6ZSA9PT0gJ3hzJyxcXG4gICAgJ3Byb2Nlc3Mtc20nOiAkY3RybC5zaXplID09PSAnc20nLFxcbiAgICAncHJvY2Vzcy1tZCc6ICRjdHJsLnNpemUgPT09ICdtZCcsXFxuICAgICdwcm9jZXNzLWxnJzogJGN0cmwuc2l6ZSA9PT0gJ2xnJyxcXG4gICAgJ3Byb2Nlc3MteGwnOiAkY3RybC5zaXplID09PSAneGwnXFxuICB9XFxcIj4gPHNwYW4gY2xhc3M9cHJvY2Vzcy1pY29uLWNvbnRhaW5lcj4gPHNwYW4gY2xhc3M9cHJvY2Vzcy1pY29uLWhvcml6b250YWw+PC9zcGFuPiA8c3BhbiBjbGFzcz1wcm9jZXNzLWljb24tdmVydGljYWw+PC9zcGFuPiA8L3NwYW4+IDxzdmcgdmVyc2lvbj0xLjEgeG1sbnM9aHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcgeG1sOnNwYWNlPXByZXNlcnZlPiA8Y2lyY2xlIGNsYXNzPXByb2Nlc3MtY2lyY2xlIGN4PTUwJSBjeT01MCUgbmctYXR0ci1yPXt7JGN0cmwucmFkaXVzfX0gZmlsbC1vcGFjaXR5PTAuMCAvPiA8L3N2Zz4gPC9zcGFuPiBcIjsiLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBTdWNjZXNzQ2FyZCBmcm9tICcuL3N1Y2Nlc3MtY2FyZC5jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuZm9ybXMudXBsb2FkLnN1Y2Nlc3MnLCBbXSlcbiAgLmNvbXBvbmVudCgndHdVcGxvYWRTdWNjZXNzJywgU3VjY2Vzc0NhcmQpXG4gIC5uYW1lO1xuIiwiaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vc3VjY2Vzcy1jYXJkLmh0bWwnO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9zdWNjZXNzLWNhcmQuY29udHJvbGxlcic7XG5cbmNvbnN0IFN1Y2Nlc3NDYXJkID0ge1xuICB0ZW1wbGF0ZSxcbiAgY29udHJvbGxlcixcbiAgYmluZGluZ3M6IHtcbiAgICBsYWJlbDogJzwnLFxuICAgIGZpbGU6ICc8JyxcbiAgICBkYXRhOiAnPCcsXG4gICAgaXNJbWFnZTogJzwnLFxuICAgIHN1Y2Nlc3NNZXNzYWdlOiAnPCcsXG4gICAgY2FuY2VsVGV4dDogJzwnLFxuICAgIG9uQ2FuY2VsOiAnJicsXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFN1Y2Nlc3NDYXJkO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9ZHJvcHBhYmxlLWNhcmQtY29udGVudD4gPGg0IG5nLWlmPVxcXCIkY3RybC5zdWNjZXNzTWVzc2FnZSB8fCAkY3RybC5sYWJlbFxcXCIgY2xhc3M9XFxcIm0tYi0yIHVwbG9hZC1zdWNjZXNzLW1lc3NhZ2VcXFwiPiB7eyAkY3RybC5zdWNjZXNzTWVzc2FnZSB8fCAkY3RybC5sYWJlbCB9fSA8L2g0PiA8aW1nIG5nLWlmPVxcXCIkY3RybC5pc0ltYWdlICYmICRjdHJsLmRhdGFcXFwiIHNyYz1cXFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFxcbiAgICAgIGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FRQUFBQzFIQXdDQUFBQUMwbEVRVlI0Mm1Oa1lBQUFBQVlBQWpDQjBDOEFBQUFBU1VWT1JLNUNZSUk9XFxcIiBuZy1zcmM9XFxcInt7ICRjdHJsLmRhdGEgfX1cXFwiIGFsdD1PSyBjbGFzcz1cXFwidGh1bWJuYWlsIG0tYi0zXFxcIi8+IDxzcGFuIGNsYXNzPVxcXCJpY29uIGljb24tcGRmIGljb24teHhsXFxcIiBuZy1pZj1cXFwiISRjdHJsLmlzSW1hZ2UgfHwgISRjdHJsLmRhdGFcXFwiPjwvc3Bhbj4gPHAgY2xhc3M9XFxcIm0tYi0yIHRleHQtZWxsaXBzaXNcXFwiPnt7ICRjdHJsLmZpbGVOYW1lIH19PC9wPiA8cCBjbGFzcz1cXFwibS10LTIgbS1iLTBcXFwiPiA8YSBocmVmPVxcXCJcXFwiIG5nLWNsaWNrPSRjdHJsLm9uQ2FuY2VsKCk+IDxzcGFuIG5nLWlmPSRjdHJsLmNhbmNlbFRleHQgbmctYmluZD0kY3RybC5jYW5jZWxUZXh0Pjwvc3Bhbj4gPHNwYW4gbmctaWY9ISRjdHJsLmNhbmNlbFRleHQgY2xhc3M9XFxcImljb24gaWNvbi11cGxvYWQgbS1yLTBcXFwiPjwvc3Bhbj4gPC9hPiA8L3A+IDwvZGl2PiBcIjsiLCJjbGFzcyBTdWNjZXNzQ2FyZENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcigkZWxlbWVudCwgRmlsZVZhbGlkYXRpb25TZXJ2aWNlKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9ICRlbGVtZW50O1xuICAgIHRoaXMuRmlsZVZhbGlkYXRpb25TZXJ2aWNlID0gRmlsZVZhbGlkYXRpb25TZXJ2aWNlO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuZmlsZSAmJiBjaGFuZ2VzLmZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICB0aGlzLmZpbGVOYW1lID0gY2hhbmdlcy5maWxlLmN1cnJlbnRWYWx1ZS5uYW1lO1xuICAgIH1cbiAgfVxuXG4gIG9uTWFudWFsUmV1cGxvYWQoKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuJGVsZW1lbnRbMF07XG4gICAgY29uc3QgdXBsb2FkSW5wdXQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy50dy1kcm9wcGFibGUtaW5wdXQtcmV1cGxvYWQnKTtcbiAgICBjb25zdCBmaWxlID0gdXBsb2FkSW5wdXQuZmlsZXNbMF07XG5cbiAgICB0aGlzLm9uRmlsZUNhcHR1cmUoZmlsZSk7XG4gIH1cbn1cblxuU3VjY2Vzc0NhcmRDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICckZWxlbWVudCcsXG4gICdGaWxlVmFsaWRhdGlvblNlcnZpY2UnXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBTdWNjZXNzQ2FyZENvbnRyb2xsZXI7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBDYW1lcmFDYXB0dXJlIGZyb20gJy4vY2FtZXJhLWNhcHR1cmUuY29tcG9uZW50JztcblxuaW1wb3J0IENhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyIGZyb20gJy4vY2FtZXJhLWNhcHR1cmUtc2NyZWVuLWhhbmRsZXIuc2VydmljZSc7XG5pbXBvcnQgQ2FtZXJhT3ZlcmxheUhhbmRsZXIgZnJvbSAnLi9jYW1lcmEtb3ZlcmxheS1oYW5kbGVyLnNlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuZm9ybXMudXBsb2FkLmNhbWVyYS1jYXB0dXJlJywgW10pXG4gIC5zZXJ2aWNlKCdDYW1lcmFDYXB0dXJlU2NyZWVuSGFuZGxlcicsIENhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyKVxuICAuc2VydmljZSgnQ2FtZXJhT3ZlcmxheUhhbmRsZXInLCBDYW1lcmFPdmVybGF5SGFuZGxlcilcbiAgLmNvbXBvbmVudCgndHdDYW1lcmFDYXB0dXJlJywgQ2FtZXJhQ2FwdHVyZSlcbiAgLm5hbWU7XG4iLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NhbWVyYS1jYXB0dXJlLmNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vY2FtZXJhLWNhcHR1cmUuaHRtbCc7XG5pbXBvcnQgJy4vY2FtZXJhLWNhcHR1cmUubGVzcyc7XG5cbmNvbnN0IENhbWVyYUNhcHR1cmUgPSB7XG4gIGNvbnRyb2xsZXIsXG4gIHRlbXBsYXRlLFxuICBiaW5kaW5nczoge1xuICAgIG92ZXJsYXk6ICdAJywgLy8gT3B0aW9uYWxcbiAgICBkaXJlY3Rpb246ICdAJywgLy8gZW52aXJvbm1lbnQvdXNlclxuXG4gICAgb25DYW5jZWw6ICcmJyxcbiAgICBvbkNhcHR1cmU6ICcmJyxcblxuICAgIC8qKlxuICAgICAqIE5lZWQgdGhpcyBwYXJhbWV0ZXIgdG8gc2tpcCB1c2VyIGludGVyYWN0aW9uXG4gICAgICogZHVyaW5nIGNvbnRyb2xsZXIgaW5pdGlhbGl6YXRpb24gaW4gdW5pdCB0ZXN0c1xuICAgICAqL1xuICAgIHRlc3RNb2RlOiAnQCcgLy8gdHJ1ZS9mYWxzZVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmFDYXB0dXJlO1xuIiwiaW1wb3J0IHNjcmVlbmZ1bGwgZnJvbSAnc2NyZWVuZnVsbCc7IC8vIE1JVEBodHRwczovL2dpdGh1Yi5jb20vc2luZHJlc29yaHVzL3NjcmVlbmZ1bGwuanNcblxuY2xhc3MgQ2FtZXJhQ2FwdHVyZUNvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICAkZWxlbWVudCxcbiAgICAkc2NvcGUsXG4gICAgJHdpbmRvdyxcbiAgICAkcSxcbiAgICAkYXR0cnMsXG4gICAgJGxvZyxcbiAgICBDYW1lcmFDYXB0dXJlU2NyZWVuSGFuZGxlclxuICApIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgdGhpcy4kYXR0cnMgPSAkYXR0cnM7XG4gICAgdGhpcy4kc2NvcGUgPSAkc2NvcGU7XG4gICAgdGhpcy4kbG9nID0gJGxvZztcbiAgICB0aGlzLiRxID0gJHE7XG4gICAgdGhpcy4kd2luZG93ID0gJHdpbmRvdztcbiAgICB0aGlzLkNhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyID0gQ2FtZXJhQ2FwdHVyZVNjcmVlbkhhbmRsZXI7XG4gIH1cblxuICAkb25Jbml0KCkge1xuICAgIC8vIFZpZGVvIHByZXZpZXcgY29udHJvbFxuICAgIHRoaXMuc2hvd1ZpZGVvUHJldmlldyA9IGZhbHNlO1xuICAgIHRoaXMuc2hvd1ZpZGVvSW5QcmV2aWV3ID0gdHJ1ZTtcbiAgICB0aGlzLnNob3dDYXB0dXJlSW5QcmV2aWV3ID0gZmFsc2U7XG4gICAgdGhpcy5tZWRpYVN0cmVhbSA9IG51bGw7XG5cbiAgICAvLyBMaXZlIGNhbSBmbG93IGJ1dHRvbiBjb250cm9sXG4gICAgdGhpcy5jYXB0dXJlQnV0dG9uRGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgLy8gRGltZW5zaW9uL3Jlc29sdXRpb24gY29udHJvbGxcbiAgICB0aGlzLnNjcmVlbkhlaWdodCA9IDAuMDtcbiAgICB0aGlzLnNjcmVlbldpZHRoID0gMC4wO1xuICAgIHRoaXMudmlkZW9SZXNIZWlnaHQgPSAwLjA7XG4gICAgdGhpcy52aWRlb1Jlc1dpZHRoID0gMC4wO1xuXG4gICAgdGhpcy5vdmVybGF5V2lkdGggPSAwO1xuICAgIHRoaXMub3ZlcmxheUhlaWdodCA9IDA7XG4gICAgdGhpcy5vdmVybGF5WE9mZnNldCA9IDA7XG4gICAgdGhpcy5vdmVybGF5WU9mZnNldCA9IDA7XG4gICAgdGhpcy5kaXNwbGF5Q2FudmFzWE9mZnNldCA9IDA7IC8vIGluIHB4XG4gICAgdGhpcy5kaXNwbGF5Q2FudmFzWU9mZnNldCA9IDA7IC8vIGluIHB4XG4gICAgdGhpcy52aWRlb1hPZmZzZXQgPSAwOyAvLyB2aWRlbyB4IG9mZnNldCBpbiBwZXJjZW50YWdlXG4gICAgdGhpcy52aWRlb0hlaWdodCA9IDEwMDsgLy8gdmlkZW8gaGVpZ2h0IGluIHBlcmNlbnRhZ2VcbiAgICB0aGlzLnZpZGVvV2lkdGggPSAxMDA7IC8vIHZpZGVvIHdpZHRoIGluIHBlcmNlbnRhZ2VcblxuICAgIHRoaXMuaXNWaWRlb0hvcml6b250YWxseUZsaXBwZWQgPSBmYWxzZTtcblxuICAgIGlmICghdGhpcy5oYXNHZXRVc2VyTWVkaWEoKSkge1xuICAgICAgLy8gVE9ETzogaGFveXVhbiBob3cgdG8gaGFuZGxlIGdldCB1c2VyIG1lZGlhIG5vdCBiZWluZyBhdmFpbGFibGU/XG4gICAgICB0aGlzLiRsb2cud2FybignZ2V0VXNlck1lZGlhKCkgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXInKTtcbiAgICB9XG5cbiAgICB0aGlzLm92ZXJsYXlMb2FkZWQgPSBmYWxzZTtcbiAgICB0aGlzLm92ZXJsYXlFbGVtZW50ID0gdGhpcy4kZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdmlkZW8tcHJldmlldyAjb3ZlcmxheScpO1xuICAgIHRoaXMuZGlzcGxheUNhbnZhcyA9IHRoaXMuJGVsZW1lbnRbMF0ucXVlcnlTZWxlY3RvcignI3ZpZGVvLXByZXZpZXcgI2Rpc3BsYXktY2FudmFzJyk7XG4gICAgdGhpcy51cGxvYWRDYW52YXMgPSB0aGlzLiRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN2aWRlby1wcmV2aWV3ICN1cGxvYWQtY2FudmFzJyk7XG4gICAgdGhpcy52aWRlb1ByZXZpZXdFbGVtZW50ID0gdGhpcy4kZWxlbWVudFswXS5xdWVyeVNlbGVjdG9yKCcjdmlkZW8tcHJldmlldycpO1xuICAgIHRoaXMudmlkZW8gPSB0aGlzLiRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJyN2aWRlby1wcmV2aWV3ICN2aWRlbycpO1xuICAgIHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGNyZWF0ZVZpZGVvUGxheUNhbGxiYWNrKHRoaXMpKTtcblxuICAgIHRoaXMuJHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvcmllbnRhdGlvbmNoYW5nZScsIGNyZWF0ZU9yaWVudGF0aW9uQ2hhbmdlQ2FsbGJhY2sodGhpcyksIGZhbHNlKTtcblxuICAgIC8vIFRPRE8gaGFveXVhbiA6IGFkZCBjaGFuZ2UgZXZlbnQgbGlzdGVuZXIgdG8gc2NyZWVuZnVsLFxuICAgIC8vICBleGlzdGluZyBmdWxsIHNjcmVlbiBzaG91bGQgcXVpdCBjYXB0dXJlIGluc3RlYWQgb2Ygc2hvd2luZyBub24gZnVsbCBzY3JlZW4gY2FtZXJhXG4gICAgaWYgKCF0aGlzLnRlc3RNb2RlIHx8IHRoaXMudGVzdE1vZGUudG9Mb3dlckNhc2UoKSAhPT0gJ3RydWUnKSB7XG4gICAgICB0aGlzLnN0YXJ0TGl2ZUNhbUZsb3coKTtcbiAgICB9XG4gIH1cblxuICAvLyBBY3F1aXJlIGFuZCBhdHRhY2ggdmlkZW8gc3RyZWFtIHRvIHZpZGVvIHRhZy5cbiAgc3RhcnRMaXZlQ2FtRmxvdygpIHtcbiAgICB0aGlzLiRsb2cuZGVidWcoJy0tLS0tIExpdmUgY2FtIGZsb3cgc3RhcnQgLS0tLS0nKTtcbiAgICB0aGlzLmNhcHR1cmVCdXR0b25EaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy52aWRlb1BsYXlpbmcgPSBmYWxzZTtcblxuICAgIC8vIERpc3BsYXkgdmlkZW8gY29tcG9uZW50IGluIGZ1bGwgc2NyZWVuXG4gICAgLy8gVGhpcyBwYXJ0IG9mIGNvZGUgY2Fubm90IGJlIGluIGNhbGxiYWNrIGR1ZSB0byBicm93c2VyIHNlY3VyaXR5IHJlcXVpcmVtZW50XG4gICAgdGhpcy52aWRlby5wYXVzZSgpO1xuXG4gICAgdGhpcy50cnlBY3F1aXJlRnVsbFNjcmVlbigpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuJGxvZy5kZWJ1ZygnQWNxdWlyZWQgZnVsbCBzY3JlZW4uJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgdGhpcy4kbG9nLndhcm4oJ0ZhaWxlZCB0byBhY3F1aXJlIGZ1bGwgc2NyZWVuLicpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgLy8gQWZ0ZXIgdHJ5aW5nIHRvIGFjcXVpcmUgZnVsbCBzY3JlZW4sIHJlc29sdmUgdmlkZW8gc3RyZWFtXG4gICAgICAgIHRoaXMuc2V0U2NyZWVuRGltZW5zaW9ucygpO1xuICAgICAgICBpZiAoIXRoaXMub3ZlcmxheUxvYWRlZCkgeyAvLyBEb250IHRyaWdnZXIgb3ZlcmxheSBjb21wdXRhdGlvbiBpZiBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgIGlmICh0aGlzLm92ZXJsYXlFbGVtZW50Lm5hdHVyYWxIZWlnaHQgPT09IDAgfHwgdGhpcy5vdmVybGF5RWxlbWVudC5uYXR1cmFsV2lkdGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuJGxvZy5kZWJ1ZygnT3ZlcmxheSBoYXMgbm90IGxvYWRlZCBhZnRlciBmdWxsIHNjcmVlbiBpcyBhY3F1aXJlZCcpO1xuICAgICAgICAgICAgdGhpcy5vdmVybGF5RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgY3JlYXRlT3ZlcmxheU9uTG9hZENhbGxiYWNrKHRoaXMpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4kbG9nLmRlYnVnKCdPdmVybGF5IGhhcyBsb2FkZWQgYmVmb3JlIGZ1bGwgc2NyZWVuIGlzIGFjcXVpcmVkJyk7XG4gICAgICAgICAgICBjcmVhdGVPdmVybGF5T25Mb2FkQ2FsbGJhY2sodGhpcykuY2FsbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyeUFjcXVpcmVNZWRpYVN0cmVhbSgpXG4gICAgICAgICAgLnRoZW4oKHN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblZpZGVvU3RyZWFtQWNxdWlzaXRpb24oc3RyZWFtKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAvLyBUT0RPIGhhb3l1YW4gOiBTaG91bGQgc29tZWhvdyBhc2sgdXNlciB0byByZWZyZXNoIHBhZ2UgdG8gcmVhcXVpcmUgcGVybWlzc2lvblxuICAgICAgICAgICAgdGhpcy4kbG9nLmVycm9yKGVycik7XG4gICAgICAgICAgICB0aGlzLm9uQ2FuY2VsQnRuQ2xpY2soKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgdHJ5QWNxdWlyZUZ1bGxTY3JlZW4oKSB7XG4gICAgaWYgKHNjcmVlbmZ1bGwuZW5hYmxlZCkge1xuICAgICAgaWYgKCFzY3JlZW5mdWxsLmlzRnVsbHNjcmVlbikge1xuICAgICAgICByZXR1cm4gc2NyZWVuZnVsbC5yZXF1ZXN0KHRoaXMudmlkZW9QcmV2aWV3RWxlbWVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy4kcS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiRxLnJlamVjdCgpO1xuICB9XG5cbiAgb25WaWRlb1N0cmVhbUFjcXVpc2l0aW9uKHN0cmVhbSkge1xuICAgIHRoaXMubWVkaWFTdHJlYW0gPSBzdHJlYW07XG5cbiAgICAvKlxuICAgICBUaGlzIGlzIGRvbmUgaW5zdGVhZCBvZiBqdXN0IHJlYXNzaWduaW5nIHZpZGVvIHN0cmVhbSBldmVyeXRpbWVcbiAgICAgdG8gcHJldmVudCBzY3JlZW4gZnJvbSBibGlua2luZyBleGNlc3NpdmVseSBkdXJpbmcgc3dpdGNoXG4gICAgICAqL1xuICAgIGlmICh0aGlzLnZpZGVvLnNyY09iamVjdCAhPT0gdGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgdGhpcy52aWRlby5zcmNPYmplY3QgPSB0aGlzLm1lZGlhU3RyZWFtO1xuICAgIH1cblxuICAgIC8vIFRvZ2dsZSBjb250cm9sc1xuICAgIHRoaXMuc2hvd1ZpZGVvUHJldmlldyA9IHRydWU7XG4gICAgdGhpcy5zaG93VmlkZW9JblByZXZpZXcgPSB0cnVlO1xuICAgIHRoaXMuc2hvd0NhcHR1cmVJblByZXZpZXcgPSBmYWxzZTtcblxuICAgIHRoaXMudmlkZW8ucGxheSgpO1xuICB9XG5cbiAgdHJ5QWNxdWlyZU1lZGlhU3RyZWFtKCkge1xuICAgIGlmICghdGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgcmV0dXJuIHRoaXMuJHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChkZXZpY2VzKSA9PiB7XG4gICAgICAgIC8vIElmIGRldmljZSBvbmx5IGhhcyBvbmUgY2FtZXJhLCBhc3N1bWUgaXQgaXMgc2VsZmllIGNhbVxuICAgICAgICBjb25zdCBudW1WaWRlb0RldmljZXMgPSBkZXZpY2VzLmZpbHRlcihkZXZpY2UgPT4gZGV2aWNlLmtpbmQgPT09ICd2aWRlb2lucHV0JykubGVuZ3RoO1xuICAgICAgICB0aGlzLiRsb2cuZGVidWcoYEZvdW5kICR7bnVtVmlkZW9EZXZpY2VzfSB2aWRlbyBkZXZpY2VzLmApO1xuICAgICAgICBpZiAobnVtVmlkZW9EZXZpY2VzID09PSAxIHx8ICF0aGlzLmRpcmVjdGlvbikge1xuICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gJ3VzZXInO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5kaXJlY3Rpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZsaXAgdmlkZW8gYWxvbmcgeCBheGlzIHNvIHNlbGZpZSB2aWRlbyBiZWNvbWVzIGEgbWlycm9yXG4gICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gJ3VzZXInKSB7XG4gICAgICAgICAgdGhpcy4kbG9nLmRlYnVnKCdDaGFuZ2VkIHVzZXIgdmlkZW8gdG8gbWlycm9yJyk7XG4gICAgICAgICAgdGhpcy52aWRlby5jbGFzc0xpc3QuYWRkKCdkaXNwbGF5LW1pcnJvcicpO1xuICAgICAgICAgIHRoaXMub3ZlcmxheUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGlzcGxheS1taXJyb3InKTtcbiAgICAgICAgICB0aGlzLmlzVmlkZW9Ib3Jpem9udGFsbHlGbGlwcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY2FtZXJhQ29uc3RyYWludHMgPSB7XG4gICAgICAgICAgdmlkZW86IHtcbiAgICAgICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgICAgIG1pbjogNjQwLFxuICAgICAgICAgICAgICBpZGVhbDogMTI4MCxcbiAgICAgICAgICAgICAgbWF4OiAxMjgwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFjaW5nTW9kZToge1xuICAgICAgICAgICAgICBpZGVhbDogdGhpcy5kaXJlY3Rpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGF1ZGlvOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy4kd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHRoaXMuY2FtZXJhQ29uc3RyYWludHMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuJHEucmVzb2x2ZSh0aGlzLm1lZGlhU3RyZWFtKTtcbiAgfVxuXG4gIHNldFNjcmVlbkRpbWVuc2lvbnMoKSB7XG4gICAgLy8gVE9ETyBoYW95dWFuIDogZmlyZWZveCBpcyByZWNvZ25pemluZyBwaXhlbCdzIGJ0bSBiYXJcbiAgICB0aGlzLiRsb2cuZGVidWcoYHNjcmVlbiA6ICR7dGhpcy4kd2luZG93LnNjcmVlbi5oZWlnaHR9IHggJHt0aGlzLiR3aW5kb3cuc2NyZWVuLndpZHRofWApO1xuICAgIHRoaXMuJGxvZy5kZWJ1Zyhgc2NyZWVuIGF2YWlsYWJsZSA6ICR7dGhpcy4kd2luZG93LnNjcmVlbi5hdmFpbEhlaWdodH0geCAke3RoaXMuJHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aH1gKTtcbiAgICB0aGlzLiRsb2cuZGVidWcoYHNjcmVlbiBpbm5lciA6ICR7dGhpcy4kd2luZG93LmlubmVySGVpZ2h0fSB4ICR7dGhpcy4kd2luZG93LmlubmVyV2lkdGh9YCk7XG4gICAgdGhpcy5zY3JlZW5IZWlnaHQgPSB0aGlzLiR3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgdGhpcy5zY3JlZW5XaWR0aCA9IHRoaXMuJHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHRoaXMuJGxvZy5kZWJ1ZyhgKipzY3JlZW4gcmVzb2x2ZWQqKiA6ICR7dGhpcy5zY3JlZW5IZWlnaHR9IHggJHt0aGlzLnNjcmVlbldpZHRofWApO1xuICB9XG5cbiAgY2xvc2VWaWRlb1N0cmVhbSgpIHtcbiAgICBpZiAoc2NyZWVuZnVsbC5lbmFibGVkKSB7XG4gICAgICBzY3JlZW5mdWxsLmV4aXQoKTtcbiAgICB9XG4gICAgdGhpcy52aWRlby5zcmNPYmplY3QgPSBudWxsO1xuICAgIGlmICh0aGlzLm1lZGlhU3RyZWFtKSB7XG4gICAgICB0aGlzLm1lZGlhU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKTtcbiAgICAgIHRoaXMubWVkaWFTdHJlYW0gPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLnNob3dWaWRlb1ByZXZpZXcgPSBmYWxzZTtcbiAgICB0aGlzLmNhcHR1cmVCdXR0b25EaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBvbkNhbmNlbEJ0bkNsaWNrKCkge1xuICAgIHRoaXMuY2xvc2VWaWRlb1N0cmVhbSgpO1xuICAgIHRoaXMub25DYW5jZWwoKTtcbiAgfVxuXG4gIG9uQ2FwdHVyZUJ0bkNsaWNrKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGhlaWdodCwgd2lkdGgsXG4gICAgICB5T2Zmc2V0LCB4T2Zmc2V0LFxuICAgICAgcGFpbnRIZWlnaHQsIHBhaW50V2lkdGhcbiAgICB9ID0gdGhpcy5DYW1lcmFDYXB0dXJlU2NyZWVuSGFuZGxlci5nZXRDYW52YXNTcGVjaWZpY2F0aW9ucyhcbiAgICAgIHRoaXMudmlkZW9IZWlnaHQsXG4gICAgICB0aGlzLnZpZGVvV2lkdGgsXG4gICAgICB0aGlzLnNjcmVlbkhlaWdodCxcbiAgICAgIHRoaXMuc2NyZWVuV2lkdGgsXG4gICAgICB0aGlzLnZpZGVvUmVzSGVpZ2h0LFxuICAgICAgdGhpcy52aWRlb1Jlc1dpZHRoXG4gICAgKTtcbiAgICB0aGlzLmRpc3BsYXlDYW52YXNZT2Zmc2V0ID0geU9mZnNldDtcbiAgICB0aGlzLmRpc3BsYXlDYW52YXNYT2Zmc2V0ID0geE9mZnNldDtcbiAgICB0aGlzLmRpc3BsYXlDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmRpc3BsYXlDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIC8qIENvbmZ1c2luZyBkcmF3IGltYWdlIG1ldGhvZCBmb3IgdmlkZW9cbiAgICAgKiBEZXNwaXRlIHZpZGVvIGRpbWVuc2lvbiBjYW4gYmUgbW9yZSB0aGFuIDEwMCUsIHRoZSB2aWRlbyBuZXZlciBleHRlbmRzIGJleW9uZCB0aGUgc2NyZWVuXG4gICAgICogSW5zdGVhZCwgaXRzIHJlc29sdXRpb24gZ2V0cyB0cnVuY2F0ZWQgdG8gZml0IHRoZSBzY3JlZW4gcGVyZmVjdGx5XG4gICAgICogVGh1cyBkcmF3aW5nIGFsd2F5cyBzdGFydHMgZnJvbSAoMCwgMClcbiAgICAgKi9cbiAgICBjb25zdCBjdHggPSB0aGlzLmRpc3BsYXlDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBjdHgucmVzZXRUcmFuc2Zvcm0oKTtcbiAgICBjdHguZHJhd0ltYWdlKHRoaXMudmlkZW8sIDAsIDAsIHBhaW50V2lkdGgsIHBhaW50SGVpZ2h0LCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB0aGlzLnNob3dDYXB0dXJlSW5QcmV2aWV3ID0gdHJ1ZTtcbiAgICB0aGlzLnNob3dWaWRlb0luUHJldmlldyA9IGZhbHNlO1xuICB9XG5cbiAgb25SZWNhcHR1cmVCdG5DbGljaygpIHtcbiAgICB0aGlzLnN0YXJ0TGl2ZUNhbUZsb3coKTtcbiAgfVxuXG4gIG9uVXBsb2FkQnRuQ2xpY2soKSB7XG4gICAgdGhpcy51cGxvYWRDYW52YXMud2lkdGggPSB0aGlzLmRpc3BsYXlDYW52YXMud2lkdGg7XG4gICAgdGhpcy51cGxvYWRDYW52YXMuaGVpZ2h0ID0gdGhpcy5kaXNwbGF5Q2FudmFzLmhlaWdodDtcbiAgICB0aGlzLnVwbG9hZENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLmRyYXdJbWFnZSh0aGlzLmRpc3BsYXlDYW52YXMsIDAsIDAsIHRoaXMuZGlzcGxheUNhbnZhcy53aWR0aCwgdGhpcy5kaXNwbGF5Q2FudmFzLmhlaWdodCk7XG4gICAgLy8gU3VwcG9ydCA6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC90b0Jsb2JcbiAgICB0aGlzLnVwbG9hZENhbnZhcy50b0Jsb2IoY3JlYXRlVXBsb2FkQ2FsbGJhY2sodGhpcyksICdpbWFnZS9wbmcnLCAxLjApO1xuICB9XG5cbiAgc2V0TmdNb2RlbCh2YWx1ZSkge1xuICAgIC8vIElmIG5nTW9kZWwgbm90IGFzc2lnbmFibGUsIHdlIGRvbid0IHdhbnQgdG8gZXJyb3IuXG4gICAgaWYgKHR5cGVvZiB0aGlzLiRhdHRycy5uZ01vZGVsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgJG5nTW9kZWwgPSB0aGlzLiRlbGVtZW50LmNvbnRyb2xsZXIoJ25nTW9kZWwnKTtcbiAgICAgIGlmICghJG5nTW9kZWwuJHNldFZpZXdWYWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAkbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKHZhbHVlKTtcbiAgICB9XG4gIH1cblxuICBoYXNHZXRVc2VyTWVkaWEoKSB7XG4gICAgcmV0dXJuICEhKHRoaXMuJHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzXG4gICAgICAmJiB0aGlzLiR3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpO1xuICB9XG5cbiAgZ2V0T3ZlcmxheVN0eWxlcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogYCR7dGhpcy5vdmVybGF5WE9mZnNldH1weGAsXG4gICAgICB0b3A6IGAke3RoaXMub3ZlcmxheVlPZmZzZXR9cHhgLFxuICAgICAgd2lkdGg6IGAke3RoaXMub3ZlcmxheVdpZHRofXB4YCxcbiAgICAgIGhlaWdodDogYCR7dGhpcy5vdmVybGF5SGVpZ2h0fXB4YCxcbiAgICB9O1xuICB9XG5cbiAgZ2V0VmlkZW9TdHlsZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxlZnQ6IGAke3RoaXMudmlkZW9YT2Zmc2V0fSVgLFxuICAgICAgaGVpZ2h0OiBgJHt0aGlzLnZpZGVvSGVpZ2h0fSVgLFxuICAgICAgd2lkdGg6IGAke3RoaXMudmlkZW9XaWR0aH0lYCxcbiAgICB9O1xuICB9XG5cbiAgZ2V0Q2FudmFzU3R5bGVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICBsZWZ0OiBgJHt0aGlzLmRpc3BsYXlDYW52YXNYT2Zmc2V0fXB4YCxcbiAgICAgIHRvcDogYCR7dGhpcy5kaXNwbGF5Q2FudmFzWU9mZnNldH1weGAsXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIE5lZWQgdG8gdXNlIHRoaXMgcGF0dGVybiBoZXJlIGJlY2F1c2VcbiAqIHdlIG9ubHkgZ2V0IGhlaWdodCBhbmQgd2lkdGggb2Ygb3ZlcmxheSBpbWFnZSBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWRcbiAqL1xuZnVuY3Rpb24gY3JlYXRlT3ZlcmxheU9uTG9hZENhbGxiYWNrKCRjdHJsKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvdmVybGF5T25Mb2FkQ2FsbGJhY2soKSB7XG4gICAgaWYgKCEkY3RybC5vdmVybGF5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHtcbiAgICAgIGhlaWdodDogb3ZlcmxheUhlaWdodCxcbiAgICAgIHdpZHRoOiBvdmVybGF5V2lkdGgsXG4gICAgICB5T2Zmc2V0OiBvdmVybGF5WU9mZnNldCxcbiAgICAgIHhPZmZzZXQ6IG92ZXJsYXlYT2Zmc2V0XG4gICAgfSA9ICRjdHJsLkNhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyXG4gICAgICAuZ2V0T3ZlcmxheVNwZWNpZmljYXRpb25zKFxuICAgICAgICAkY3RybC5zY3JlZW5IZWlnaHQsICRjdHJsLnNjcmVlbldpZHRoLFxuICAgICAgICAkY3RybC5vdmVybGF5RWxlbWVudC5uYXR1cmFsSGVpZ2h0LCAkY3RybC5vdmVybGF5RWxlbWVudC5uYXR1cmFsV2lkdGhcbiAgICAgICk7XG5cbiAgICAkY3RybC4kc2NvcGUuJGFwcGx5QXN5bmMoKCkgPT4ge1xuICAgICAgJGN0cmwub3ZlcmxheVlPZmZzZXQgPSBvdmVybGF5WU9mZnNldDtcbiAgICAgICRjdHJsLm92ZXJsYXlYT2Zmc2V0ID0gb3ZlcmxheVhPZmZzZXQ7XG4gICAgICAkY3RybC5vdmVybGF5SGVpZ2h0ID0gb3ZlcmxheUhlaWdodDtcbiAgICAgICRjdHJsLm92ZXJsYXlXaWR0aCA9IG92ZXJsYXlXaWR0aDtcblxuICAgICAgJGN0cmwub3ZlcmxheUxvYWRlZCA9IHRydWU7XG4gICAgfSk7XG4gIH07XG59XG5cbi8qKlxuICogTmVlZCB0byB1c2UgdGhpcyBwYXR0ZXJuIGhlcmUgYmVjYXVzZVxuICogd2Ugb25seSBnZXQgaGVpZ2h0IGFuZCB3aWR0aCBvZiB2aWRlbyBhZnRlciBpdCBpcyBwbGF5aW5nXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZGVvUGxheUNhbGxiYWNrKCRjdHJsKSB7XG4gIHJldHVybiBmdW5jdGlvbiB2aWRlb1BsYXlDYWxsYmFjaygpIHtcbiAgICAkY3RybC5jYXB0dXJlQnV0dG9uRGlzYWJsZWQgPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudmlkZW9IZWlnaHQgPT09IDAgfHwgdGhpcy52aWRlb1dpZHRoID09PSAwKSB7XG4gICAgICAvLyBWaWRlbyBpcyBub3QgcGxheWluZywgbGlzdGVuIGZvciBpdCB0byBzdGFydFxuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwbGF5aW5nJywgZnVuY3Rpb24gdmlkZW9QbGF5aW5nQ2FsbGJhY2soKSB7XG4gICAgICAgICRjdHJsLiRzY29wZS4kYXBwbHlBc3luYygoKSA9PiB7XG4gICAgICAgICAgJGN0cmwudmlkZW9QbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgICBhc3NpZ25WaWRlb0RpbWVuc2lvbnModGhpcyk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BsYXlpbmcnLCB2aWRlb1BsYXlpbmdDYWxsYmFjayk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgJGN0cmwuJHNjb3BlLiRhcHBseUFzeW5jKCgpID0+IHtcbiAgICAgICAgJGN0cmwudmlkZW9QbGF5aW5nID0gdHJ1ZTtcbiAgICAgICAgYXNzaWduVmlkZW9EaW1lbnNpb25zKHRoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNzaWduVmlkZW9EaW1lbnNpb25zKHZpZGVvKSB7XG4gICAgICAkY3RybC52aWRlb1Jlc0hlaWdodCA9IHZpZGVvLnZpZGVvSGVpZ2h0O1xuICAgICAgJGN0cmwudmlkZW9SZXNXaWR0aCA9IHZpZGVvLnZpZGVvV2lkdGg7XG4gICAgICAkY3RybC4kbG9nLmRlYnVnKGBwbGF5aW5nIHVwZGF0ZWQgdmlkZW8gOiAkeyRjdHJsLnZpZGVvUmVzSGVpZ2h0fSB4ICR7JGN0cmwudmlkZW9SZXNXaWR0aH1gKTtcbiAgICAgIGNvbnN0IHsgdmlkZW9IZWlnaHRJblBlcmNlbnRhZ2UsIHZpZGVvV2lkdGhJblBlcmNlbnRhZ2UgfSA9ICRjdHJsLkNhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyXG4gICAgICAgIC5nZXRWaWRlb1NwZWNpZmljYXRpb25zKFxuICAgICAgICAgICRjdHJsLnNjcmVlbkhlaWdodCwgJGN0cmwuc2NyZWVuV2lkdGgsXG4gICAgICAgICAgJGN0cmwudmlkZW9SZXNIZWlnaHQsICRjdHJsLnZpZGVvUmVzV2lkdGhcbiAgICAgICAgKTtcbiAgICAgIC8qKlxuICAgICAgICogV2hlbiB2aWRlbyB3aWR0aCBpcyBtb3JlIHRoYW4gc2NyZWVuIHdpZHRoXG4gICAgICAgKiBuYXR1cmFsIHZpZGVvIHdpbGwgb3ZlcmZsb3cgdG8gcmlnaHQgb2Ygc2NyZWVuXG4gICAgICAgKiBBcyBzZWxmaWUgY2FtIGlzIGZsaXBwZWQsIHRoZSBvdmVyZmxvd24gcGFydCB3aWxsIGJlIGZsaXBwZWQgb250byB0aGUgc2NyZWVuIG9uIHRoZSBsZWZ0XG4gICAgICAgKiBXaGVuIGRyYXdpbmcgY2FudmFzIGZyb20gdmlkZW8sIHZpZGVvIHRyYW5zZm9ybWF0aW9uIGlzIG5vdCBjb25zaWRlcmVkXG4gICAgICAgKiBUaHVzIGJ5IG5hdHVyYWxseSBkcmF3aW5nIHRoZSBzY3JlZW4sIGNhbnZhcyBpbWFnZSB3aWxsIG1pc21hdGNoIHdpdGggdmlkZW9cbiAgICAgICAqIFdlIG5lZWRlZCB0byBhcHBseSBhbiBvZmZzZXQgaGVyZVxuICAgICAgICogdG8gbWFrZSBzdXJlIG92ZXJmbG93biBwYXJ0IGluIHVuZmxpcHBlZCB2aWRlbyBpcyBzdGlsbCBvdmVyZmxvd24gaW4gZmxpcHBlZCB2aWRlb1xuICAgICAgICovXG4gICAgICBpZiAoJGN0cmwuaXNWaWRlb0hvcml6b250YWxseUZsaXBwZWQgJiYgdmlkZW9XaWR0aEluUGVyY2VudGFnZSA+IDEwMC4wKSB7XG4gICAgICAgICRjdHJsLnZpZGVvWE9mZnNldCA9IDEwMCAtIHZpZGVvV2lkdGhJblBlcmNlbnRhZ2U7XG4gICAgICB9XG4gICAgICAkY3RybC52aWRlb0hlaWdodCA9IHZpZGVvSGVpZ2h0SW5QZXJjZW50YWdlO1xuICAgICAgJGN0cmwudmlkZW9XaWR0aCA9IHZpZGVvV2lkdGhJblBlcmNlbnRhZ2U7XG4gICAgfVxuICB9O1xufVxuXG4vLyBSZXNpemUgbGlzdGVuZXIgbGlzdGVucyB0byBlbmQgb2Ygb3JpZW50YXRpb24gY2hhbmdlIGV2ZW50XG5mdW5jdGlvbiBjcmVhdGVPcmllbnRhdGlvbkNoYW5nZUNhbGxiYWNrKCRjdHJsKSB7XG4gIC8vIFRPRE8gaGFveXVhbiA6IHNob3VsZCB3ZSBjYW5jZWwgdGhlIGNhcHR1cmUgaWYgc2NyZWVuIHJvdGF0ZXM/XG4gIHJldHVybiBmdW5jdGlvbiBvcmllbnRhdGlvbkNoYW5nZUNhbGxiYWNrKCkge1xuICAgIGNvbnN0IG9uT3JpZW50YXRpb25DaGFuZ2UgPSBmdW5jdGlvbiBvbk9yaWVudGF0aW9uQ2hhbmdlKCkge1xuICAgICAgaWYgKCRjdHJsLnNob3dWaWRlb1ByZXZpZXcpIHtcbiAgICAgICAgJGN0cmwuJGxvZy5kZWJ1ZygnT3JpZW50YXRpb24gY2hhbmdlIGRldGVjdGVkLCByZWNvbXB1dGUgc2NyZWVuJyk7XG4gICAgICAgICRjdHJsLnN0YXJ0TGl2ZUNhbUZsb3coKTtcbiAgICAgIH1cbiAgICAgICRjdHJsLiR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgb25PcmllbnRhdGlvbkNoYW5nZSk7XG4gICAgfTtcbiAgICAkY3RybC4kd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uT3JpZW50YXRpb25DaGFuZ2UpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVVcGxvYWRDYWxsYmFjaygkY3RybCkge1xuICByZXR1cm4gZnVuY3Rpb24gdXBsb2FkQ2FsbGJhY2soYmxvYikge1xuICAgIGlmIChzY3JlZW5mdWxsLmVuYWJsZWQpIHtcbiAgICAgIHNjcmVlbmZ1bGwuZXhpdCgpO1xuICAgIH1cbiAgICAkY3RybC5zaG93VmlkZW9QcmV2aWV3ID0gZmFsc2U7XG4gICAgJGN0cmwuY2xvc2VWaWRlb1N0cmVhbSgpO1xuICAgICRjdHJsLiRzY29wZS4kYXBwbHlBc3luYygoKSA9PiB7XG4gICAgICAkY3RybC5vbkNhcHR1cmUoeyBmaWxlOiBibG9iIH0pO1xuICAgIH0pO1xuICB9O1xufVxuXG5DYW1lcmFDYXB0dXJlQ29udHJvbGxlci4kaW5qZWN0ID0gW1xuICAnJGVsZW1lbnQnLFxuICAnJHNjb3BlJyxcbiAgJyR3aW5kb3cnLFxuICAnJHEnLFxuICAnJGF0dHJzJyxcbiAgJyRsb2cnLFxuICAnQ2FtZXJhQ2FwdHVyZVNjcmVlbkhhbmRsZXInXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmFDYXB0dXJlQ29udHJvbGxlcjtcbiIsIi8qIVxuKiBzY3JlZW5mdWxsXG4qIHY0LjIuMCAtIDIwMTktMDQtMDFcbiogKGMpIFNpbmRyZSBTb3JodXM7IE1JVCBMaWNlbnNlXG4qL1xuKGZ1bmN0aW9uICgpIHtcblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBkb2N1bWVudCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmRvY3VtZW50IDoge307XG5cdHZhciBpc0NvbW1vbmpzID0gdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHM7XG5cdHZhciBrZXlib2FyZEFsbG93ZWQgPSB0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgJ0FMTE9XX0tFWUJPQVJEX0lOUFVUJyBpbiBFbGVtZW50O1xuXG5cdHZhciBmbiA9IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHZhbDtcblxuXHRcdHZhciBmbk1hcCA9IFtcblx0XHRcdFtcblx0XHRcdFx0J3JlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0J2V4aXRGdWxsc2NyZWVuJyxcblx0XHRcdFx0J2Z1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J2Z1bGxzY3JlZW5FbmFibGVkJyxcblx0XHRcdFx0J2Z1bGxzY3JlZW5jaGFuZ2UnLFxuXHRcdFx0XHQnZnVsbHNjcmVlbmVycm9yJ1xuXHRcdFx0XSxcblx0XHRcdC8vIE5ldyBXZWJLaXRcblx0XHRcdFtcblx0XHRcdFx0J3dlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJyxcblx0XHRcdFx0J3dlYmtpdEV4aXRGdWxsc2NyZWVuJyxcblx0XHRcdFx0J3dlYmtpdEZ1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J3dlYmtpdEZ1bGxzY3JlZW5FbmFibGVkJyxcblx0XHRcdFx0J3dlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UnLFxuXHRcdFx0XHQnd2Via2l0ZnVsbHNjcmVlbmVycm9yJ1xuXG5cdFx0XHRdLFxuXHRcdFx0Ly8gT2xkIFdlYktpdCAoU2FmYXJpIDUuMSlcblx0XHRcdFtcblx0XHRcdFx0J3dlYmtpdFJlcXVlc3RGdWxsU2NyZWVuJyxcblx0XHRcdFx0J3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLFxuXHRcdFx0XHQnd2Via2l0Q3VycmVudEZ1bGxTY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J3dlYmtpdENhbmNlbEZ1bGxTY3JlZW4nLFxuXHRcdFx0XHQnd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsXG5cdFx0XHRcdCd3ZWJraXRmdWxsc2NyZWVuZXJyb3InXG5cblx0XHRcdF0sXG5cdFx0XHRbXG5cdFx0XHRcdCdtb3pSZXF1ZXN0RnVsbFNjcmVlbicsXG5cdFx0XHRcdCdtb3pDYW5jZWxGdWxsU2NyZWVuJyxcblx0XHRcdFx0J21vekZ1bGxTY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J21vekZ1bGxTY3JlZW5FbmFibGVkJyxcblx0XHRcdFx0J21vemZ1bGxzY3JlZW5jaGFuZ2UnLFxuXHRcdFx0XHQnbW96ZnVsbHNjcmVlbmVycm9yJ1xuXHRcdFx0XSxcblx0XHRcdFtcblx0XHRcdFx0J21zUmVxdWVzdEZ1bGxzY3JlZW4nLFxuXHRcdFx0XHQnbXNFeGl0RnVsbHNjcmVlbicsXG5cdFx0XHRcdCdtc0Z1bGxzY3JlZW5FbGVtZW50Jyxcblx0XHRcdFx0J21zRnVsbHNjcmVlbkVuYWJsZWQnLFxuXHRcdFx0XHQnTVNGdWxsc2NyZWVuQ2hhbmdlJyxcblx0XHRcdFx0J01TRnVsbHNjcmVlbkVycm9yJ1xuXHRcdFx0XVxuXHRcdF07XG5cblx0XHR2YXIgaSA9IDA7XG5cdFx0dmFyIGwgPSBmbk1hcC5sZW5ndGg7XG5cdFx0dmFyIHJldCA9IHt9O1xuXG5cdFx0Zm9yICg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhbCA9IGZuTWFwW2ldO1xuXHRcdFx0aWYgKHZhbCAmJiB2YWxbMV0gaW4gZG9jdW1lbnQpIHtcblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdHJldFtmbk1hcFswXVtpXV0gPSB2YWxbaV07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH0pKCk7XG5cblx0dmFyIGV2ZW50TmFtZU1hcCA9IHtcblx0XHRjaGFuZ2U6IGZuLmZ1bGxzY3JlZW5jaGFuZ2UsXG5cdFx0ZXJyb3I6IGZuLmZ1bGxzY3JlZW5lcnJvclxuXHR9O1xuXG5cdHZhciBzY3JlZW5mdWxsID0ge1xuXHRcdHJlcXVlc3Q6IGZ1bmN0aW9uIChlbGVtKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcblx0XHRcdFx0dmFyIHJlcXVlc3QgPSBmbi5yZXF1ZXN0RnVsbHNjcmVlbjtcblxuXHRcdFx0XHR2YXIgb25GdWxsU2NyZWVuRW50ZXJlZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR0aGlzLm9mZignY2hhbmdlJywgb25GdWxsU2NyZWVuRW50ZXJlZCk7XG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHR9LmJpbmQodGhpcyk7XG5cblx0XHRcdFx0ZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG5cdFx0XHRcdC8vIFdvcmsgYXJvdW5kIFNhZmFyaSA1LjEgYnVnOiByZXBvcnRzIHN1cHBvcnQgZm9yXG5cdFx0XHRcdC8vIGtleWJvYXJkIGluIGZ1bGxzY3JlZW4gZXZlbiB0aG91Z2ggaXQgZG9lc24ndC5cblx0XHRcdFx0Ly8gQnJvd3NlciBzbmlmZmluZywgc2luY2UgdGhlIGFsdGVybmF0aXZlIHdpdGhcblx0XHRcdFx0Ly8gc2V0VGltZW91dCBpcyBldmVuIHdvcnNlLlxuXHRcdFx0XHRpZiAoLyBWZXJzaW9uXFwvNVxcLjEoPzpcXC5cXGQrKT8gU2FmYXJpXFwvLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0XHRcdFx0ZWxlbVtyZXF1ZXN0XSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGVsZW1bcmVxdWVzdF0oa2V5Ym9hcmRBbGxvd2VkID8gRWxlbWVudC5BTExPV19LRVlCT0FSRF9JTlBVVCA6IHt9KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMub24oJ2NoYW5nZScsIG9uRnVsbFNjcmVlbkVudGVyZWQpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHR9LFxuXHRcdGV4aXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuXHRcdFx0XHRpZiAoIXRoaXMuaXNGdWxsc2NyZWVuKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBvbkZ1bGxTY3JlZW5FeGl0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHRoaXMub2ZmKCdjaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FeGl0KTtcblx0XHRcdFx0XHRyZXNvbHZlKCk7XG5cdFx0XHRcdH0uYmluZCh0aGlzKTtcblxuXHRcdFx0XHRkb2N1bWVudFtmbi5leGl0RnVsbHNjcmVlbl0oKTtcblxuXHRcdFx0XHR0aGlzLm9uKCdjaGFuZ2UnLCBvbkZ1bGxTY3JlZW5FeGl0KTtcblx0XHRcdH0uYmluZCh0aGlzKSk7XG5cdFx0fSxcblx0XHR0b2dnbGU6IGZ1bmN0aW9uIChlbGVtKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5pc0Z1bGxzY3JlZW4gPyB0aGlzLmV4aXQoKSA6IHRoaXMucmVxdWVzdChlbGVtKTtcblx0XHR9LFxuXHRcdG9uY2hhbmdlOiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcblx0XHRcdHRoaXMub24oJ2NoYW5nZScsIGNhbGxiYWNrKTtcblx0XHR9LFxuXHRcdG9uZXJyb3I6IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuXHRcdFx0dGhpcy5vbignZXJyb3InLCBjYWxsYmFjayk7XG5cdFx0fSxcblx0XHRvbjogZnVuY3Rpb24gKGV2ZW50LCBjYWxsYmFjaykge1xuXHRcdFx0dmFyIGV2ZW50TmFtZSA9IGV2ZW50TmFtZU1hcFtldmVudF07XG5cdFx0XHRpZiAoZXZlbnROYW1lKSB7XG5cdFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBjYWxsYmFjaywgZmFsc2UpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0b2ZmOiBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG5cdFx0XHR2YXIgZXZlbnROYW1lID0gZXZlbnROYW1lTWFwW2V2ZW50XTtcblx0XHRcdGlmIChldmVudE5hbWUpIHtcblx0XHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCBmYWxzZSk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRyYXc6IGZuXG5cdH07XG5cblx0aWYgKCFmbikge1xuXHRcdGlmIChpc0NvbW1vbmpzKSB7XG5cdFx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuc2NyZWVuZnVsbCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybjtcblx0fVxuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNjcmVlbmZ1bGwsIHtcblx0XHRpc0Z1bGxzY3JlZW46IHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gQm9vbGVhbihkb2N1bWVudFtmbi5mdWxsc2NyZWVuRWxlbWVudF0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZWxlbWVudDoge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gZG9jdW1lbnRbZm4uZnVsbHNjcmVlbkVsZW1lbnRdO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0ZW5hYmxlZDoge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHQvLyBDb2VyY2UgdG8gYm9vbGVhbiBpbiBjYXNlIG9mIG9sZCBXZWJLaXRcblx0XHRcdFx0cmV0dXJuIEJvb2xlYW4oZG9jdW1lbnRbZm4uZnVsbHNjcmVlbkVuYWJsZWRdKTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdGlmIChpc0NvbW1vbmpzKSB7XG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBzY3JlZW5mdWxsO1xuXHRcdC8vIFRPRE86IHJlbW92ZSB0aGlzIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb25cblx0XHRtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gc2NyZWVuZnVsbDtcblx0fSBlbHNlIHtcblx0XHR3aW5kb3cuc2NyZWVuZnVsbCA9IHNjcmVlbmZ1bGw7XG5cdH1cbn0pKCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdj4gPGRpdiBpZD12aWRlby1wcmV2aWV3IG5nLXNob3c9JGN0cmwuc2hvd1ZpZGVvUHJldmlldyBjbGFzcz1cXFwidy0xMDAgaC0xMDAgZml4ZWQtdG9wIGJnLWRhcmtcXFwiPiA8aW1nIGlkPW92ZXJsYXkgbmctc2hvdz1cXFwiJGN0cmwuc2hvd1ZpZGVvSW5QcmV2aWV3ICYmICRjdHJsLm92ZXJsYXlMb2FkZWQgJiYgJGN0cmwudmlkZW9QbGF5aW5nXFxcIiBuZy1zdHlsZT0kY3RybC5nZXRPdmVybGF5U3R5bGVzKCkgbmctc3JjPXt7JGN0cmwub3ZlcmxheX19IGNsYXNzPVxcXCJmaXhlZCB6aW5kZXgtdmlkZW8tb3ZlcmxheVxcXCIvPiA8dmlkZW8gaWQ9dmlkZW8gbmctc2hvdz0kY3RybC5zaG93VmlkZW9JblByZXZpZXcgbmctc3R5bGU9JGN0cmwuZ2V0VmlkZW9TdHlsZXMoKSBjbGFzcz1cXFwiZml4ZWQtdG9wIHppbmRleC12aWRlb1xcXCIgcGxheXNpbmxpbmU+PC92aWRlbz4gPGNhbnZhcyBpZD1kaXNwbGF5LWNhbnZhcyBuZy1zaG93PSRjdHJsLnNob3dDYXB0dXJlSW5QcmV2aWV3IG5nLXN0eWxlPSRjdHJsLmdldENhbnZhc1N0eWxlcygpIGNsYXNzPVxcXCJmaXhlZCB6aW5kZXgtdmlkZW9cXFwiPjwvY2FudmFzPiA8Y2FudmFzIGlkPXVwbG9hZC1jYW52YXMgbmctc2hvdz1mYWxzZSBjbGFzcz1maXhlZD48L2NhbnZhcz4gPGxhYmVsIGNsYXNzPVxcXCJmaXhlZC1ib3R0b20gY2FtZXJhLWN0cmwtYmFyXFxcIj4gPHNwYW4gY2xhc3M9Y2FtZXJhLWN0cmwtYm94LXNtYWxsPiA8c3BhbiBpZD12aWRlby1jYW5jZWwgY2xhc3M9XFxcImNhbWVyYS1jdHJsLWJ0bi1zbWFsbCBjYW1lcmEtY3RybC1idG4tY2FuY2VsIGljb24gaWNvbi1jbG9zZVxcXCIgbmctaWY9JGN0cmwuc2hvd1ZpZGVvSW5QcmV2aWV3IG5nLWNsaWNrPSRjdHJsLm9uQ2FuY2VsQnRuQ2xpY2soKT48L3NwYW4+IDxzcGFuIGlkPWNhcHR1cmUtY2FuY2VsIGNsYXNzPVxcXCJjYW1lcmEtY3RybC1idG4tc21hbGwgY2FtZXJhLWN0cmwtYnRuLWNhbmNlbCBpY29uIGljb24tY2xvc2VcXFwiIG5nLWlmPSRjdHJsLnNob3dDYXB0dXJlSW5QcmV2aWV3IG5nLWNsaWNrPSRjdHJsLm9uUmVjYXB0dXJlQnRuQ2xpY2soKT48L3NwYW4+IDwvc3Bhbj4gPHNwYW4gY2xhc3M9Y2FtZXJhLWN0cmwtYm94LWJpZz4gPHNwYW4gaWQ9dmlkZW8tY29uZmlybSBjbGFzcz1jYW1lcmEtY3RybC1idG4tYmlnIG5nLWlmPSRjdHJsLnNob3dWaWRlb0luUHJldmlldyBuZy1jbGljaz1cXFwiISRjdHJsLmNhcHR1cmVCdXR0b25EaXNhYmxlZCAmJiAkY3RybC5vbkNhcHR1cmVCdG5DbGljaygpXFxcIj4gPHNwYW4gY2xhc3M9Y2FtZXJhLWN0cmwtYnRuLWJpZy1pbm5lcj48L3NwYW4+IDwvc3Bhbj4gPC9zcGFuPiA8c3BhbiBjbGFzcz1jYW1lcmEtY3RybC1ib3gtc21hbGw+IDxzcGFuIGlkPWNhcHR1cmUtY29uZmlybSBjbGFzcz1cXFwiY2FtZXJhLWN0cmwtYnRuLXNtYWxsIGNhbWVyYS1jdHJsLWJ0bi1jb25maXJtIGljb24gaWNvbi1jaGVja1xcXCIgbmctaWY9JGN0cmwuc2hvd0NhcHR1cmVJblByZXZpZXcgbmctY2xpY2s9JGN0cmwub25VcGxvYWRCdG5DbGljaygpPjwvc3Bhbj4gPC9zcGFuPiA8L2xhYmVsPiA8L2Rpdj4gPC9kaXY+IFwiOyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jYW1lcmEtY2FwdHVyZS5sZXNzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvbGVzcy1sb2FkZXIvZGlzdC9janMuanMhLi9jYW1lcmEtY2FwdHVyZS5sZXNzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2xlc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vY2FtZXJhLWNhcHR1cmUubGVzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmNhbWVyYS1jdHJsLWJveC1zbWFsbHtkaXNwbGF5OmlubGluZS1ibG9jaztoZWlnaHQ6NjBweDt3aWR0aDo2MHB4O21hcmdpbi1sZWZ0OjEwcHg7bWFyZ2luLXJpZ2h0OjEwcHg7dmVydGljYWwtYWxpZ246Ym90dG9tfS5jYW1lcmEtY3RybC1ib3gtYmlne2Rpc3BsYXk6aW5saW5lLWJsb2NrO2hlaWdodDo4NHB4O3dpZHRoOjg0cHg7bWFyZ2luLWxlZnQ6MzZweDttYXJnaW4tcmlnaHQ6MzZweDt2ZXJ0aWNhbC1hbGlnbjpib3R0b219LmNhbWVyYS1jdHJsLWJ0bi1jYW5jZWx7Y29sb3I6cmVkO2JhY2tncm91bmQtY29sb3I6I2Y4ZjlmYX0uY2FtZXJhLWN0cmwtYnRuLWNvbmZpcm17Y29sb3I6Z3JlZW47YmFja2dyb3VuZC1jb2xvcjojZjhmOWZhfS5jYW1lcmEtY3RybC1idG4tc21hbGx7ZGlzcGxheTppbmxpbmUtYmxvY2s7aGVpZ2h0OjYwcHg7d2lkdGg6NjBweDtwYWRkaW5nOjRweDttYXJnaW4tYm90dG9tOjA7Zm9udC1zaXplOjUycHg7bGluZS1oZWlnaHQ6MTt0ZXh0LWFsaWduOmNlbnRlcjt3aGl0ZS1zcGFjZTpub3dyYXA7dmVydGljYWwtYWxpZ246bWlkZGxlOy1tcy10b3VjaC1hY3Rpb246bWFuaXB1bGF0aW9uO3RvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO2JhY2tncm91bmQtaW1hZ2U6bm9uZTtib3JkZXItcmFkaXVzOjUwJX0uY2FtZXJhLWN0cmwtYnRuLWJpZy1pbm5lcntoZWlnaHQ6NjRweDt3aWR0aDo2NHB4O3BhZGRpbmc6MDtiYWNrZ3JvdW5kLWNvbG9yOiNmOGY5ZmE7Ym9yZGVyOjFweCBzb2xpZDtib3JkZXItcmFkaXVzOjUwJTtib3JkZXItY29sb3I6I2Y4ZjlmYX0uY2FtZXJhLWN0cmwtYnRuLWJpZywuY2FtZXJhLWN0cmwtYnRuLWJpZy1pbm5lcntkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tYm90dG9tOjA7dmVydGljYWwtYWxpZ246bWlkZGxlfS5jYW1lcmEtY3RybC1idG4tYmlne2hlaWdodDo4NHB4O3dpZHRoOjg0cHg7cGFkZGluZzoycHg7LW1zLXRvdWNoLWFjdGlvbjptYW5pcHVsYXRpb247dG91Y2gtYWN0aW9uOm1hbmlwdWxhdGlvbjtjdXJzb3I6cG9pbnRlcjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7YmFja2dyb3VuZC1jb2xvcjojMzQzYTQwO2JhY2tncm91bmQtaW1hZ2U6bm9uZTtib3JkZXI6OHB4IHNvbGlkO2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlci1jb2xvcjojZjhmOWZhfS5maXhlZHtwb3NpdGlvbjpmaXhlZDt6LWluZGV4OjEwMzB9LmZpeGVkLXRvcHt0b3A6MH0uZml4ZWQtYm90dG9tLC5maXhlZC10b3B7cG9zaXRpb246Zml4ZWQ7cmlnaHQ6MDtsZWZ0OjA7ei1pbmRleDoxMDMwfS5maXhlZC1ib3R0b217Ym90dG9tOjB9LmNhbWVyYS1jdHJsLWJhcntwYWRkaW5nLXRvcDoxMHB4O3BhZGRpbmctYm90dG9tOjEwcHg7ei1pbmRleDoxMDMyIWltcG9ydGFudH0uYmctZGFya3tiYWNrZ3JvdW5kLWNvbG9yOiMzNDNhNDAhaW1wb3J0YW50fS56aW5kZXgtdmlkZW97ei1pbmRleDoxMDMwIWltcG9ydGFudH0uZGlzcGxheS1taXJyb3J7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGVYKC0xKTt0cmFuc2Zvcm06c2NhbGVYKC0xKX0uemluZGV4LXZpZGVvLW92ZXJsYXl7ei1pbmRleDoxMDMxIWltcG9ydGFudH0udy0xMDB7d2lkdGg6MTAwJSFpbXBvcnRhbnR9LmgtMTAwe2hlaWdodDoxMDAlIWltcG9ydGFudH1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG4iLCIvLyBTZXJ2aWNlIHJlc29sdmluZyB2aWRlbyBhbmQgY2FudmFzIHNjcmVlbiBzaXplc1xuY2xhc3MgQ2FtZXJhQ2FwdHVyZVNjcmVlbkhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICAkbG9nLFxuICAgIENhbWVyYU92ZXJsYXlIYW5kbGVyXG4gICkge1xuICAgIHRoaXMuJGxvZyA9ICRsb2c7XG4gICAgdGhpcy5DYW1lcmFPdmVybGF5SGFuZGxlciA9IENhbWVyYU92ZXJsYXlIYW5kbGVyO1xuICB9XG5cbiAgLyogR2V0IGhlaWdodCBhbmQgd2lkdGggb2YgdmlkZW8gaW4gcGVyY2VudGFnZSAqIDEwMFxuICAgKiBGdW5jdGlvbiBpcyBiYXNlZCBvZmYgdGhlIGZhY3QgdGhhdCB2aWRlbyBzdHJlYW0gd2lsbCBleHBhbmRcbiAgICogdG8gZmlsbCBvbmUgZGltZW5zaW9uIG9mIHRoZSBzY3JlZW4gYW5kIGJlIGNlbnRlcmVkIHdydCB0aGUgb3RoZXIgZGltZW5zaW9uXG4gICAqIFdlIG5lZWQgdG8ga25vdyB3aGljaCBkaW1lbnNpb24gaXQgaXNcbiAgICovXG4gIGdldFZpZGVvU3BlY2lmaWNhdGlvbnMoXG4gICAgc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCxcbiAgICB2aWRlb1Jlc0hlaWdodCwgdmlkZW9SZXNXaWR0aFxuICApIHtcbiAgICB0aGlzLiRsb2cuZGVidWcoJ0NvbXB1dGluZyB2aWRlbyBzcGVjcycpO1xuICAgIGxldCB2aWRlb0hlaWdodEluUGVyY2VudGFnZSA9IDEwMDtcbiAgICBsZXQgdmlkZW9XaWR0aEluUGVyY2VudGFnZSA9IDEwMDtcblxuICAgIGlmIChoYXNOYXJyb3dWaWRlb0luUG9ydHJhaXRTY3JlZW4oXG4gICAgICBzY3JlZW5IZWlnaHQsIHNjcmVlbldpZHRoLFxuICAgICAgdmlkZW9SZXNIZWlnaHQsIHZpZGVvUmVzV2lkdGhcbiAgICApKSB7XG4gICAgICB0aGlzLiRsb2cuZGVidWcoJyh2aWRlbykgUG9ydHJhaXQgbmFycm93IHNjcmVlbicpO1xuICAgICAgY29uc3QgdmlkZW9SZXNSYXRpbyA9IHZpZGVvUmVzSGVpZ2h0IC8gdmlkZW9SZXNXaWR0aDtcbiAgICAgIGNvbnN0IHNjcmVlblJlc1JhdGlvID0gc2NyZWVuSGVpZ2h0IC8gc2NyZWVuV2lkdGg7XG4gICAgICB2aWRlb0hlaWdodEluUGVyY2VudGFnZSA9IHBhcnNlSW50KCh2aWRlb1Jlc1JhdGlvIC8gc2NyZWVuUmVzUmF0aW8pICogMTAwLCAxMCk7XG4gICAgfSBlbHNlIGlmIChoYXNOYXJyb3dWaWRlb0luTGFuZFNjYXBlU2NyZWVuKFxuICAgICAgc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCxcbiAgICAgIHZpZGVvUmVzSGVpZ2h0LCB2aWRlb1Jlc1dpZHRoXG4gICAgKSkge1xuICAgICAgdGhpcy4kbG9nLmRlYnVnKCcodmlkZW8pIExhbmRzY2FwZSBuYXJyb3cgc2NyZWVuJyk7XG4gICAgICBjb25zdCB2aWRlb1Jlc1JhdGlvID0gdmlkZW9SZXNXaWR0aCAvIHZpZGVvUmVzSGVpZ2h0O1xuICAgICAgY29uc3Qgc2NyZWVuUmVzUmF0aW8gPSBzY3JlZW5XaWR0aCAvIHNjcmVlbkhlaWdodDtcbiAgICAgIHZpZGVvV2lkdGhJblBlcmNlbnRhZ2UgPSBwYXJzZUludCgodmlkZW9SZXNSYXRpbyAvIHNjcmVlblJlc1JhdGlvKSAqIDEwMCwgMTApO1xuICAgIH1cbiAgICAvLyBXZSBzaG91bGQgbm90IGdldCBhIFwibm9ybWFsXCIgY2FzZSBoZXJlXG4gICAgdGhpcy4kbG9nLmRlYnVnKGB2aWRlbyB3aWR0aCA6ICR7dmlkZW9XaWR0aEluUGVyY2VudGFnZX1gKTtcbiAgICB0aGlzLiRsb2cuZGVidWcoYHZpZGVvIGhlaWdodCA6ICR7dmlkZW9IZWlnaHRJblBlcmNlbnRhZ2V9YCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdmlkZW9IZWlnaHRJblBlcmNlbnRhZ2UsXG4gICAgICB2aWRlb1dpZHRoSW5QZXJjZW50YWdlXG4gICAgfTtcbiAgfVxuXG4gIC8qIEdldCBkaW1lbnNpb24sIG9mZnNldCBhbmQgcmVzb2x1dGlvbiBvZiBkcmF3aW5nIGZvciBjYW52YXNcbiAgICogRnVuY3Rpb24gaXMgYmFzZWQgb2ZmIHRoZSBmYWN0IHRoYXQgdmlkZW8gc3RyZWFtIHdpbGwgZXhwYW5kXG4gICAqIHRvIGZpbGwgb25lIGRpbWVuc2lvbiBvZiB0aGUgc2NyZWVuIGFuZCBiZSBjZW50ZXJlZCB3cnQgdGhlIG90aGVyIGRpbWVuc2lvblxuICAgKiBXZSBuZWVkIHRvIGtub3cgd2hpY2ggZGltZW5zaW9uIGl0IGlzXG4gICAqL1xuICBnZXRDYW52YXNTcGVjaWZpY2F0aW9ucyhcbiAgICB2aWRlb0hlaWdodEluUGVyY2VudGFnZSwgdmlkZW9XaWR0aEluUGVyY2VudGFnZSxcbiAgICBzY3JlZW5IZWlnaHQsIHNjcmVlbldpZHRoLFxuICAgIHZpZGVvUmVzSGVpZ2h0LCB2aWRlb1Jlc1dpZHRoXG4gICkge1xuICAgIHRoaXMuJGxvZy5kZWJ1ZygnQ29tcHV0aW5nIGNhbnZhcyBzcGVjcycpO1xuICAgIHRoaXMuJGxvZy5kZWJ1ZyhgdmlkZW8gd2lkdGggOiAke3ZpZGVvV2lkdGhJblBlcmNlbnRhZ2V9YCk7XG4gICAgdGhpcy4kbG9nLmRlYnVnKGB2aWRlbyBoZWlnaHQgOiAke3ZpZGVvSGVpZ2h0SW5QZXJjZW50YWdlfWApO1xuICAgIHRoaXMuJGxvZy5kZWJ1Zyhgc2NyZWVuIHdpZHRoIDogJHtzY3JlZW5XaWR0aH1gKTtcbiAgICB0aGlzLiRsb2cuZGVidWcoYHNjcmVlbiBoZWlnaHQgOiAke3NjcmVlbkhlaWdodH1gKTtcbiAgICB0aGlzLiRsb2cuZGVidWcoYHZpZGVvIHJlcyB3aWR0aCA6ICR7dmlkZW9SZXNXaWR0aH1gKTtcbiAgICB0aGlzLiRsb2cuZGVidWcoYHZpZGVvIHJlcyBoZWlnaHQgOiAke3ZpZGVvUmVzSGVpZ2h0fWApO1xuXG4gICAgbGV0IGNhbnZhc0RpbWVuc2lvbnMgPSBudWxsO1xuXG4gICAgLy8gaGFuZGxlIGxheW91dCB3aGVyZSBhIGxhbmRzY2FwZSBzY3JlZW4gaGFzIGEgbG9uZyBhbmQgbmFycm93ZXIgY2FtZXJhIHdpbmRvdyBpbiBpdFxuICAgIGlmIChoYXNOYXJyb3dWaWRlb0luUG9ydHJhaXRTY3JlZW4oXG4gICAgICBzY3JlZW5IZWlnaHQsIHNjcmVlbldpZHRoLFxuICAgICAgdmlkZW9SZXNIZWlnaHQsIHZpZGVvUmVzV2lkdGhcbiAgICApKSB7XG4gICAgICB0aGlzLiRsb2cuZGVidWcoJyhjYW52YXMpIFBvcnRyYWl0IG5hcnJvdyBzY3JlZW4nKTtcbiAgICAgIGNhbnZhc0RpbWVuc2lvbnMgPSBnZXRDYW52YXNTcGVjc0ZvclBvcnRyYWl0U2NyZWVuV2l0aE5hcnJvd1ZpZGVvKFxuICAgICAgICB2aWRlb0hlaWdodEluUGVyY2VudGFnZSwgdmlkZW9XaWR0aEluUGVyY2VudGFnZSxcbiAgICAgICAgc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCxcbiAgICAgICAgdmlkZW9SZXNIZWlnaHQsIHZpZGVvUmVzV2lkdGhcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChoYXNOYXJyb3dWaWRlb0luTGFuZFNjYXBlU2NyZWVuKFxuICAgICAgc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCxcbiAgICAgIHZpZGVvUmVzSGVpZ2h0LCB2aWRlb1Jlc1dpZHRoXG4gICAgKSkge1xuICAgICAgdGhpcy4kbG9nLmRlYnVnKCcoY2FudmFzKSBMYW5kc2NhcGUgbmFycm93IHNjcmVlbicpO1xuICAgICAgY2FudmFzRGltZW5zaW9ucyA9IGdldENhbnZhc1NwZWNzRm9yTGFuZHNjYXBlU2NyZWVuV2l0aE5hcnJvd1ZpZGVvKFxuICAgICAgICB2aWRlb0hlaWdodEluUGVyY2VudGFnZSwgdmlkZW9XaWR0aEluUGVyY2VudGFnZSxcbiAgICAgICAgc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCxcbiAgICAgICAgdmlkZW9SZXNIZWlnaHQsIHZpZGVvUmVzV2lkdGhcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJGxvZy5kZWJ1ZygnKGNhbnZhcykgTm9ybWFsIHNjcmVlbicpO1xuICAgICAgY2FudmFzRGltZW5zaW9ucyA9IGdldENhbnZhc1NwZWNzKFxuICAgICAgICBzY3JlZW5IZWlnaHQsIHNjcmVlbldpZHRoLFxuICAgICAgICB2aWRlb1Jlc0hlaWdodCwgdmlkZW9SZXNXaWR0aFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7XG4gICAgICBoZWlnaHQsIHdpZHRoLFxuICAgICAgeU9mZnNldCwgeE9mZnNldCxcbiAgICAgIHBhaW50SGVpZ2h0LCBwYWludFdpZHRoXG4gICAgfSA9IGNhbnZhc0RpbWVuc2lvbnM7XG5cbiAgICB0aGlzLiRsb2cuZGVidWcoYGNhbnZhcyB3aWR0aCA6ICR7d2lkdGh9YCk7XG4gICAgdGhpcy4kbG9nLmRlYnVnKGBjYW52YXMgaGVpZ2h0IDogJHtoZWlnaHR9YCk7XG4gICAgdGhpcy4kbG9nLmRlYnVnKGBjYW52YXMgeC1vZmZzZXQgOiAke3hPZmZzZXR9YCk7XG4gICAgdGhpcy4kbG9nLmRlYnVnKGBjYW52YXMgeS1vZmZzZXQgOiAke3lPZmZzZXR9YCk7XG4gICAgdGhpcy4kbG9nLmRlYnVnKGBjYW52YXMgd2lkdGggdG8gcGFpbnQgOiAke3BhaW50V2lkdGh9YCk7XG4gICAgdGhpcy4kbG9nLmRlYnVnKGBjYW52YXMgaGVpZ2h0IHRvIHBhaW50IDogJHtwYWludEhlaWdodH1gKTtcblxuICAgIHJldHVybiBjYW52YXNEaW1lbnNpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaW1lbnNpb24sIG9mZnNldCBvZiBjYW1lcmEgb3ZlcmxheVxuICAgKi9cbiAgZ2V0T3ZlcmxheVNwZWNpZmljYXRpb25zKFxuICAgIHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGgsXG4gICAgb3ZlcmxheU5hdHVyYWxIZWlnaHQsIG92ZXJsYXlOYXR1cmFsV2lkdGhcbiAgKSB7XG4gICAgY29uc3Qge1xuICAgICAgaGVpZ2h0OiBjb250YWluZXJIZWlnaHQsIHdpZHRoOiBjb250YWluZXJXaWR0aCxcbiAgICAgIHlPZmZzZXQ6IGNvbnRhaW5lcllPZmZzZXQsIHhPZmZzZXQ6IGNvbnRhaW5lclhPZmZzZXQsXG4gICAgfSA9IENhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyLmdldE92ZXJsYXlDb250YWluZXIoc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCk7XG5cbiAgICBjb25zdCB7XG4gICAgICBoZWlnaHQ6IG92ZXJsYXlIZWlnaHQsIHdpZHRoOiBvdmVybGF5V2lkdGgsXG4gICAgICB5T2Zmc2V0OiBvdmVybGF5WU9mZnNldCwgeE9mZnNldDogb3ZlcmxheVhPZmZzZXQsXG4gICAgfSA9IHRoaXMuQ2FtZXJhT3ZlcmxheUhhbmRsZXIuZ2V0T3ZlcmxheVNwZWNpZmljYXRpb25zV3J0Q29udGFpbmVyKFxuICAgICAgY29udGFpbmVySGVpZ2h0LCBjb250YWluZXJXaWR0aCxcbiAgICAgIG92ZXJsYXlOYXR1cmFsSGVpZ2h0LCBvdmVybGF5TmF0dXJhbFdpZHRoXG4gICAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IG92ZXJsYXlIZWlnaHQsXG4gICAgICB3aWR0aDogb3ZlcmxheVdpZHRoLFxuICAgICAgeU9mZnNldDogY29udGFpbmVyWU9mZnNldCArIG92ZXJsYXlZT2Zmc2V0LFxuICAgICAgeE9mZnNldDogY29udGFpbmVyWE9mZnNldCArIG92ZXJsYXlYT2Zmc2V0XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSAxOjEgYm94IGNvbnRhaW5lciBiYXNlZCBvbiBzY3JlZW4gc2l6ZSB0byByZW5kZXIgb3ZlcmxheVxuICAgKi9cbiAgc3RhdGljIGdldE92ZXJsYXlDb250YWluZXIoc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCkge1xuICAgIGlmIChDYW1lcmFDYXB0dXJlU2NyZWVuSGFuZGxlci5pc1NjcmVlblBvcnRyYWl0KHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGgpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IHNjcmVlbldpZHRoLFxuICAgICAgICB3aWR0aDogc2NyZWVuV2lkdGgsXG4gICAgICAgIHlPZmZzZXQ6IChzY3JlZW5IZWlnaHQgLSBzY3JlZW5XaWR0aCkgLyAyLjUsIC8vIFBsYWNlIGNvbnRhaW5lciBhYm92ZSBtaWRkbGVcbiAgICAgICAgeE9mZnNldDogMCxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gaXNMYW5kc2NhcGVcbiAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBzY3JlZW5IZWlnaHQgKiAwLjkwOyAvLyBMZWF2ZSB0aGUgYnRtIDEwJSBibGFua1xuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IGF2YWlsYWJsZUhlaWdodCxcbiAgICAgIHdpZHRoOiBhdmFpbGFibGVIZWlnaHQsXG4gICAgICB5T2Zmc2V0OiAwLFxuICAgICAgeE9mZnNldDogKHNjcmVlbldpZHRoIC0gYXZhaWxhYmxlSGVpZ2h0KSAvIDIsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBpc1NjcmVlblBvcnRyYWl0KHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGgpIHtcbiAgICByZXR1cm4gc2NyZWVuSGVpZ2h0ID49IHNjcmVlbldpZHRoO1xuICB9XG5cbiAgc3RhdGljIGlzU2NyZWVuTGFuZHNjYXBlKHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGgpIHtcbiAgICByZXR1cm4gc2NyZWVuV2lkdGggPj0gc2NyZWVuSGVpZ2h0O1xuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb25zIGJlbG93IGhhbmRsZSBjYXNlcyB3aGVuIHNjcmVlbiBkaW1lbnNpb24gYW5kIHZpZGVvIHJlc29sdXRpb25cbiAqIHJlc29sdmUgaW50byBhIG5hcnJvdyB2aWRlbyBzY3JlZW4gd2l0aCB0aGluIGFuZCB1Z2x5IG1hcmdpbmVzIGF0IHNpZGVzXG4gKiBJbiB0aGlzIGNhc2Ugd2UgdHJ1bmNhdGUgdGhlIGRpbWVuc2lvbiBvZiB2aWRlbyBjYXVzaW5nIHRoZSB1Z2x5IG1hcmdpbmVzXG4gKiBhbmQgZ2V0IHZpZGVvIHRvIGZpbGwgdXAgdGhlIGVudGlyZSBzY3JlZW5cbiAqL1xuXG5mdW5jdGlvbiBoYXNOYXJyb3dWaWRlb0luUG9ydHJhaXRTY3JlZW4oc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aCwgdmlkZW9SZXNIZWlnaHQsIHZpZGVvUmVzV2lkdGgpIHtcbiAgcmV0dXJuIENhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyLmlzU2NyZWVuUG9ydHJhaXQoc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aClcbiAgICAmJiB2aWRlb1Jlc0hlaWdodCAvIHZpZGVvUmVzV2lkdGggPiBzY3JlZW5IZWlnaHQgLyBzY3JlZW5XaWR0aDtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FudmFzU3BlY3NGb3JQb3J0cmFpdFNjcmVlbldpdGhOYXJyb3dWaWRlbyhcbiAgdmlkZW9IZWlnaHQsIHZpZGVvV2lkdGgsXG4gIHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGgsXG4gIHZpZGVvUmVzSGVpZ2h0LCB2aWRlb1Jlc1dpZHRoXG4pIHtcbiAgcmV0dXJuIHtcbiAgICBoZWlnaHQ6IHNjcmVlbkhlaWdodCxcbiAgICB3aWR0aDogc2NyZWVuV2lkdGgsXG4gICAgeU9mZnNldDogMCxcbiAgICB4T2Zmc2V0OiAwLFxuICAgIHBhaW50SGVpZ2h0OiBwYXJzZUludCh2aWRlb1Jlc0hlaWdodCAvICh2aWRlb0hlaWdodCAvIDEwMC4wKSwgMTApLFxuICAgIHBhaW50V2lkdGg6IHZpZGVvUmVzV2lkdGhcbiAgfTtcbn1cblxuZnVuY3Rpb24gaGFzTmFycm93VmlkZW9JbkxhbmRTY2FwZVNjcmVlbihzY3JlZW5IZWlnaHQsIHNjcmVlbldpZHRoLCB2aWRlb1Jlc0hlaWdodCwgdmlkZW9SZXNXaWR0aCkge1xuICByZXR1cm4gQ2FtZXJhQ2FwdHVyZVNjcmVlbkhhbmRsZXIuaXNTY3JlZW5MYW5kc2NhcGUoc2NyZWVuSGVpZ2h0LCBzY3JlZW5XaWR0aClcbiAgICAmJiB2aWRlb1Jlc1dpZHRoIC8gdmlkZW9SZXNIZWlnaHQgPiBzY3JlZW5XaWR0aCAvIHNjcmVlbkhlaWdodDtcbn1cblxuZnVuY3Rpb24gZ2V0Q2FudmFzU3BlY3NGb3JMYW5kc2NhcGVTY3JlZW5XaXRoTmFycm93VmlkZW8oXG4gIHZpZGVvSGVpZ2h0LCB2aWRlb1dpZHRoLFxuICBzY3JlZW5IZWlnaHQsIHNjcmVlbldpZHRoLFxuICB2aWRlb1Jlc0hlaWdodCwgdmlkZW9SZXNXaWR0aFxuKSB7XG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBzY3JlZW5IZWlnaHQsXG4gICAgd2lkdGg6IHNjcmVlbldpZHRoLFxuICAgIHlPZmZzZXQ6IDAsXG4gICAgeE9mZnNldDogMCxcbiAgICBwYWludEhlaWdodDogdmlkZW9SZXNIZWlnaHQsXG4gICAgcGFpbnRXaWR0aDogcGFyc2VJbnQodmlkZW9SZXNXaWR0aCAvICh2aWRlb1dpZHRoIC8gMTAwKSwgMTApXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldENhbnZhc1NwZWNzKHNjcmVlbkhlaWdodCwgc2NyZWVuV2lkdGgsIHZpZGVvUmVzSGVpZ2h0LCB2aWRlb1Jlc1dpZHRoKSB7XG4gIGNvbnN0IGhlaWdodE11bHQgPSBzY3JlZW5IZWlnaHQgLyB2aWRlb1Jlc0hlaWdodDtcbiAgY29uc3Qgd2lkdGhNdWx0ID0gc2NyZWVuV2lkdGggLyB2aWRlb1Jlc1dpZHRoO1xuICBsZXQgY2FudmFzV2lkdGggPSAwO1xuICBsZXQgY2FudmFzSGVpZ2h0ID0gMDtcbiAgbGV0IGNhbnZhc1hPZmZzZXQgPSAwO1xuICBsZXQgY2FudmFzWU9mZnNldCA9IDA7XG5cbiAgaWYgKGhlaWdodE11bHQgPT09IHdpZHRoTXVsdCkge1xuICAgIGNhbnZhc1dpZHRoID0gc2NyZWVuV2lkdGg7XG4gICAgY2FudmFzSGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuICAgIGNhbnZhc1hPZmZzZXQgPSAwO1xuICAgIGNhbnZhc1lPZmZzZXQgPSAwO1xuICB9IGVsc2UgaWYgKGhlaWdodE11bHQgPiB3aWR0aE11bHQpIHtcbiAgICBjYW52YXNXaWR0aCA9IHNjcmVlbldpZHRoO1xuICAgIGNhbnZhc0hlaWdodCA9IHBhcnNlSW50KHdpZHRoTXVsdCAqIHZpZGVvUmVzSGVpZ2h0LCAxMCk7XG4gICAgY2FudmFzWE9mZnNldCA9IDA7XG4gICAgY2FudmFzWU9mZnNldCA9IHBhcnNlSW50KChzY3JlZW5IZWlnaHQgLSBjYW52YXNIZWlnaHQpIC8gMiwgMTApO1xuICB9IGVsc2Uge1xuICAgIGNhbnZhc1dpZHRoID0gcGFyc2VJbnQoaGVpZ2h0TXVsdCAqIHZpZGVvUmVzV2lkdGgsIDEwKTtcbiAgICBjYW52YXNIZWlnaHQgPSBzY3JlZW5IZWlnaHQ7XG4gICAgY2FudmFzWE9mZnNldCA9IHBhcnNlSW50KChzY3JlZW5XaWR0aCAtIGNhbnZhc1dpZHRoKSAvIDIsIDEwKTtcbiAgICBjYW52YXNZT2Zmc2V0ID0gMDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgaGVpZ2h0OiBjYW52YXNIZWlnaHQsXG4gICAgd2lkdGg6IGNhbnZhc1dpZHRoLFxuICAgIHlPZmZzZXQ6IGNhbnZhc1lPZmZzZXQsXG4gICAgeE9mZnNldDogY2FudmFzWE9mZnNldCxcbiAgICBwYWludEhlaWdodDogdmlkZW9SZXNIZWlnaHQsXG4gICAgcGFpbnRXaWR0aDogdmlkZW9SZXNXaWR0aFxuICB9O1xufVxuXG5DYW1lcmFDYXB0dXJlU2NyZWVuSGFuZGxlci4kaW5qZWN0ID0gW1xuICAnJGxvZycsXG4gICdDYW1lcmFPdmVybGF5SGFuZGxlcidcbl07XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYUNhcHR1cmVTY3JlZW5IYW5kbGVyO1xuIiwiLy8gU2VydmljZSByZXNvbHZpbmcgdmlkZW8gYW5kIGNhbnZhcyBzY3JlZW4gc2l6ZXNcbmNsYXNzIENhbWVyYU92ZXJsYXlIYW5kbGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICkge1xuICAgIHRoaXMub3ZlcmxheVhNYXJnaW4gPSAwLjA3NTtcbiAgICB0aGlzLm92ZXJsYXlZTWFyZ2luID0gMC4wNzU7XG4gIH1cblxuICAvKipcbiAgICogR2l2ZW4gYSBib3ggY29udGFpbmVyLCBwcm9kdWNlIG92ZXJsYXkgd2l0aCBjZXJ0YWluIGRpbWVuc2lvbnNcbiAgICogYW5kIGNlcnRhaW4gb2Zmc2V0cyB3cnQgdGhlIGNvbnRhaW5lclxuICAgKi9cbiAgZ2V0T3ZlcmxheVNwZWNpZmljYXRpb25zV3J0Q29udGFpbmVyKFxuICAgIGNvbnRhaW5lckhlaWdodCwgY29udGFpbmVyV2lkdGgsXG4gICAgb3ZlcmxheU5hdHVyYWxIZWlnaHQsIG92ZXJsYXlOYXR1cmFsV2lkdGhcbiAgKSB7XG4gICAgY29uc3Qgb3ZlcmxheUhlaWdodFdpZHRoUmF0aW8gPSBvdmVybGF5TmF0dXJhbEhlaWdodCAvIG92ZXJsYXlOYXR1cmFsV2lkdGg7XG4gICAgLy8gTWF4IHdpZHRoIGFuZCBoZWlnaHQgYXJlIGNvbnRhaW5lciB3aWR0aC9oZWlnaHQgd2l0aCBtYXJnaW5zIGFwcGxpZWRcbiAgICBjb25zdCBtYXhXaWR0aCA9IGNvbnRhaW5lcldpZHRoIC0gMiAqIGNvbnRhaW5lcldpZHRoICogdGhpcy5vdmVybGF5WE1hcmdpbjtcbiAgICBjb25zdCBtYXhIZWlnaHQgPSBjb250YWluZXJIZWlnaHQgLSAyICogY29udGFpbmVySGVpZ2h0ICogdGhpcy5vdmVybGF5WU1hcmdpbjtcblxuICAgIGxldCB3aWR0aDtcbiAgICBsZXQgaGVpZ2h0O1xuICAgIC8vIE92ZXJsYXkgZGltZW5zaW9uIGlzIGJlaW5nIHJlc3RyaWN0ZWQgYnkgd2lkdGhcbiAgICBpZiAobWF4V2lkdGggKiBvdmVybGF5SGVpZ2h0V2lkdGhSYXRpbyA+PSBtYXhIZWlnaHQpIHtcbiAgICAgIGhlaWdodCA9IG1heEhlaWdodDtcbiAgICAgIHdpZHRoID0gaGVpZ2h0IC8gb3ZlcmxheUhlaWdodFdpZHRoUmF0aW87XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpZHRoID0gbWF4V2lkdGg7XG4gICAgICBoZWlnaHQgPSB3aWR0aCAqIG92ZXJsYXlIZWlnaHRXaWR0aFJhdGlvO1xuICAgIH1cblxuICAgIGNvbnN0IHhPZmZzZXQgPSAoY29udGFpbmVyV2lkdGggLSB3aWR0aCkgLyAyO1xuICAgIGNvbnN0IHlPZmZzZXQgPSAoY29udGFpbmVySGVpZ2h0IC0gaGVpZ2h0KSAvIDI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaGVpZ2h0LFxuICAgICAgd2lkdGgsXG4gICAgICB5T2Zmc2V0LFxuICAgICAgeE9mZnNldFxuICAgIH07XG4gIH1cbn1cblxuQ2FtZXJhT3ZlcmxheUhhbmRsZXIuJGluamVjdCA9IFtcbl07XG5cbmV4cG9ydCBkZWZhdWx0IENhbWVyYU92ZXJsYXlIYW5kbGVyO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgVXBsb2FkQnV0dG9uIGZyb20gJy4vdXBsb2FkLWJ1dHRvbi5jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuZm9ybXMudXBsb2FkLmJ1dHRvbicsIFtdKVxuICAuY29tcG9uZW50KCd0d1VwbG9hZEJ1dHRvbicsIFVwbG9hZEJ1dHRvbilcbiAgLm5hbWU7XG4iLCJpbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi91cGxvYWQtYnV0dG9uLmh0bWwnO1xuaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi91cGxvYWQtYnV0dG9uLmNvbnRyb2xsZXInO1xuXG5jb25zdCBVcGxvYWRCdXR0b24gPSB7XG4gIHRlbXBsYXRlLFxuICBjb250cm9sbGVyLFxuICBiaW5kaW5nczoge1xuICAgIG5hbWU6ICc8JyxcbiAgICBsYWJlbDogJzwnLFxuICAgIGlzU2Vjb25kYXJ5OiAnPCcsXG4gICAgc21hbGw6ICc8JyxcbiAgICBibG9jazogJzwnLFxuICAgIGFjY2VwdDogJzwnLFxuICAgIG1vZGVsOiAnPCcsXG4gICAgbXVsdGlwbGU6ICc8JyxcbiAgICBkaXNhYmxlZDogJzwnLFxuICAgIG9uQ2xpY2s6ICcmJyxcbiAgICBvbkNhcHR1cmU6ICcmJ1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBVcGxvYWRCdXR0b247XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGxhYmVsIGNsYXNzPWJ0biBuZy1jbGljaz0kY3RybC5vbkJ1dHRvbkNsaWNrKCkgbmctY2xhc3M9XFxcInsgJ2Rpc2FibGVkJzogJGN0cmwuZGlzYWJsZWQsXFxuICAgICAgICAgICAgICAnYnRuLXByaW1hcnknOiAhJGN0cmwuaXNTZWNvbmRhcnksXFxuICAgICAgICAgICAgICAnYnRuLWRlZmF1bHQnOiAkY3RybC5pc1NlY29uZGFyeSxcXG4gICAgICAgICAgICAgICdidG4tYmxvY2snOiAkY3RybC5ibG9jayxcXG4gICAgICAgICAgICAgICdidG4tc20nOiAkY3RybC5zbWFsbFxcbiAgICAgICAgICAgIH1cXFwiPiA8c3BhbiBuZy1pZj0kY3RybC5sYWJlbCBuZy1iaW5kPSRjdHJsLmxhYmVsPjwvc3Bhbj4gPHNwYW4gbmctaWY9ISRjdHJsLmxhYmVsIGNsYXNzPVxcXCJpY29uIGljb24tdXBsb2FkIG0tci0wXFxcIj48L3NwYW4+IDxzcGFuIG5nLWlmPSEkY3RybC5pc0xpdmVDYW1lcmFVcGxvYWQ+IDxpbnB1dCBuZy1pZj0hJGN0cmwubXVsdGlwbGUgdHctZmlsZS1pbnB1dCB0eXBlPWZpbGUgYWNjZXB0PVxcXCJ7eyAkY3RybC5hY2NlcHQgfX1cXFwiIGNsYXNzPVxcXCJ0dy1kcm9wcGFibGUtaW5wdXQgaGlkZGVuXFxcIiBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIG5hbWU9XFxcInt7ICRjdHJsLm5hbWUgfX1cXFwiIG9uLXVzZXItaW5wdXQ9JGN0cmwub25CdXR0b25DYXB0dXJlKCkgbmctbW9kZWw9JGN0cmwubW9kZWwgLz4gPGlucHV0IG5nLWlmPSRjdHJsLm11bHRpcGxlIHR3LWZpbGUtaW5wdXQgdHlwZT1maWxlIGFjY2VwdD1cXFwie3sgJGN0cmwuYWNjZXB0IH19XFxcIiBjbGFzcz1cXFwidHctZHJvcHBhYmxlLWlucHV0IGhpZGRlblxcXCIgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuYW1lPVxcXCJ7eyAkY3RybC5uYW1lIH19XFxcIiBvbi11c2VyLWlucHV0PSRjdHJsLm9uQnV0dG9uQ2FwdHVyZSgpIG5nLW1vZGVsPSRjdHJsLm1vZGVsIG11bHRpcGxlPW11bHRpcGxlIC8+IDwvc3Bhbj4gPC9sYWJlbD5cIjsiLCJjbGFzcyBDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJGVsZW1lbnQpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gIH1cblxuICBvbkJ1dHRvbkNsaWNrKCkge1xuICAgIGlmICh0aGlzLm9uQ2xpY2spIHtcbiAgICAgIHRoaXMub25DbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIG9uQnV0dG9uQ2FwdHVyZSgpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy4kZWxlbWVudFswXTtcbiAgICBjb25zdCB1cGxvYWRJbnB1dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnR3LWRyb3BwYWJsZS1pbnB1dCcpO1xuICAgIGNvbnN0IGZpbGVzID0gdXBsb2FkSW5wdXQuZmlsZXM7XG5cbiAgICB0aGlzLm9uQ2FwdHVyZSh7IGZpbGVzIH0pO1xuICB9XG59XG5cbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnXTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IENhbWVyYUJ1dHRvbiBmcm9tICcuL2NhbWVyYS1idXR0b24uY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5zdHlsZWd1aWRlLmZvcm1zLnVwbG9hZC5jYW1lcmEtYnV0dG9uJywgW10pXG4gIC5jb21wb25lbnQoJ3R3Q2FtZXJhQnV0dG9uJywgQ2FtZXJhQnV0dG9uKVxuICAubmFtZTtcbiIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2NhbWVyYS1idXR0b24uaHRtbCc7XG5pbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NhbWVyYS1idXR0b24uY29udHJvbGxlcic7XG5cbmNvbnN0IENhbWVyYUJ1dHRvbiA9IHtcbiAgdGVtcGxhdGUsXG4gIGNvbnRyb2xsZXIsXG4gIGJpbmRpbmdzOiB7XG4gICAgbGFiZWw6ICc8JyxcbiAgICBkaXNhYmxlZDogJzwnLFxuICAgIG9uQ2xpY2s6ICcmJyxcbiAgICBvbkNhcHR1cmU6ICcmJ1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDYW1lcmFCdXR0b247XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGxhYmVsIGNsYXNzPVxcXCJidG4gYnRuLXByaW1hcnlcXFwiIG5nLWNsaWNrPSRjdHJsLm9uQnV0dG9uQ2xpY2soKSBuZy1jbGFzcz1cXFwieyAnZGlzYWJsZWQnOiAkY3RybC5kaXNhYmxlZCB9XFxcIj4gPHNwYW4gbmctaWY9JGN0cmwubGFiZWwgbmctYmluZD0kY3RybC5sYWJlbD48L3NwYW4+IDxzcGFuIG5nLWlmPSEkY3RybC5sYWJlbCBjbGFzcz1cXFwiaWNvbiBpY29uLXVwbG9hZCBtLXItMFxcXCI+PC9zcGFuPiA8L2xhYmVsPiBcIjsiLCJjbGFzcyBDb250cm9sbGVyIHtcbiAgb25CdXR0b25DbGljaygpIHtcbiAgICBpZiAodGhpcy5vbkNsaWNrKSB7XG4gICAgICB0aGlzLm9uQ2xpY2soKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsIlxuZnVuY3Rpb24gRmlsZUlucHV0RGlyZWN0aXZlKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnQScsXG4gICAgY29udHJvbGxlcjogRmlsZUlucHV0Q29udHJvbGxlcixcbiAgICBjb250cm9sbGVyQXM6ICckY3RybCcsXG4gICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgb25Vc2VySW5wdXQ6ICcmJ1xuICAgIH1cbiAgfTtcbn1cblxuY2xhc3MgRmlsZUlucHV0Q29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRlbGVtZW50KSB7XG4gICAgY29uc3QgZWxlbWVudCA9ICRlbGVtZW50WzBdO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMub25Vc2VySW5wdXRcbiAgICAgICAgJiYgdHlwZW9mIHRoaXMub25Vc2VySW5wdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5vblVzZXJJbnB1dCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbkZpbGVJbnB1dENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnXTtcblxuZXhwb3J0IGRlZmF1bHQgRmlsZUlucHV0RGlyZWN0aXZlO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgTXVsdGlVcGxvYWQgZnJvbSAnLi9tdWx0aS11cGxvYWQuY29tcG9uZW50JztcbmltcG9ydCBEcmFnQW5kRHJvcCBmcm9tICcuLi8uLi9kcmFnLWFuZC1kcm9wJztcbmltcG9ydCBQcm9jZXNzaW5nQ2FyZCBmcm9tICcuLi9wcm9jZXNzaW5nLWNhcmQnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3LnN0eWxlZ3VpZGUuZm9ybXMudXBsb2FkLm11bHRpJywgW1xuICAgIFByb2Nlc3NpbmdDYXJkLFxuICAgIERyYWdBbmREcm9wXG4gIF0pXG4gIC5jb21wb25lbnQoJ3R3TXVsdGlVcGxvYWQnLCBNdWx0aVVwbG9hZClcbiAgLm5hbWU7XG4iLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL211bHRpLXVwbG9hZC5jb250cm9sbGVyJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL211bHRpLXVwbG9hZC5odG1sJztcblxuY29uc3QgQ29tcG9uZW50ID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgYmluZGluZ3M6IHtcbiAgICBuZ0Rpc2FibGVkOiAnPCcsXG4gICAgbmdNb2RlbDogJz0nLFxuICAgIG5nQ2hhbmdlOiAnJicsXG4gICAgbmFtZTogJ0AnLFxuICAgIGxhYmVsOiAnQCcsXG4gICAgcGxhY2Vob2xkZXI6ICdAJyxcbiAgICBpY29uOiAnQCcsIC8vIGlsbHVzdHJhdGlvbiBpbiBpY29uIHNob3duIGluIHVwbG9hZCBib3hcblxuICAgIGJ1dHRvblRleHQ6ICdAJywgLy8gQnV0dG9uIHRleHQgc2hvd24gaW4gZGVmYXVsdCBzdGF0ZVxuICAgIGFkZE1vcmVCdXR0b25UZXh0OiAnQCcsIC8vIEJ1dHRvbiB0ZXh0IHNob3duIHdoZW4gYXQgbGVhc3Qgb25lIGZpbGUgaXMgdXBsb2FkaW5nXG5cbiAgICBkcm9wcGluZ1RleHQ6ICdAJywgLy8gVGV4dCBzaG93biB3aGVuIGhvdmVyaW5nIHdpdGggYSBmaWxlXG4gICAgcHJvY2Vzc2luZ1RleHQ6ICdAJywgLy8gVGV4dCBzaG93biB3aGlsZSBwcm9jZXNzaW5nL3VwbG9hZGluZ1xuICAgIHN1Y2Nlc3NUZXh0OiAnQCcsIC8vIFRleHQgYWZ0ZXIgdXBsb2FkIGlzIHN1Y2Nlc3NmdWwsIHNob3duIHF1aXRlIGJyaWVmbHkgYmVmb3JlIHByZXZpZXdcbiAgICBmYWlsdXJlVGV4dDogJ0AnLFxuXG4gICAgdG9vTGFyZ2VNZXNzYWdlOiAnQCcsXG4gICAgLy8gd3JvbmdUeXBlTWVzc2FnZTogJ0AnLFxuXG4gICAgdmFsaWRhdGlvbk1lc3NhZ2VzOiAnPCcsXG5cbiAgICBvblN0YXJ0OiAnJicsXG4gICAgb25GaW5pc2g6ICcmJyxcbiAgICBvbkZhaWx1cmU6ICcmJyxcbiAgICByZXNwb25zZUVycm9yRXh0cmFjdG9yOiAnJicsXG5cbiAgICBhY2NlcHQ6ICdAJyxcbiAgICBodHRwT3B0aW9uczogJzwnLFxuXG4gICAgbWF4U2l6ZTogJzwnLCAvLyBUT0RPIG1vdmUgdG8gbmdNYXg/XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICAkZWxlbWVudCxcbiAgICAkc2NvcGUsXG4gICAgJGF0dHJzLFxuICAgICR0aW1lb3V0LFxuICApIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgdGhpcy4kYXR0cnMgPSAkYXR0cnM7XG4gICAgdGhpcy5maWxlcyA9IFtdO1xuICAgIHRoaXMubW9kZWwgPSBbXTtcbiAgICB0aGlzLiR0aW1lb3V0ID0gJHRpbWVvdXQ7XG4gIH1cblxuICAkb25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlcy5pY29uKSB7XG4gICAgICB0aGlzLnZpZXdJY29uID0gY2hhbmdlcy5pY29uLmN1cnJlbnRWYWx1ZSA/IGNoYW5nZXMuaWNvbi5jdXJyZW50VmFsdWUgOiAndXBsb2FkJztcbiAgICB9XG4gIH1cblxuICBvbkZpbGVDYXB0dXJlKGZpbGVzKSB7XG4gICAgaWYgKHRoaXMubmdEaXNhYmxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZmlsZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IHJldHJpZXZlIGZpbGUnKTtcbiAgICB9XG5cbiAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub25TdGFydCAmJiB0aGlzLmFyZUFsbEZpbGVzUHJvY2Vzc2VkKCkpIHtcbiAgICAgIHRoaXMub25TdGFydCgpO1xuICAgIH1cblxuICAgIHRoaXMuZmlsZXMgPSBbLi4udGhpcy5maWxlcywgLi4uZmlsZXNdO1xuXG4gICAgdGhpcy4kdGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBvYmpEaXYgPSB0aGlzLiRlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3IoJy5wcm9jZXNzaW5nLWxpc3QnKTtcbiAgICAgIGlmIChvYmpEaXYpIHtcbiAgICAgICAgb2JqRGl2LnNjcm9sbFRvcCA9IG9iakRpdi5zY3JvbGxIZWlnaHQ7XG4gICAgICB9XG4gICAgfSwgNjAwKTtcbiAgfVxuXG4gIG9uUHJvY2Vzc1N1Y2Nlc3MoaW5kZXgsIGZpbGUsIGRhdGFVcmwsIGlkKSB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5odHRwT3B0aW9ucyA/ICdpZCcgOiAnZGF0YVVybCc7XG5cbiAgICB0aGlzLmZpbGVzW2luZGV4XVtrZXldID0gdGhpcy5odHRwT3B0aW9ucyA/IGlkIDogZGF0YVVybDtcblxuICAgIGNvbnN0IG1vZGVsID0gdGhpcy5maWxlcy5tYXAoZmlsZU9iamVjdCA9PiBmaWxlT2JqZWN0W2tleV0pLmZpbHRlcih2YWx1ZSA9PiAhIXZhbHVlKTtcblxuICAgIHRoaXMuc2V0TmdNb2RlbChtb2RlbCk7XG5cbiAgICBpZiAodGhpcy5vbkZpbmlzaCAmJiB0aGlzLmFyZUFsbEZpbGVzUHJvY2Vzc2VkKCkpIHtcbiAgICAgIHRoaXMub25GaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBhcmVBbGxGaWxlc1Byb2Nlc3NlZCgpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLmh0dHBPcHRpb25zID8gJ2lkJyA6ICdkYXRhVXJsJztcblxuICAgIGNvbnN0IHByb2Nlc3NpbmdGaWxlID0gdGhpcy5maWxlcy5zb21lKGZpbGUgPT4gZmlsZVtrZXldID09IG51bGwgJiYgZmlsZS5lcnJvciA9PSBudWxsKTtcblxuICAgIHJldHVybiAhcHJvY2Vzc2luZ0ZpbGU7XG4gIH1cblxuICBvblByb2Nlc3NGYWlsdXJlKGluZGV4LCBmaWxlLCBlcnJvcikge1xuICAgIHRoaXMuZmlsZXNbaW5kZXhdLmVycm9yID0gZXJyb3I7XG5cbiAgICBpZiAodGhpcy5vbkZhaWx1cmUpIHtcbiAgICAgIHRoaXMub25GYWlsdXJlKHsgZXJyb3IgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub25GaW5pc2ggJiYgdGhpcy5hcmVBbGxGaWxlc1Byb2Nlc3NlZCgpKSB7XG4gICAgICB0aGlzLm9uRmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgb25Qcm9jZXNzQ2FuY2VsKGluZGV4KSB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5odHRwT3B0aW9ucyA/ICdpZCcgOiAnZGF0YVVybCc7XG5cbiAgICB0aGlzLmZpbGVzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICBjb25zdCBtb2RlbCA9IHRoaXMuZmlsZXMubWFwKGZpbGVPYmplY3QgPT4gZmlsZU9iamVjdFtrZXldKS5maWx0ZXIodmFsdWUgPT4gISF2YWx1ZSk7XG5cbiAgICB0aGlzLnNldE5nTW9kZWwobW9kZWwpO1xuICB9XG5cbiAgb25EcmFnRW50ZXIoKSB7XG4gICAgdGhpcy5pc0Ryb3BwYWJsZSA9IHRydWU7XG4gIH1cblxuICBvbkRyYWdMZWF2ZSgpIHtcbiAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7XG4gIH1cblxuICBvbkRyb3AoZmlsZXMpIHtcbiAgICB0aGlzLmlzRHJvcHBhYmxlID0gZmFsc2U7XG4gICAgdGhpcy5vbkZpbGVDYXB0dXJlKGZpbGVzKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuc2V0TmdNb2RlbChudWxsKTtcbiAgfVxuXG4gIHNldE5nTW9kZWwodmFsdWUpIHtcbiAgICAvLyBJZiBuZ01vZGVsIG5vdCBhc3NpZ25hYmxlLCB3ZSBkb24ndCB3YW50IHRvIGVycm9yLlxuICAgIGlmICh0eXBlb2YgdGhpcy4kYXR0cnMubmdNb2RlbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0ICRuZ01vZGVsID0gdGhpcy4kZWxlbWVudC5jb250cm9sbGVyKCduZ01vZGVsJyk7XG4gICAgICBpZiAoISRuZ01vZGVsLiRzZXRWaWV3VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgJG5nTW9kZWwuJHNldFZpZXdWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICB9XG59XG5cbkNvbnRyb2xsZXIuJGluamVjdCA9IFtcbiAgJyRlbGVtZW50JyxcbiAgJyRzY29wZScsXG4gICckYXR0cnMnLFxuICAnJHRpbWVvdXQnLFxuXTtcblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJ3ZWxsIGRyb3BwYWJsZSBwLXItMCBwLWwtMCBwLXQtMSBwLWItMCBtdWx0aS11cGxvYWRcXFwiIHR3LWRyb3A9JGN0cmwub25Ecm9wKGZpbGVzKSB0dy1kcmFnLWVudGVyPSRjdHJsLm9uRHJhZ0VudGVyKCkgdHctZHJhZy1sZWF2ZT0kY3RybC5vbkRyYWdMZWF2ZSgpIG5nLWNsYXNzPVxcXCJ7J2Ryb3BwYWJsZS1kcm9wcGluZyc6ICRjdHJsLmlzRHJvcHBhYmxlfVxcXCI+IDxkaXYgY2xhc3M9XFxcImRyb3BwYWJsZS1kcm9wcGluZy1jYXJkIGRyb3BwYWJsZS1jYXJkXFxcIj4gPHR3LXVwbG9hZC1kcm9wcGluZyBkcm9wcGluZy10ZXh0PSRjdHJsLmRyb3BwaW5nVGV4dD48L3R3LXVwbG9hZC1kcm9wcGluZz4gPC9kaXY+IDxkaXYgbmctaWY9XFxcIiRjdHJsLmZpbGVzLmxlbmd0aCA9PT0gMFxcXCIgY2xhc3M9XFxcImVtcHR5LXByb2Nlc3NpbmctbGlzdCBkcm9wcGFibGUtZGVmYXVsdC1jYXJkIHRleHQteHMtY2VudGVyIHAtdC0zXFxcIj4gPGRpdiBjbGFzcz1lbXB0eS1zY3JlZW4+IDxkaXYgY2xhc3M9XFxcImNpcmNsZSBjaXJjbGUtc20gbS1iLTMgbS10LTNcXFwiPiA8aW1nIG5nLWlmPSRjdHJsLmhlbHBJbWFnZSBuZy1zcmM9e3skY3RybC5oZWxwSW1hZ2V9fSBhbHQ9e3skY3RybC5sYWJlbH19IGNsYXNzPVxcXCJ0aHVtYm5haWwgdGV4dC14cy1jZW50ZXJcXFwiLz4gPHNwYW4gbmctaWY9ISRjdHJsLmhlbHBJbWFnZSBjbGFzcz1cXFwiaWNvbiBpY29uLXt7JGN0cmwudmlld0ljb259fSBpY29uLXh4bFxcXCI+PC9zcGFuPiA8L2Rpdj4gPGg0IG5nLWlmPSRjdHJsLmxhYmVsIGNsYXNzPW0tYi0xPnt7JGN0cmwubGFiZWx9fTwvaDQ+IDxwIG5nLWlmPSRjdHJsLnBsYWNlaG9sZGVyIGNsYXNzPVxcXCJwLWwtMyBwLXItM1xcXCI+IHt7JGN0cmwucGxhY2Vob2xkZXJ9fSA8L3A+IDwvZGl2PiA8L2Rpdj4gPGRpdiBuZy1pZj1cXFwiJGN0cmwuZmlsZXMubGVuZ3RoID4gMFxcXCIgY2xhc3M9XFxcImRyb3BwYWJsZS1kZWZhdWx0LWNhcmQgcC1sLTMgcHJvY2Vzc2luZy1saXN0XFxcIj4gPGRpdiBuZy1yZXBlYXQ9XFxcIihpbmRleCwgZmlsZSkgaW4gJGN0cmwuZmlsZXNcXFwiIGNsYXNzPXAtci0zIG5nLWNsYXNzPVxcXCJ7J2xhc3QtaXRlbSc6ICRsYXN0fVxcXCI+IDx0dy11cGxvYWQtcHJvY2Vzc2luZy1taW5pIG5hbWU9JGN0cmwubmFtZSBmaWxlPWZpbGUgb24tc3VjY2Vzcz1cXFwiJGN0cmwub25Qcm9jZXNzU3VjY2VzcyhpbmRleCwgZmlsZSwgZGF0YVVybCwgaWQsIHJlc3BvbnNlKVxcXCIgb24tZmFpbHVyZT1cXFwiJGN0cmwub25Qcm9jZXNzRmFpbHVyZShpbmRleCwgZmlsZSwgZXJyb3IpXFxcIiBvbi1jYW5jZWw9JGN0cmwub25Qcm9jZXNzQ2FuY2VsKGluZGV4KSBtYXgtc2l6ZT0kY3RybC5tYXhTaXplIGFjY2VwdD0kY3RybC5hY2NlcHQgaHR0cC1vcHRpb25zPSRjdHJsLmh0dHBPcHRpb25zIHByb2Nlc3NpbmctbWVzc2FnZT0kY3RybC5wcm9jZXNzaW5nVGV4dCBzdWNjZXNzLW1lc3NhZ2U9JGN0cmwuc3VjY2Vzc1RleHQgZXJyb3ItbWVzc2FnZT0kY3RybC5mYWlsdXJlVGV4dCB2YWxpZGF0aW9uLW1lc3NhZ2VzPSRjdHJsLnZhbGlkYXRpb25NZXNzYWdlcyB0b28tbGFyZ2UtbWVzc2FnZT0kY3RybC50b29MYXJnZU1lc3NhZ2UgY2FuY2VsLXRleHQ9JGN0cmwuY2FuY2VsVGV4dCByZXNwb25zZS1lcnJvci1leHRyYWN0b3I9JGN0cmwucmVzcG9uc2VFcnJvckV4dHJhY3Rvcih7ZXJyb3J9KT48L3R3LXVwbG9hZC1wcm9jZXNzaW5nLW1pbmk+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1tLWEtMz4gPHR3LXVwbG9hZC1idXR0b24gbmctaWY9ISRjdHJsLmlzTGl2ZUNhbWVyYVVwbG9hZCBuYW1lPSRjdHJsLm5hbWUgbGFiZWw9XFxcIiRjdHJsLmZpbGVzLmxlbmd0aCA9PT0gMCA/ICRjdHJsLmJ1dHRvblRleHQgOiAkY3RybC5hZGRNb3JlQnV0dG9uVGV4dFxcXCIgaXMtc2Vjb25kYXJ5PVxcXCIkY3RybC5maWxlcy5sZW5ndGggPiAwXFxcIiBhY2NlcHQ9JGN0cmwuYWNjZXB0IG1vZGVsPSRjdHJsLmlucHV0RmlsZSBkaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIG9uLWNhcHR1cmU9JGN0cmwub25GaWxlQ2FwdHVyZShmaWxlcykgYmxvY2s9dHJ1ZSBzbWFsbD10cnVlIG11bHRpcGxlPXRydWU+PC90dy11cGxvYWQtYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IFwiOyIsImZ1bmN0aW9uIHR3RHJvcCgkcGFyc2UsICRyb290U2NvcGUsICRleGNlcHRpb25IYW5kbGVyKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICBjb250cm9sbGVyOiAoKSA9PiB7XG5cbiAgICB9LFxuICAgIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cikgPT4ge1xuICAgICAgc2NvcGUuY291bnRlciA9IDA7XG4gICAgICBlbGVtWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgZm4gPSAkcGFyc2UoYXR0ci50d0Ryb3ApO1xuXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgIGZuKHNjb3BlLCB7XG4gICAgICAgICAgICBmaWxlczogZXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2NvcGUuY291bnRlciA9IDA7XG4gICAgICB9LCBmYWxzZSk7XG5cbiAgICAgIGVsZW1bMF0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gIH07XG59XG5cbnR3RHJvcC4kaW5qZWN0ID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsICckZXhjZXB0aW9uSGFuZGxlciddO1xuXG5leHBvcnQgZGVmYXVsdCB0d0Ryb3A7XG4iLCJmdW5jdGlvbiB0d0RyYWdFbnRlcigkcGFyc2UsICRyb290U2NvcGUpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIHJlcXVpcmU6ICd0d0Ryb3AnLFxuICAgIGxpbms6IChzY29wZSwgZWxlbSwgYXR0cikgPT4ge1xuICAgICAgZWxlbVswXS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgZm4gPSAkcGFyc2UoYXR0ci50d0RyYWdFbnRlcik7XG4gICAgICAgIHNjb3BlLmNvdW50ZXIrKztcblxuICAgICAgICBpZiAoc2NvcGUuY291bnRlciA+PSAxKSB7XG4gICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBmbihzY29wZSwgeyAkZXZlbnQ6IGV2ZW50IH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGNhbGxiYWNrKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG4gIH07XG59XG5cbnR3RHJhZ0VudGVyLiRpbmplY3QgPSBbJyRwYXJzZScsICckcm9vdFNjb3BlJ107XG5cbmV4cG9ydCBkZWZhdWx0IHR3RHJhZ0VudGVyO1xuIiwiZnVuY3Rpb24gdHdEcmFnTGVhdmUoJHBhcnNlLCAkcm9vdFNjb3BlKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAndHdEcm9wJyxcbiAgICBsaW5rOiAoc2NvcGUsIGVsZW0sIGF0dHIpID0+IHtcbiAgICAgIGVsZW1bMF0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGZuID0gJHBhcnNlKGF0dHIudHdEcmFnTGVhdmUpO1xuICAgICAgICBzY29wZS5jb3VudGVyLS07XG5cbiAgICAgICAgaWYgKHNjb3BlLmNvdW50ZXIgPD0gMCkge1xuICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgZm4oc2NvcGUsIHsgJGV2ZW50OiBldmVudCB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgIHNjb3BlLiRhcHBseShjYWxsYmFjayk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuICB9O1xufVxuXG50d0RyYWdMZWF2ZS4kaW5qZWN0ID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZSddO1xuXG5leHBvcnQgZGVmYXVsdCB0d0RyYWdMZWF2ZTtcbiIsImltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vZGF0ZS5jb250cm9sbGVyLmpzJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2RhdGUuaHRtbCc7XG5cbmNvbnN0IERhdGVDb250cm9sID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgcmVxdWlyZToge1xuICAgICRuZ01vZGVsOiAnbmdNb2RlbCdcbiAgfSxcbiAgYmluZGluZ3M6IHtcbiAgICBuZ01vZGVsOiAnPScsXG4gICAgcmVxdWlyZWQ6ICdAJyxcbiAgICBuZ1JlcXVpcmVkOiAnPCcsXG4gICAgZGlzYWJsZWQ6ICdAJyxcbiAgICBuZ0Rpc2FibGVkOiAnPCcsXG4gICAgbG9jYWxlOiAnQCcsXG4gICAgdHdMb2NhbGU6ICc8JyxcbiAgICBtaW46ICdAJyxcbiAgICBuZ01pbjogJzwnLFxuICAgIG1heDogJ0AnLFxuICAgIG5nTWF4OiAnPCcsXG4gICAgbW9kZWxUeXBlOiAnQCdcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZUNvbnRyb2w7XG4iLCJjbGFzcyBEYXRlQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRlbGVtZW50LCAkbG9nLCAkc2NvcGUsIFR3RGF0ZVNlcnZpY2UpIHtcbiAgICBjb25zdCAkbmdNb2RlbCA9ICRlbGVtZW50LmNvbnRyb2xsZXIoJ25nTW9kZWwnKTtcblxuICAgIHRoaXMuRGF0ZVNlcnZpY2UgPSBUd0RhdGVTZXJ2aWNlO1xuICAgIHRoaXMuaW5pdGlhbGlzZWRXaXRoRGF0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMubmdNb2RlbCkge1xuICAgICAgdGhpcy5hcHBseURhdGVNb2RlbElmVmFsaWRPclRocm93RXJyb3IoKTtcbiAgICAgIHRoaXMuaW5pdGlhbGlzZWRXaXRoRGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLm1vZGVsVHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlbFR5cGUgPT09IFNUUklOR19UWVBFIHx8IHRoaXMubW9kZWxUeXBlID09PSBPQkpFQ1RfVFlQRSkge1xuICAgICAgICAgIHRoaXMuZGF0ZU1vZGVsVHlwZSA9IHRoaXMubW9kZWxUeXBlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBtb2RlbFR5cGUsIHNob3VsZCBiZSAke1NUUklOR19UWVBFfSBvciAke09CSkVDVF9UWVBFfWApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRhdGVNb2RlbFR5cGUgPSBPQkpFQ1RfVFlQRTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5kYXkgPSBudWxsO1xuICAgICAgdGhpcy5tb250aCA9IDA7XG4gICAgICB0aGlzLnllYXIgPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuc2V0RGF0ZVJlcXVpcmVkKCk7XG4gICAgdGhpcy5zZXREYXRlRGlzYWJsZWQoKTtcbiAgICB0aGlzLnNldERhdGVMb2NhbGUoKTtcblxuICAgIHRoaXMuc2V0TW9udGhzKCk7XG5cbiAgICB0aGlzLmFkZFZhbGlkYXRvcnMoJG5nTW9kZWwpO1xuICAgIHRoaXMuYWRkV2F0Y2hlcnMoJHNjb3BlLCAkbmdNb2RlbCk7XG4gICAgYWRkRm9jdXNIYW5kbGVycygkZWxlbWVudCk7XG4gICAgYWRkQmx1ckhhbmRsZXJzKCRlbGVtZW50LCAkbmdNb2RlbCk7XG4gIH1cblxuXG4gIGFwcGx5RGF0ZU1vZGVsSWZWYWxpZE9yVGhyb3dFcnJvcigpIHtcbiAgICBpZiAodmFsaWREYXRlKHRoaXMubmdNb2RlbCkpIHtcbiAgICAgIHRoaXMuZGF0ZU1vZGVsVHlwZSA9IHR5cGVvZiB0aGlzLm5nTW9kZWwgPT09ICdzdHJpbmcnID8gU1RSSU5HX1RZUEUgOiBPQkpFQ1RfVFlQRTtcblxuICAgICAgdGhpcy5leHBsb2RlRGF0ZU1vZGVsKHRoaXMubmdNb2RlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignZGF0ZSBtb2RlbCBwYXNzZWQgc2hvdWxkIGVpdGhlciBiZSBpbnN0YW5jZSBvZiAnXG4gICAgICAgICsgJ0RhdGUgb3IgdmFsaWQgSVNPODYwMSBzdHJpbmcnKTtcbiAgICB9XG4gIH1cblxuICBzZXRNb250aHMoKSB7XG4gICAgdGhpcy5kYXRlTW9udGhzID0gdGhpcy5nZXRNb250aHNCYXNlZE9uSW50bFN1cHBvcnRGb3JMb2NhbGUoKTtcbiAgfVxuXG4gIHNldERhdGVSZXF1aXJlZCgpIHtcbiAgICB0aGlzLmRhdGVSZXF1aXJlZCA9IHRoaXMubmdSZXF1aXJlZCAhPT0gdW5kZWZpbmVkXG4gICAgICA/IHRoaXMubmdSZXF1aXJlZFxuICAgICAgOiB0aGlzLnJlcXVpcmVkICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBzZXREYXRlRGlzYWJsZWQoKSB7XG4gICAgdGhpcy5kYXRlRGlzYWJsZWQgPSB0aGlzLm5nRGlzYWJsZWQgIT09IHVuZGVmaW5lZFxuICAgICAgPyB0aGlzLm5nRGlzYWJsZWRcbiAgICAgIDogdGhpcy5kaXNhYmxlZCAhPT0gdW5kZWZpbmVkO1xuICB9XG5cbiAgc2V0RGF0ZUxvY2FsZSgpIHtcbiAgICBpZiAoIXRoaXMubG9jYWxlKSB7XG4gICAgICB0aGlzLmxvY2FsZSA9IERFRkFVTFRfTE9DQUxFX0VOO1xuICAgIH1cbiAgICB0aGlzLm1vbnRoQmVmb3JlRGF5ID0gdGhpcy5EYXRlU2VydmljZS5pc01vbnRoQmVmb3JlRGF5KHRoaXMubG9jYWxlKTtcbiAgfVxuXG4gIGV4cGxvZGVEYXRlTW9kZWwoZGF0ZSkge1xuICAgIGNvbnN0IGRhdGVPYmogPSB0eXBlb2YgZGF0ZSA9PT0gJ3N0cmluZycgPyBuZXcgRGF0ZShkYXRlKSA6IGRhdGU7XG5cbiAgICB0aGlzLmRheSA9IGRhdGVPYmouZ2V0VVRDRGF0ZSgpO1xuICAgIHRoaXMubW9udGggPSBkYXRlT2JqLmdldFVUQ01vbnRoKCk7XG4gICAgdGhpcy55ZWFyID0gZGF0ZU9iai5nZXRVVENGdWxsWWVhcigpO1xuICB9XG5cbiAgYWRkVmFsaWRhdG9ycygkbmdNb2RlbCkge1xuICAgICRuZ01vZGVsLiR2YWxpZGF0b3JzLm1pbiA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgbGltaXQgPSBwcmVwRGF0ZUxpbWl0Rm9yQ29tcGFyaXNvbih0aGlzLm5nTWluLCB0aGlzLm1pbik7XG4gICAgICBjb25zdCBkYXRlVmFsdWUgPSBwcmVwRGF0ZVZhbHVlRm9yQ29tcGFyaXNvbih2YWx1ZSk7XG5cbiAgICAgIHJldHVybiAhbGltaXQgfHwgIWRhdGVWYWx1ZSB8fCBkYXRlVmFsdWUgPj0gbGltaXQ7XG4gICAgfTtcblxuICAgICRuZ01vZGVsLiR2YWxpZGF0b3JzLm1heCA9ICh2YWx1ZSkgPT4ge1xuICAgICAgY29uc3QgbGltaXQgPSBwcmVwRGF0ZUxpbWl0Rm9yQ29tcGFyaXNvbih0aGlzLm5nTWF4LCB0aGlzLm1heCk7XG4gICAgICBjb25zdCBkYXRlVmFsdWUgPSBwcmVwRGF0ZVZhbHVlRm9yQ29tcGFyaXNvbih2YWx1ZSk7XG5cbiAgICAgIHJldHVybiAhbGltaXQgfHwgIWRhdGVWYWx1ZSB8fCBkYXRlVmFsdWUgPD0gbGltaXQ7XG4gICAgfTtcbiAgfVxuXG4gIGFkZFdhdGNoZXJzKCRzY29wZSwgJG5nTW9kZWwpIHtcbiAgICAkc2NvcGUuJHdhdGNoKCckY3RybC5kYXknLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlICYmIHRoaXMuaW5pdGlhbGlzZWRXaXRoRGF0ZSkge1xuICAgICAgICAkbmdNb2RlbC4kc2V0RGlydHkoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJyRjdHJsLm1vbnRoJywgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4ge1xuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xuICAgICAgICB0aGlzLmFkanVzdExhc3REYXkoKTtcbiAgICAgICAgJG5nTW9kZWwuJHNldFRvdWNoZWQoKTsgLy8gSW5wdXQgd2F0Y2hlciBkb2Vzbid0IHdvcmsgZm9yIG1vbnRoXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpc2VkV2l0aERhdGUpIHtcbiAgICAgICAgICAkbmdNb2RlbC4kc2V0RGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwueWVhcicsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgJiYgdGhpcy5pbml0aWFsaXNlZFdpdGhEYXRlKSB7XG4gICAgICAgICRuZ01vZGVsLiRzZXREaXJ0eSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubmdNb2RlbCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodmFsaWREYXRlKHRoaXMubmdNb2RlbCkpIHtcbiAgICAgICAgJG5nTW9kZWwuJHNldERpcnR5KCk7XG4gICAgICAgIHRoaXMuZXhwbG9kZURhdGVNb2RlbCh0aGlzLm5nTW9kZWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHNjb3BlLiR3YXRjaCgnJGN0cmwubmdSZXF1aXJlZCcsIChuZXdWYWx1ZSwgb2xkVmFsdWUpID0+IHtcbiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZXREYXRlUmVxdWlyZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgICRzY29wZS4kd2F0Y2goJyRjdHJsLm5nRGlzYWJsZWQnLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0RGF0ZURpc2FibGVkKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCckY3RybC5sb2NhbGUnLCAobmV3VmFsdWUsIG9sZFZhbHVlKSA9PiB7XG4gICAgICBpZiAobmV3VmFsdWUgIT09IG9sZFZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2V0RGF0ZUxvY2FsZSgpO1xuICAgICAgICB0aGlzLnNldE1vbnRocygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZ2V0TW9udGhzQmFzZWRPbkludGxTdXBwb3J0Rm9yTG9jYWxlKCkge1xuICAgIGNvbnN0IG1vbnRoTmFtZXMgPSB0aGlzLkRhdGVTZXJ2aWNlLmdldE1vbnRoTmFtZXNGb3JMb2NhbGUodGhpcy5sb2NhbGUpO1xuXG4gICAgcmV0dXJuIGV4dGVuZE1vbnRoc1dpdGhJZHMobW9udGhOYW1lcyk7XG4gIH1cblxuICBjb21iaW5lRGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5EYXRlU2VydmljZS5nZXRVVENEYXRlRnJvbVBhcnRzKFxuICAgICAgTnVtYmVyKHRoaXMueWVhciksXG4gICAgICBOdW1iZXIodGhpcy5tb250aCksXG4gICAgICBOdW1iZXIodGhpcy5kYXkpXG4gICAgKTtcbiAgfVxuXG4gIHVwZGF0ZURhdGVNb2RlbEFuZFZhbGlkYXRpb25DbGFzc2VzKCkge1xuICAgIHRoaXMuYWRqdXN0TGFzdERheSgpO1xuXG4gICAgaWYgKCFpc0V4cGxvZGVkRGF0ZVBhdHRlcm5Db3JyZWN0KHRoaXMueWVhciwgdGhpcy5tb250aCwgdGhpcy5kYXkpKSB7XG4gICAgICB0aGlzLiRuZ01vZGVsLiRzZXRWaWV3VmFsdWUobnVsbCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGF0ZU9iaiA9IHRoaXMuY29tYmluZURhdGUoKTtcblxuICAgIGlmICh0aGlzLmRhdGVNb2RlbFR5cGUgPT09IFNUUklOR19UWVBFKSB7XG4gICAgICBjb25zdCBpc29TdHJpbmcgPSBkYXRlT2JqLnRvSVNPU3RyaW5nKCk7XG4gICAgICBjb25zdCBkYXRlU3RyaW5nID0gaXNvU3RyaW5nLnN1YnN0cmluZygwLCBpc29TdHJpbmcuaW5kZXhPZignVCcpKTtcblxuICAgICAgdGhpcy4kbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGVTdHJpbmcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZGF0ZU9iaik7XG4gICAgfVxuICB9XG5cbiAgYWRqdXN0TGFzdERheSgpIHtcbiAgICBjb25zdCBkYXkgPSBOdW1iZXIodGhpcy5kYXkpO1xuICAgIGNvbnN0IG1vbnRoID0gTnVtYmVyKHRoaXMubW9udGgpO1xuICAgIGNvbnN0IHllYXIgPSBOdW1iZXIodGhpcy55ZWFyKTtcblxuICAgIGNvbnN0IGxhc3RVVENEYXlGb3JNb250aEFuZFllYXIgPSB0aGlzLkRhdGVTZXJ2aWNlLmdldExhc3REYXlPZk1vbnRoKHllYXIsIG1vbnRoKTtcblxuICAgIGlmIChkYXkgPiBsYXN0VVRDRGF5Rm9yTW9udGhBbmRZZWFyKSB7XG4gICAgICAvLyBVc2luZyBzZXRWaWV3VmFsdWUgZG9lcyBub3QgdXBkYXRlIERPTSwgb25seSBtb2RlbC5cbiAgICAgIHRoaXMuZGF5ID0gcGFyc2VJbnQobGFzdFVUQ0RheUZvck1vbnRoQW5kWWVhciwgMTApO1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBERUZBVUxUX0xPQ0FMRV9FTiA9ICdlbic7XG5jb25zdCBTVFJJTkdfVFlQRSA9ICdzdHJpbmcnO1xuY29uc3QgT0JKRUNUX1RZUEUgPSAnb2JqZWN0JztcblxuZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XG59XG5cbmZ1bmN0aW9uIGlzTnVtZXJpY1N0cmluZyh2YWx1ZSkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICFpc05hTihOdW1iZXIodmFsdWUpKTtcbn1cblxuZnVuY3Rpb24gaXNFeHBsb2RlZERhdGVQYXR0ZXJuQ29ycmVjdCh5ZWFyLCBtb250aCwgZGF5KSB7XG4gIHJldHVybiBpc051bWJlcih5ZWFyKVxuICAgICYmIGlzTnVtYmVyKGRheSlcbiAgICAmJiAoaXNOdW1iZXIobW9udGgpIHx8IGlzTnVtZXJpY1N0cmluZyhtb250aCkpO1xufVxuXG5mdW5jdGlvbiB2YWxpZERhdGUoZGF0ZSkge1xuICByZXR1cm4gdmFsaWREYXRlT2JqZWN0KGRhdGUpIHx8IHZhbGlkRGF0ZVN0cmluZyhkYXRlKTtcbn1cblxuZnVuY3Rpb24gdmFsaWREYXRlT2JqZWN0KGRhdGVPYmopIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRlT2JqKSA9PT0gJ1tvYmplY3QgRGF0ZV0nXG4gICAgJiYgIWlzTmFOKGRhdGVPYmouZ2V0VGltZSgpKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcbn1cblxuZnVuY3Rpb24gdmFsaWREYXRlU3RyaW5nKGRhdGVTdHJpbmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBkYXRlU3RyaW5nID09PSAnc3RyaW5nJyAmJiB2YWxpZERhdGVPYmplY3QobmV3IERhdGUoZGF0ZVN0cmluZykpO1xufVxuXG5mdW5jdGlvbiBwcmVwRGF0ZUxpbWl0Rm9yQ29tcGFyaXNvbihuZ0xpbWl0LCBhdHRyTGltaXQpIHtcbiAgbGV0IGxpbWl0ID0gbmdMaW1pdCB8fCBhdHRyTGltaXQ7XG5cbiAgaWYgKCFsaW1pdCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBsaW1pdCA9IHR5cGVvZiBsaW1pdCA9PT0gJ3N0cmluZycgPyBuZXcgRGF0ZShsaW1pdCkgOiBsaW1pdDtcbiAgaWYgKCF2YWxpZERhdGVPYmplY3QobGltaXQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBsaW1pdDtcbn1cblxuZnVuY3Rpb24gcHJlcERhdGVWYWx1ZUZvckNvbXBhcmlzb24oZGF0ZVZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZGF0ZVZhbHVlID09PSAnc3RyaW5nJyA/IG5ldyBEYXRlKGRhdGVWYWx1ZSkgOiBkYXRlVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGV4dGVuZE1vbnRoc1dpdGhJZHMobW9udGhOYW1lcykge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYXJyb3ctYm9keS1zdHlsZVxuICByZXR1cm4gbW9udGhOYW1lcy5tYXAoKG1vbnRoTmFtZSwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgdmFsdWU6IGluZGV4LFxuICAgICAgbGFiZWw6IG1vbnRoTmFtZVxuICAgIH07XG4gIH0pO1xufVxuXG4vLyBUT0RPIGJlaGF2aW91ciBvZiBmb2N1cy9ibHVyIGNvdWxkIGJlIGltcHJvdmVkIHRvIHByZXZlbnQgbXVsdGlwbGUgZmlyZXNcbmZ1bmN0aW9uIGFkZEZvY3VzSGFuZGxlcnMoJGVsZW1lbnQpIHtcbiAgY29uc3QgZWxlbWVudCA9ICRlbGVtZW50WzBdO1xuICBjb25zdCBkYXlJbnB1dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kYXldJyk7XG4gIGNvbnN0IHllYXJJbnB1dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT15ZWFyXScpO1xuXG4gIGRheUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4ge1xuICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2ZvY3VzJykpO1xuICB9KTtcblxuICB5ZWFySW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB7XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZm9jdXMnKSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRCbHVySGFuZGxlcnMoJGVsZW1lbnQsICRuZ01vZGVsKSB7XG4gIGxldCBkYXlUb3VjaGVkO1xuICBsZXQgeWVhclRvdWNoZWQ7XG5cbiAgY29uc3QgZWxlbWVudCA9ICRlbGVtZW50WzBdO1xuICBjb25zdCBkYXlJbnB1dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1kYXldJyk7XG4gIGNvbnN0IHllYXJJbnB1dCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT15ZWFyXScpO1xuXG4gIGRheUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgZGF5VG91Y2hlZCA9IHRydWU7XG4gICAgaWYgKGRheVRvdWNoZWQgJiYgeWVhclRvdWNoZWQpIHtcbiAgICAgICRuZ01vZGVsLiRzZXRUb3VjaGVkKCk7XG4gICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdibHVyJykpO1xuICAgIH1cbiAgfSk7XG5cbiAgeWVhcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XG4gICAgeWVhclRvdWNoZWQgPSB0cnVlO1xuICAgICRuZ01vZGVsLiRzZXRUb3VjaGVkKCk7XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYmx1cicpKTtcbiAgfSk7XG59XG5cbkRhdGVDb250cm9sbGVyLiRpbmplY3QgPSBbXG4gICckZWxlbWVudCcsXG4gICckbG9nJyxcbiAgJyRzY29wZScsXG4gICdUd0RhdGVTZXJ2aWNlJ1xuXTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZUNvbnRyb2xsZXI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGRpdiBjbGFzcz1yb3c+IDxkaXYgY2xhc3M9XFxcImNvbC1zbS01IHR3LWRhdGUtbW9udGgtY29sdW1uXFxcIiBuZy1pZj0kY3RybC5tb250aEJlZm9yZURheT4gPGxhYmVsIGNsYXNzPXNyLW9ubHk+TW9udGg8L2xhYmVsPiA8dHctc2VsZWN0IG5hbWU9bW9udGggY2xhc3M9dHctZGF0ZS1tb250aCBuZy1tb2RlbD0kY3RybC5tb250aCBuZy1jaGFuZ2U9JGN0cmwudXBkYXRlRGF0ZU1vZGVsQW5kVmFsaWRhdGlvbkNsYXNzZXMoKSBuZy1yZXF1aXJlZD0kY3RybC5kYXRlUmVxdWlyZWQgbmctZGlzYWJsZWQ9JGN0cmwuZGF0ZURpc2FibGVkIG9wdGlvbnM9JGN0cmwuZGF0ZU1vbnRocz4gPC90dy1zZWxlY3Q+IDwvZGl2PiA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMyB0dy1kYXRlLWRheS1jb2x1bW5cXFwiPiA8bGFiZWwgY2xhc3M9c3Itb25seT5EYXk8L2xhYmVsPiA8aW5wdXQgdHlwZT1udW1iZXIgbmFtZT1kYXkgY2xhc3M9XFxcImZvcm0tY29udHJvbCB0dy1kYXRlLWRheVxcXCIgbmctbW9kZWw9JGN0cmwuZGF5IG5nLWNoYW5nZT0kY3RybC51cGRhdGVEYXRlTW9kZWxBbmRWYWxpZGF0aW9uQ2xhc3NlcygpIHBsYWNlaG9sZGVyPUREIG1pbj0xIG5nLW1pbj0xIG5nLWRpc2FibGVkPSRjdHJsLmRhdGVEaXNhYmxlZCBuZy1yZXF1aXJlZD0kY3RybC5kYXRlUmVxdWlyZWQgdHctZm9jdXNhYmxlLz4gPC9kaXY+IDxkaXYgY2xhc3M9XFxcImNvbC1zbS01IHR3LWRhdGUtbW9udGgtY29sdW1uXFxcIiBuZy1pZj0hJGN0cmwubW9udGhCZWZvcmVEYXk+IDxsYWJlbCBjbGFzcz1zci1vbmx5Pk1vbnRoPC9sYWJlbD4gPHR3LXNlbGVjdCBuYW1lPW1vbnRoIGNsYXNzPXR3LWRhdGUtbW9udGggbmctbW9kZWw9JGN0cmwubW9udGggbmctY2hhbmdlPSRjdHJsLnVwZGF0ZURhdGVNb2RlbEFuZFZhbGlkYXRpb25DbGFzc2VzKCkgbmctcmVxdWlyZWQ9JGN0cmwuZGF0ZVJlcXVpcmVkIG5nLWRpc2FibGVkPSRjdHJsLmRhdGVEaXNhYmxlZCBvcHRpb25zPSRjdHJsLmRhdGVNb250aHM+IDwvdHctc2VsZWN0PiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwiY29sLXNtLTQgdHctZGF0ZS15ZWFyLWNvbHVtblxcXCI+IDxsYWJlbCBjbGFzcz1zci1vbmx5PlllYXI8L2xhYmVsPiA8aW5wdXQgdHlwZT1udW1iZXIgbmFtZT15ZWFyIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdHctZGF0ZS15ZWFyXFxcIiBwbGFjZWhvbGRlcj1ZWVlZIG5nLW1vZGVsPSRjdHJsLnllYXIgbmctY2hhbmdlPSRjdHJsLnVwZGF0ZURhdGVNb2RlbEFuZFZhbGlkYXRpb25DbGFzc2VzKCkgbmctbWluPSRjdHJsLm1pbi5nZXRGdWxsWWVhcigpIG5nLW1heD0kY3RybC5tYXguZ2V0RnVsbFllYXIoKSBtYXhsZW5ndGg9NCBuZy1tYXhsZW5ndGg9NCBuZy1kaXNhYmxlZD0kY3RybC5kYXRlRGlzYWJsZWQgbmctcmVxdWlyZWQ9JGN0cmwuZGF0ZVJlcXVpcmVkIHR3LWZvY3VzYWJsZS8+IDwvZGl2PiA8L2Rpdj4gXCI7IiwiXG5mdW5jdGlvbiBEYXRlU2VydmljZSgpIHtcbiAgdGhpcy5nZXRMb2NhbGVEYXRlID0gKGRhdGUpID0+IHtcbiAgICBpZiAoIWRhdGUpIHsgZGF0ZSA9IG5ldyBEYXRlKCk7IH1cbiAgICByZXR1cm4gZGF0ZS5nZXREYXRlKCk7XG4gIH07XG5cbiAgdGhpcy5nZXRMb2NhbGVNb250aCA9IChkYXRlKSA9PiB7XG4gICAgaWYgKCFkYXRlKSB7IGRhdGUgPSBuZXcgRGF0ZSgpOyB9XG4gICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKTtcbiAgfTtcblxuICB0aGlzLmdldExvY2FsZUZ1bGxZZWFyID0gKGRhdGUpID0+IHtcbiAgICBpZiAoIWRhdGUpIHsgZGF0ZSA9IG5ldyBEYXRlKCk7IH1cbiAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICB9O1xuXG4gIC8vIGdldCBVVEMgZGF0ZSBmb3IgdXNlcnMgY3VycmVudCBkYXlcbiAgdGhpcy5nZXRMb2NhbGVUb2RheSA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiB0aGlzLmdldFVUQ0RhdGVGcm9tUGFydHMoXG4gICAgICB0aGlzLmdldExvY2FsZUZ1bGxZZWFyKG5vdyksXG4gICAgICB0aGlzLmdldExvY2FsZU1vbnRoKG5vdyksXG4gICAgICB0aGlzLmdldExvY2FsZURhdGUobm93KVxuICAgICk7XG4gIH07XG5cbiAgdGhpcy5nZXRVVENEYXRlID0gKGRhdGUpID0+IHtcbiAgICBpZiAoIWRhdGUpIHsgZGF0ZSA9IG5ldyBEYXRlKCk7IH1cbiAgICByZXR1cm4gZGF0ZS5nZXRVVENEYXRlKCk7XG4gIH07XG5cbiAgdGhpcy5nZXRVVENNb250aCA9IChkYXRlKSA9PiB7XG4gICAgaWYgKCFkYXRlKSB7IGRhdGUgPSBuZXcgRGF0ZSgpOyB9XG4gICAgcmV0dXJuIGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgfTtcblxuICB0aGlzLmdldFVUQ0Z1bGxZZWFyID0gKGRhdGUpID0+IHtcbiAgICBpZiAoIWRhdGUpIHsgZGF0ZSA9IG5ldyBEYXRlKCk7IH1cbiAgICByZXR1cm4gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICB9O1xuXG4gIHRoaXMuZ2V0VVRDVG9kYXkgPSAoKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICByZXR1cm4gdGhpcy5nZXRVVENEYXRlRnJvbVBhcnRzKFxuICAgICAgdGhpcy5nZXRVVENGdWxsWWVhcihub3cpLFxuICAgICAgdGhpcy5nZXRVVENNb250aChub3cpLFxuICAgICAgdGhpcy5nZXRVVENEYXRlKG5vdylcbiAgICApO1xuICB9O1xuXG4gIHRoaXMuZ2V0TGFzdERheU9mTW9udGggPSAoeWVhciwgbW9udGgpID0+IHtcbiAgICBjb25zdCBsYXN0RGF5ID0gdGhpcy5nZXRVVENEYXRlRnJvbVBhcnRzKHllYXIsIG1vbnRoICsgMSwgMCk7XG4gICAgcmV0dXJuIGxhc3REYXkuZ2V0VVRDRGF0ZSgpO1xuICB9O1xuXG4gIHRoaXMuZ2V0VVRDRGF0ZUZyb21QYXJ0cyA9ICh5ZWFyLCBtb250aCwgZGF5LCBob3VycywgbWludXRlcywgc2Vjb25kcykgPT4ge1xuICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGRhdGUuc2V0VVRDRnVsbFllYXIoeWVhciwgbW9udGgsIGRheSk7XG4gICAgZGF0ZS5zZXRVVENIb3Vycyhob3VycyB8fCAwKTtcbiAgICBkYXRlLnNldFVUQ01pbnV0ZXMobWludXRlcyB8fCAwKTtcbiAgICBkYXRlLnNldFVUQ1NlY29uZHMoc2Vjb25kcyB8fCAwKTtcbiAgICBkYXRlLnNldFVUQ01pbGxpc2Vjb25kcygwKTtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfTtcblxuICB0aGlzLmdldExvY2FsZURhdGVGcm9tUGFydHMgPSAoeWVhciwgbW9udGgsIGRheSwgaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMpID0+IHtcbiAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcbiAgICBkYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCBkYXkpO1xuICAgIGRhdGUuc2V0SG91cnMoaG91cnMgfHwgMCk7XG4gICAgZGF0ZS5zZXRNaW51dGVzKG1pbnV0ZXMgfHwgMCk7XG4gICAgZGF0ZS5zZXRTZWNvbmRzKHNlY29uZHMgfHwgMCk7XG4gICAgZGF0ZS5zZXRNaWxsaXNlY29uZHMoMCk7XG4gICAgcmV0dXJuIGRhdGU7XG4gIH07XG5cbiAgdGhpcy5nZXREYXRlUGFydHNGcm9tSXNvID0gKGlzb0RhdGUpID0+IHtcbiAgICBsZXQgaG91cnNPZmZzZXQgPSAwO1xuICAgIGxldCBtaW51dGVzT2Zmc2V0ID0gMDtcblxuICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChpc29EYXRlLnN1YnN0cigwLCA0KSwgMTApO1xuICAgIGNvbnN0IG1vbnRoID0gcGFyc2VJbnQoaXNvRGF0ZS5zdWJzdHIoNSwgMiksIDEwKSAtIDE7XG4gICAgY29uc3QgZGF5ID0gcGFyc2VJbnQoaXNvRGF0ZS5zdWJzdHIoOCwgMiksIDEwKTtcbiAgICBjb25zdCBob3VycyA9IHBhcnNlSW50KGlzb0RhdGUuc3Vic3RyKDExLCAyKSwgMTApIHx8IDA7XG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlSW50KGlzb0RhdGUuc3Vic3RyKDE0LCAyKSwgMTApIHx8IDA7XG4gICAgY29uc3Qgc2Vjb25kcyA9IHBhcnNlSW50KGlzb0RhdGUuc3Vic3RyKDE3LCAyKSwgMTApIHx8IDA7XG5cbiAgICAvLyBJdCdzIHBvc3NpYmxlIGZvciB0aGUgZGF0ZSB0byBtYXRjaCB0aGUgb2Zmc2V0IHJlZ2V4XG4gICAgY29uc3Qgc3RyaW5nQWZ0ZXJEYXRlID0gaXNvRGF0ZS5zdWJzdHJpbmcoMTApO1xuICAgIGNvbnN0IG9mZnNldFJlZ2V4ID0gJ1srLV17MX1bMC05XXsyfSg6WzAtOV17Mn0pPyQnO1xuICAgIGNvbnN0IG9mZnNldCA9IHN0cmluZ0FmdGVyRGF0ZS5tYXRjaChvZmZzZXRSZWdleCk7XG5cbiAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAvLyBUT0RPIGlmIHRoZXJlIGFyZSBtaWxsaXNlY29uZHMsIG5lZWQgdG8gYWRqdXN0IHRoaXNcbiAgICAgIGhvdXJzT2Zmc2V0ID0gcGFyc2VJbnQob2Zmc2V0WzBdLnN1YnN0cigxLCAyKSwgMTApIHx8IDA7XG4gICAgICBtaW51dGVzT2Zmc2V0ID0gcGFyc2VJbnQob2Zmc2V0WzBdLnN1YnN0cig0LCAyKSwgMTApIHx8IDA7XG5cbiAgICAgIGlmIChvZmZzZXRbMF0uc3Vic3RyKDAsIDEpID09PSAnLScpIHtcbiAgICAgICAgaG91cnNPZmZzZXQgKj0gLTE7XG4gICAgICAgIG1pbnV0ZXNPZmZzZXQgKj0gLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFt5ZWFyLCBtb250aCwgZGF5LCBob3VycywgbWludXRlcywgc2Vjb25kcywgaG91cnNPZmZzZXQsIG1pbnV0ZXNPZmZzZXRdO1xuICB9O1xuXG4gIHRoaXMuaXNJc29TdHJpbmdWYWxpZCA9IChpc29EYXRlKSA9PiB7XG4gICAgY29uc3QgZGF0ZVNlY3Rpb24gPSAnWzAtOV17NH0tWzAtOV17Mn0tWzAtOV17Mn0nO1xuICAgIGNvbnN0IHRpbWVTZWN0aW9uID0gJ1RbMC05XXsyfTpbMC05XXsyfTpbMC05XXsyfSc7XG4gICAgY29uc3QgbWlsbGlzZWNvbmRTZWN0aW9uID0gJyguWzAtOV17M30pPyc7XG4gICAgY29uc3Qgem9uZVNlY3Rpb24gPSAnKFp8WyssLV1bMC05XXsyfSg6WzAtOV17Mn0pPyknO1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChgXiR7ZGF0ZVNlY3Rpb259KCR7dGltZVNlY3Rpb259JHttaWxsaXNlY29uZFNlY3Rpb259JHt6b25lU2VjdGlvbn0pPyRgKTtcbiAgICByZXR1cm4gcmVnZXgudGVzdChpc29EYXRlKTtcbiAgfTtcblxuICB0aGlzLmdldFVUQ0RhdGVGcm9tSXNvID0gKGlzb0RhdGUpID0+IHtcbiAgICBpZiAoIXRoaXMuaXNJc29TdHJpbmdWYWxpZChpc29EYXRlKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgW1xuICAgICAgeWVhcixcbiAgICAgIG1vbnRoLFxuICAgICAgZGF5LFxuICAgICAgaG91cnMsXG4gICAgICBtaW51dGVzLFxuICAgICAgc2Vjb25kcyxcbiAgICAgIGhvdXJzT2Zmc2V0LFxuICAgICAgbWludXRlc09mZnNldFxuICAgIF0gPSB0aGlzLmdldERhdGVQYXJ0c0Zyb21Jc28oaXNvRGF0ZSk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXRVVENEYXRlRnJvbVBhcnRzKFxuICAgICAgeWVhciwgbW9udGgsIGRheSxcbiAgICAgIGhvdXJzICsgaG91cnNPZmZzZXQsIG1pbnV0ZXMgKyBtaW51dGVzT2Zmc2V0LCBzZWNvbmRzXG4gICAgKTtcbiAgfTtcblxuXG4gIC8vIFN1bmRheSBpcyBmaXJzdCBkYXkgb2YgdGhlIHdlZWsgaW4gSlNcbiAgdGhpcy5nZXREYXlOYW1lc0ZvckxvY2FsZSA9IChsb2NhbGUsIGZvcm1hdCkgPT4ge1xuICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICBjb25zdCB2YWxpZEZvcm1hdCA9IGdldFZhbGlkRGF0ZUZvcm1hdChmb3JtYXQpO1xuICAgIGZvciAobGV0IGRheSA9IDA7IGRheSA8IDc7IGRheSsrKSB7XG4gICAgICBkYXlzLnB1c2godGhpcy5nZXREYXlOYW1lRm9yTG9jYWxlKGRheSwgbG9jYWxlLCB2YWxpZEZvcm1hdCkpO1xuICAgIH1cbiAgICByZXR1cm4gZGF5cztcbiAgfTtcblxuICB0aGlzLmdldERheU5hbWVGb3JMb2NhbGUgPSAoZGF5T2ZXZWVrLCBsb2NhbGUsIGZvcm1hdCkgPT4ge1xuICAgIGNvbnN0IGRlZmF1bHREYXlOYW1lID0gZ2V0RGVmYXVsdERheU5hbWUoZGF5T2ZXZWVrLCBsb2NhbGUsIGZvcm1hdCk7XG4gICAgaWYgKGRlZmF1bHREYXlOYW1lKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdERheU5hbWU7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRMb2NhbGUgPSBnZXRWYWxpZExvY2FsZShsb2NhbGUpO1xuICAgIGNvbnN0IHZhbGlkRm9ybWF0ID0gZ2V0VmFsaWREYXRlRm9ybWF0KGZvcm1hdCk7XG5cbiAgICBjb25zdCBkYXRlID0gdGhpcy5nZXRVVENEYXRlRnJvbVBhcnRzKDIwMDYsIDAsIGRheU9mV2VlayArIDEpOyAvLyAyMDA2IHN0YXJ0ZWQgd2l0aCBhIFN1bmRheVxuXG4gICAgY29uc3QgbG9jYWxEYXRlTmFtZSA9IGdldExvY2FsaXNlZERhdGVOYW1lKGRhdGUsIHZhbGlkTG9jYWxlLCB7IHdlZWtkYXk6ICdsb25nJyB9KTtcblxuICAgIHJldHVybiBsb2NhbERhdGVOYW1lIHx8IGdldERlZmF1bHREYXlOYW1lKGRheU9mV2VlaywgJ2VuLUdCJywgdmFsaWRGb3JtYXQpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGdldERlZmF1bHREYXlOYW1lKGRheU9mV2VlaywgbG9jYWxlLCBmb3JtYXQpIHtcbiAgICBsZXQgZGVmYXVsdERheU5hbWU7XG4gICAgY29uc3QgbGFuZ3VhZ2UgPSBnZXRMYW5ndWFnZUZyb21Mb2NhbGUobG9jYWxlKTtcblxuICAgIGlmIChERUZBVUxUX0RBWV9OQU1FU19CWV9MQU5HVUFHRVtsYW5ndWFnZV0pIHtcbiAgICAgIGRlZmF1bHREYXlOYW1lID0gREVGQVVMVF9EQVlfTkFNRVNfQllfTEFOR1VBR0VbbGFuZ3VhZ2VdW2RheU9mV2Vla107XG4gICAgfVxuXG4gICAgaWYgKGRlZmF1bHREYXlOYW1lKSB7XG4gICAgICBpZiAoZm9ybWF0ID09PSAnc2hvcnQnKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0RGF5TmFtZS5zdWJzdHIoMCwgMyk7XG4gICAgICB9XG4gICAgICBpZiAoZm9ybWF0ID09PSAnbmFycm93Jykge1xuICAgICAgICByZXR1cm4gZGVmYXVsdERheU5hbWUuc3Vic3RyKDAsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlZmF1bHREYXlOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdGhpcy5nZXRNb250aE5hbWVzRm9yTG9jYWxlID0gKGxvY2FsZSwgZm9ybWF0KSA9PiB7XG4gICAgY29uc3QgbW9udGhzID0gW107XG4gICAgY29uc3QgdmFsaWRGb3JtYXQgPSBnZXRWYWxpZERhdGVGb3JtYXQoZm9ybWF0KTtcblxuICAgIGZvciAobGV0IG1vbnRoID0gMDsgbW9udGggPCAxMjsgbW9udGgrKykge1xuICAgICAgbW9udGhzLnB1c2godGhpcy5nZXRNb250aE5hbWVGb3JMb2NhbGUobW9udGgsIGxvY2FsZSwgdmFsaWRGb3JtYXQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbW9udGhzO1xuICB9O1xuXG4gIHRoaXMuZ2V0TW9udGhOYW1lRm9yTG9jYWxlID0gKG1vbnRoLCBsb2NhbGUsIGZvcm1hdCkgPT4ge1xuICAgIGNvbnN0IGRlZmF1bHRNb250aE5hbWUgPSBnZXREZWZhdWx0TW9udGhOYW1lKG1vbnRoLCBsb2NhbGUsIGZvcm1hdCk7XG5cbiAgICBpZiAoZGVmYXVsdE1vbnRoTmFtZSkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRNb250aE5hbWU7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsaWRMb2NhbGUgPSBnZXRWYWxpZExvY2FsZShsb2NhbGUpO1xuICAgIGNvbnN0IHZhbGlkRm9ybWF0ID0gZ2V0VmFsaWREYXRlRm9ybWF0KGZvcm1hdCk7XG5cbiAgICAvLyBEYXkgaW4gbWlkZGxlIG9mIG1vbnRoIGF2b2lkcyB0aW1lem9uZSBpc3N1ZXNcbiAgICBjb25zdCBkYXRlID0gdGhpcy5nZXRVVENEYXRlRnJvbVBhcnRzKDIwMDAsIG1vbnRoLCAxNSk7XG4gICAgaWYgKGZvcm1hdCA9PT0gJ3Nob3J0Jykge1xuICAgICAgbW9udGggPSBnZXRMb2NhbGlzZWREYXRlTmFtZShkYXRlLCB2YWxpZExvY2FsZSwgeyBtb250aDogJ2xvbmcnIH0pO1xuICAgICAgcmV0dXJuIChtb250aC5sZW5ndGggPiA0KSA/IG1vbnRoLnNsaWNlKDAsIDMpIDogbW9udGg7XG4gICAgfVxuICAgIGNvbnN0IGxvY2FsTW9udGhOYW1lID0gZ2V0TG9jYWxpc2VkRGF0ZU5hbWUoZGF0ZSwgdmFsaWRMb2NhbGUsIHsgbW9udGg6ICdsb25nJyB9KTtcblxuICAgIHJldHVybiBsb2NhbE1vbnRoTmFtZSB8fCBnZXREZWZhdWx0TW9udGhOYW1lKG1vbnRoLCAnZW4tR0InLCB2YWxpZEZvcm1hdCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0RGVmYXVsdE1vbnRoTmFtZShtb250aCwgbG9jYWxlLCBmb3JtYXQpIHtcbiAgICBjb25zdCBsYW5ndWFnZSA9IGdldExhbmd1YWdlRnJvbUxvY2FsZShsb2NhbGUpO1xuXG4gICAgaWYgKGxhbmd1YWdlXG4gICAgICAmJiBERUZBVUxUX01PTlRIX05BTUVTX0JZX0xBTkdVQUdFW2xhbmd1YWdlXVxuICAgICAgJiYgKGZvcm1hdCAhPT0gJ3Nob3J0JyB8fCBsYW5ndWFnZSA9PT0gJ2phJykpIHtcbiAgICAgIHJldHVybiBERUZBVUxUX01PTlRIX05BTUVTX0JZX0xBTkdVQUdFW2xhbmd1YWdlXVttb250aF07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuXG4gIHRoaXMuZ2V0V2Vla2RheSA9ICh5ZWFyLCBtb250aCwgZGF5KSA9PiB7XG4gICAgY29uc3QgdXRjRGF0ZSA9IHRoaXMuZ2V0VVRDRGF0ZUZyb21QYXJ0cyh5ZWFyLCBtb250aCwgZGF5KTtcbiAgICByZXR1cm4gdXRjRGF0ZS5nZXRVVENEYXkoKTtcbiAgfTtcblxuICB0aGlzLmlzTW9udGhCZWZvcmVEYXkgPSAobG9jYWxlKSA9PiB7XG4gICAgY29uc3QgbGFuZyA9IGdldExhbmd1YWdlRnJvbUxvY2FsZShsb2NhbGUpO1xuICAgIHJldHVybiAoKGxhbmcgPT09ICdqYScpIHx8IChsb2NhbGUgJiYgbG9jYWxlLmluZGV4T2YoJ1VTJywgbG9jYWxlLmxlbmd0aCAtIDIpICE9PSAtMSkpO1xuICB9O1xuXG4gIHRoaXMuaXNZZWFyQmVmb3JlTW9udGggPSAobG9jYWxlKSA9PiB7XG4gICAgY29uc3QgbGFuZyA9IGdldExhbmd1YWdlRnJvbUxvY2FsZShsb2NhbGUpO1xuICAgIHJldHVybiAobGFuZyA9PT0gJ2phJyk7XG4gIH07XG5cbiAgdGhpcy5hZGRZZWFycyA9IChkYXRlLCB5ZWFycykgPT4gdGhpcy5hZGRUb0RhdGUoZGF0ZSwgeWVhcnMsIDAsIDApO1xuICB0aGlzLmFkZE1vbnRocyA9IChkYXRlLCBtb250aHMpID0+IHRoaXMuYWRkVG9EYXRlKGRhdGUsIDAsIG1vbnRocywgMCk7XG4gIHRoaXMuYWRkRGF5cyA9IChkYXRlLCBkYXlzKSA9PiB0aGlzLmFkZFRvRGF0ZShkYXRlLCAwLCAwLCBkYXlzKTtcblxuICB0aGlzLmFkZFRvRGF0ZSA9IChkYXRlLCB5ZWFycywgbW9udGhzLCBkYXlzKSA9PiB0aGlzLmdldFVUQ0RhdGVGcm9tUGFydHMoXG4gICAgZGF0ZS5nZXRVVENGdWxsWWVhcigpICsgeWVhcnMsXG4gICAgZGF0ZS5nZXRVVENNb250aCgpICsgbW9udGhzLFxuICAgIGRhdGUuZ2V0VVRDRGF0ZSgpICsgZGF5c1xuICApO1xuXG4gIHRoaXMuZ2V0TG9jYWxlVGltZVN0cmluZyA9IChkYXRlLCBsb2NhbGUpID0+IHRoaXMuZ2V0VGltZVN0cmluZyhcbiAgICBkYXRlLmdldEhvdXJzKCksXG4gICAgZGF0ZS5nZXRNaW51dGVzKCksXG4gICAgZGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgbG9jYWxlXG4gICk7XG5cbiAgdGhpcy5nZXRUaW1lU3RyaW5nID0gKGhvdXJzLCBtaW51dGVzLCBzZWNvbmRzLCBsb2NhbGUpID0+IHtcbiAgICBjb25zdCBsYW5nID0gZ2V0TGFuZ3VhZ2VGcm9tTG9jYWxlKGxvY2FsZSk7XG5cbiAgICBpZiAoaG91cnMgPCAxMCkge1xuICAgICAgaG91cnMgPSBgMCR7aG91cnN9YDtcbiAgICB9XG4gICAgaWYgKG1pbnV0ZXMgPCAxMCkge1xuICAgICAgbWludXRlcyA9IGAwJHttaW51dGVzfWA7XG4gICAgfVxuXG4gICAgaWYgKGxhbmcgPT09ICdlbicpIHtcbiAgICAgIGNvbnN0IGFtcG0gPSBob3VycyA+PSAxMiA/ICdwbScgOiAnYW0nO1xuICAgICAgaG91cnMgJT0gMTI7XG4gICAgICBpZiAoaG91cnMgPT09IDApIHtcbiAgICAgICAgaG91cnMgPSAxMjtcbiAgICAgIH1cbiAgICAgIGlmIChtaW51dGVzID09PSAnMDAnKSB7XG4gICAgICAgIHJldHVybiBgJHtob3Vyc30ke2FtcG19YDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBgJHtob3Vyc306JHttaW51dGVzfSR7YW1wbX1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7aG91cnN9OiR7bWludXRlc31gO1xuICB9O1xuXG4gIHRoaXMuZ2V0WWVhckFuZE1vbnRoUHJlc2VudGF0aW9uID0gKHllYXIsIG1vbnRoLCBsb2NhbGUsIGZvcm1hdCkgPT4ge1xuICAgIGNvbnN0IHllYXJOYW1lID0gZ2V0WWVhck5hbWUoeWVhciwgbG9jYWxlKTtcbiAgICBjb25zdCBtb250aE5hbWUgPSB0aGlzLmdldE1vbnRoTmFtZUZvckxvY2FsZShtb250aCwgbG9jYWxlLCBmb3JtYXQgfHwgJ2xvbmcnKTtcblxuICAgIGNvbnN0IGxhbmd1YWdlID0gZ2V0TGFuZ3VhZ2VGcm9tTG9jYWxlKGxvY2FsZSk7XG4gICAgY29uc3QgZGVsaW1pdGVyID0gZ2V0RGVsaW1pdGVyKGxhbmd1YWdlKTtcblxuICAgIGlmICh0aGlzLmlzWWVhckJlZm9yZU1vbnRoKGxvY2FsZSkpIHtcbiAgICAgIHJldHVybiBbeWVhck5hbWUsIG1vbnRoTmFtZV0uam9pbihkZWxpbWl0ZXIpO1xuICAgIH1cbiAgICByZXR1cm4gW21vbnRoTmFtZSwgeWVhck5hbWVdLmpvaW4oZGVsaW1pdGVyKTtcbiAgfTtcblxuICB0aGlzLmdldFllYXJNb250aERhdGVQcmVzZW50YXRpb24gPSAoeWVhciwgbW9udGgsIGRheSwgbG9jYWxlLCBmb3JtYXQpID0+IHtcbiAgICBjb25zdCB5ZWFyTmFtZSA9IGdldFllYXJOYW1lKHllYXIsIGxvY2FsZSk7XG4gICAgY29uc3QgbW9udGhOYW1lID0gdGhpcy5nZXRNb250aE5hbWVGb3JMb2NhbGUobW9udGgsIGxvY2FsZSwgZm9ybWF0IHx8ICdsb25nJyk7XG4gICAgY29uc3QgZGF0ZU5hbWUgPSBnZXREYXRlTmFtZShkYXksIGxvY2FsZSk7XG5cbiAgICBjb25zdCBsYW5ndWFnZSA9IGdldExhbmd1YWdlRnJvbUxvY2FsZShsb2NhbGUpO1xuICAgIGNvbnN0IGRlbGltaXRlciA9IGdldERlbGltaXRlcihsYW5ndWFnZSk7XG5cbiAgICBpZiAodGhpcy5pc1llYXJCZWZvcmVNb250aChsb2NhbGUpKSB7XG4gICAgICByZXR1cm4gW3llYXJOYW1lLCBtb250aE5hbWUsIGRhdGVOYW1lXS5qb2luKGRlbGltaXRlcik7XG4gICAgfVxuICAgIGlmICh0aGlzLmlzTW9udGhCZWZvcmVEYXkobG9jYWxlKSkge1xuICAgICAgY29uc3QgZGF0ZVN0cmluZyA9IFttb250aE5hbWUsIGRhdGVOYW1lXS5qb2luKGRlbGltaXRlcik7XG4gICAgICByZXR1cm4gYCR7ZGF0ZVN0cmluZ30sICR7eWVhck5hbWV9YDtcbiAgICB9XG4gICAgcmV0dXJuIFtkYXRlTmFtZSwgbW9udGhOYW1lLCB5ZWFyTmFtZV0uam9pbihkZWxpbWl0ZXIpO1xuICB9O1xuXG4gIHRoaXMuZ2V0TG9jYWxlTm93ID0gKCkgPT4gbmV3IERhdGUoKTtcblxuICB0aGlzLmdldFVUQ05vdyA9ICgpID0+IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIHJldHVybiB0aGlzLmdldFVUQ0RhdGVGcm9tUGFydHMoXG4gICAgICBub3cuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG5vdy5nZXRVVENNb250aCgpLFxuICAgICAgbm93LmdldFVUQ0RhdGUoKSxcbiAgICAgIG5vdy5nZXRVVENIb3VycygpLFxuICAgICAgbm93LmdldFVUQ01pbnV0ZXMoKSxcbiAgICAgIG5vdy5nZXRVVENTZWNvbmRzKClcbiAgICApO1xuICB9O1xuXG4gIHRoaXMuZ2V0TG9jYWxlRGF0ZVN0cmluZyA9IChkYXRlLCBsb2NhbGUsIGZvcm1hdCkgPT4ge1xuICAgIC8vIENoZWNrIHRoYXQgdGhlIGRhdGUgZXhpc3RzXG4gICAgaWYgKCFkYXRlLmdldEZ1bGxZZWFyKSB7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHZhcmlhYmxlc1xuICAgIGNvbnN0IG5vdyA9IHRoaXMuZ2V0TG9jYWxlTm93KCk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXREYXRlU3RyaW5nKFxuICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpLFxuICAgICAgZGF0ZS5nZXRNb250aCgpLFxuICAgICAgZGF0ZS5nZXREYXRlKCksXG4gICAgICBkYXRlLmdldEhvdXJzKCksXG4gICAgICBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgIGRhdGUuZ2V0U2Vjb25kcygpLFxuICAgICAgZGF0ZS5nZXREYXkoKSxcbiAgICAgIGxvY2FsZSxcbiAgICAgIGRhdGUgLSBub3csXG4gICAgICBub3cuZ2V0RnVsbFllYXIoKSxcbiAgICAgIGZvcm1hdFxuICAgICk7XG4gIH07XG5cbiAgdGhpcy5nZXRVVENEYXRlU3RyaW5nID0gKGRhdGUsIGxvY2FsZSwgZm9ybWF0KSA9PiB7XG4gICAgLy8gQ2hlY2sgdGhhdCB0aGUgZGF0ZSBleGlzdHNcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cblxuICAgIGNvbnN0IG5vdyA9IHRoaXMuZ2V0VVRDTm93KCk7XG5cbiAgICByZXR1cm4gdGhpcy5nZXREYXRlU3RyaW5nKFxuICAgICAgZGF0ZS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgZGF0ZS5nZXRVVENNb250aCgpLFxuICAgICAgZGF0ZS5nZXRVVENEYXRlKCksXG4gICAgICBkYXRlLmdldFVUQ0hvdXJzKCksXG4gICAgICBkYXRlLmdldFVUQ01pbnV0ZXMoKSxcbiAgICAgIGRhdGUuZ2V0VVRDU2Vjb25kcygpLFxuICAgICAgZGF0ZS5nZXRVVENEYXkoKSxcbiAgICAgIGxvY2FsZSxcbiAgICAgIGRhdGUgLSBub3csXG4gICAgICBub3cuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIGZvcm1hdFxuICAgICk7XG4gIH07XG5cbiAgdGhpcy5nZXREYXRlU3RyaW5nID0gKFxuICAgIHllYXIsXG4gICAgbW9udGgsXG4gICAgZGF5LFxuICAgIGhvdXJzLFxuICAgIG1pbnV0ZXMsXG4gICAgc2Vjb25kcyxcbiAgICBkYXlPZldlZWssXG4gICAgbG9jYWxlLFxuICAgIG9mZnNldCxcbiAgICBjdXJyZW50WWVhcixcbiAgICBmb3JtYXRcbiAgKSA9PiB7XG4gICAgY29uc3Qgc2l4RGF5cyA9IDE0NCAqIDYwICogNjAgKiAxMDAwO1xuICAgIGNvbnN0IGVpZ2h0RGF5cyA9IDggKiAyNCAqIDYwICogNjAgKiAxMDAwO1xuXG4gICAgY29uc3QgaGFzVGltZSA9IE1hdGguYWJzKG9mZnNldCkgPCBzaXhEYXlzICYmIGZvcm1hdCAhPT0gJ2xvbmcnO1xuICAgIGNvbnN0IGhhc0RhdGUgPSAhaGFzVGltZTtcbiAgICBjb25zdCBoYXNXZWVrZGF5ID0gTWF0aC5hYnMob2Zmc2V0KSA8IGVpZ2h0RGF5cyB8fCBmb3JtYXQgPT09ICdsb25nJztcbiAgICBjb25zdCBoYXNNb250aCA9ICFoYXNXZWVrZGF5IHx8IGZvcm1hdCA9PT0gJ2xvbmcnO1xuICAgIGNvbnN0IGhhc1llYXIgPSAoIWhhc1dlZWtkYXkgJiYgY3VycmVudFllYXIgIT09IHllYXIpIHx8IGZvcm1hdCA9PT0gJ2xvbmcnO1xuXG4gICAgY29uc3QgeWVhck5hbWUgPSBoYXNZZWFyID8gZ2V0WWVhck5hbWUoeWVhciwgbG9jYWxlKSA6ICcnO1xuICAgIGNvbnN0IG1vbnRoTmFtZSA9IGhhc01vbnRoID8gdGhpcy5nZXRNb250aE5hbWVGb3JMb2NhbGUoXG4gICAgICBtb250aCxcbiAgICAgIGxvY2FsZSxcbiAgICAgIGZvcm1hdCA9PT0gJ3Nob3J0JyA/ICdzaG9ydCcgOiAnbG9uZydcbiAgICApIDogJyc7XG4gICAgY29uc3QgZGF0ZU5hbWUgPSBoYXNEYXRlID8gZ2V0RGF0ZU5hbWUoZGF5LCBsb2NhbGUpIDogJyc7XG4gICAgY29uc3Qgd2Vla2RheU5hbWUgPSBoYXNXZWVrZGF5ID8gdGhpcy5nZXREYXlOYW1lRm9yTG9jYWxlKFxuICAgICAgZGF5T2ZXZWVrLFxuICAgICAgbG9jYWxlLFxuICAgICAgZm9ybWF0ID09PSAnc2hvcnQnID8gJ3Nob3J0JyA6ICdsb25nJ1xuICAgICkgOiAnJztcbiAgICBjb25zdCB0aW1lTmFtZSA9IGhhc1RpbWUgPyB0aGlzLmdldFRpbWVTdHJpbmcoaG91cnMsIG1pbnV0ZXMsIHNlY29uZHMsIGxvY2FsZSkgOiAnJztcblxuICAgIHJldHVybiB0aGlzLmNvbWJpbmVEYXRlUGFydHMoeWVhck5hbWUsIG1vbnRoTmFtZSwgZGF0ZU5hbWUsIHRpbWVOYW1lLCB3ZWVrZGF5TmFtZSwgbG9jYWxlKTtcbiAgfTtcblxuICB0aGlzLmNvbWJpbmVEYXRlUGFydHMgPSAoeWVhck5hbWUsIG1vbnRoTmFtZSwgZGF0ZU5hbWUsIHRpbWVOYW1lLCBkYXlOYW1lLCBsb2NhbGUpID0+IHtcbiAgICBjb25zdCBsYW5nID0gZ2V0TGFuZ3VhZ2VGcm9tTG9jYWxlKGxvY2FsZSk7XG4gICAgY29uc3QgZGVsaW1pdGVyID0gZ2V0RGVsaW1pdGVyKGxhbmcpO1xuXG4gICAgbGV0IGRhdGVTdHJpbmc7XG5cbiAgICBpZiAodGhpcy5pc1llYXJCZWZvcmVNb250aChsb2NhbGUpKSB7XG4gICAgICBkYXRlU3RyaW5nID0gW3llYXJOYW1lLCBtb250aE5hbWUsIGRhdGVOYW1lXS5qb2luKGRlbGltaXRlcikudHJpbSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pc01vbnRoQmVmb3JlRGF5KGxvY2FsZSkpIHtcbiAgICAgIGRhdGVTdHJpbmcgPSBbbW9udGhOYW1lLCBkYXRlTmFtZV0uam9pbihkZWxpbWl0ZXIpLnRyaW0oKTtcbiAgICAgIGlmICh5ZWFyTmFtZSkge1xuICAgICAgICBkYXRlU3RyaW5nICs9IGAsICR7eWVhck5hbWV9YDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0ZVN0cmluZyA9IFtkYXRlTmFtZSwgbW9udGhOYW1lLCB5ZWFyTmFtZV0uam9pbihkZWxpbWl0ZXIpLnRyaW0oKTtcbiAgICB9XG5cbiAgICBpZiAoZGF5TmFtZSkge1xuICAgICAgaWYgKGxhbmcgPT09ICdqYScpIHtcbiAgICAgICAgcmV0dXJuIGAke2RhdGVTdHJpbmd9ICR7dGltZU5hbWV9ICgke2RheU5hbWV9KWAudHJpbSgpO1xuICAgICAgfVxuICAgICAgLy8gRm9yIGxvbmdlciBkYXRlcyB1c2UgYSBjb21tYVxuICAgICAgaWYgKG1vbnRoTmFtZSB8fCB5ZWFyTmFtZSkge1xuICAgICAgICBkYXRlU3RyaW5nID0gYCR7ZGF5TmFtZX0sICR7ZGF0ZVN0cmluZ31gLnRyaW0oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGVTdHJpbmcgPSBgJHtkYXlOYW1lfSAke2RhdGVTdHJpbmd9YC50cmltKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGRhdGVTdHJpbmcgPSBgJHtkYXRlU3RyaW5nfSAke3RpbWVOYW1lfWA7XG5cbiAgICByZXR1cm4gZGF0ZVN0cmluZy50cmltKCk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0RGF0ZU5hbWUoZGF5T2ZNb250aCwgbG9jYWxlKSB7XG4gICAgY29uc3QgbGFuZyA9IGdldExhbmd1YWdlRnJvbUxvY2FsZShsb2NhbGUpO1xuICAgIGNvbnN0IHN1ZmZpeCA9IGdldFN1ZmZpeChEQVlfU1VGRklYRVNfQllfTEFOR1VBR0UsIGRheU9mTW9udGgsIGxhbmcpIHx8ICcnO1xuICAgIHJldHVybiBgJHtkYXlPZk1vbnRofSR7c3VmZml4fWA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRZZWFyTmFtZSh5ZWFyLCBsb2NhbGUpIHtcbiAgICBjb25zdCBsYW5nID0gZ2V0TGFuZ3VhZ2VGcm9tTG9jYWxlKGxvY2FsZSk7XG4gICAgY29uc3Qgc3VmZml4ID0gZ2V0U3VmZml4KFlFQVJfU1VGRklYRVNfQllfTEFOR1VBR0UsIHllYXIsIGxhbmcpO1xuICAgIHJldHVybiBgJHt5ZWFyfSR7c3VmZml4fWA7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb2NhbGlzZWREYXRlTmFtZShkYXRlLCBsb2NhbGUsIGZvcm1hdHRpbmdPYmplY3QpIHtcbiAgICBpZiAoIWRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgbmFtZSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKGxvY2FsZSwgZm9ybWF0dGluZ09iamVjdCk7XG5cbiAgICBpZiAoaXNMb2NhbGVUcmFuc2xhdGlvblJlcXVpcmVzU3RyaXBwaW5nKGxvY2FsZSkpIHtcbiAgICAgIC8vIHN0cmlwIG91dCBhbnkgbnVtYmVycywgc3BhY2VzLCBjb21tYXMgYW5kIGRvdHMgaW4gY2FzZSBicm93c2VyIChjb3VnaC4uLlNhZmFyaSlcbiAgICAgIC8vIGRvZXNuJ3QgcmVzcGVjdCBmb3JtYXRcbiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL1swLTldfFxcc3wsfFxcLi9nLCAnJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VmFsaWREYXRlRm9ybWF0KGZvcm1hdCkge1xuICAgIGNvbnN0IHZhbGlkRm9ybWF0cyA9IFsnbmFycm93JywgJ3Nob3J0JywgJ2xvbmcnXTtcbiAgICBpZiAoIWZvcm1hdCB8fCB2YWxpZEZvcm1hdHMuaW5kZXhPZihmb3JtYXQpIDwgMCkge1xuICAgICAgcmV0dXJuICdsb25nJztcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1hdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZhbGlkTG9jYWxlKGxvY2FsZSkge1xuICAgIGlmICghaXNJbnRsU3VwcG9ydGVkRm9yTG9jYWxlKGxvY2FsZSkpIHtcbiAgICAgIHJldHVybiAnZW4tR0InO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJbnRsU3VwcG9ydGVkRm9yTG9jYWxlKGxvY2FsZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdXBwb3J0ZWRMb2NhbGVzID0gd2luZG93LkludGwuRGF0ZVRpbWVGb3JtYXQuc3VwcG9ydGVkTG9jYWxlc09mKFtsb2NhbGVdKTtcbiAgICAgIHJldHVybiBzdXBwb3J0ZWRMb2NhbGVzLmxlbmd0aCA+IDA7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc0xvY2FsZVRyYW5zbGF0aW9uUmVxdWlyZXNTdHJpcHBpbmcobG9jYWxlKSB7XG4gICAgaWYgKCFsb2NhbGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGNvbnN0IGxhbmcgPSBnZXRMYW5ndWFnZUZyb21Mb2NhbGUobG9jYWxlKTtcbiAgICBpZiAobGFuZyA9PT0gJ2phJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2VGcm9tTG9jYWxlKGxvY2FsZSkge1xuICAgIGlmICghbG9jYWxlKSB7XG4gICAgICByZXR1cm4gJ2VuJztcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsZS5zdWJzdHJpbmcoMCwgMik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWxpbWl0ZXIobGFuZykge1xuICAgIHJldHVybiAoREVMSU1JVEVSU19CWV9MQU5HVUFHRVtsYW5nXSAhPT0gdW5kZWZpbmVkKSA/IERFTElNSVRFUlNfQllfTEFOR1VBR0VbbGFuZ10gOiAnICc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdWZmaXgoc3VmZml4ZXMsIHZhbHVlLCBsYW5nKSB7XG4gICAgaWYgKCFzdWZmaXhlc1tsYW5nXSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBpZiAoc3VmZml4ZXNbbGFuZ10uZXhhY3RNYXRjaCAmJiBzdWZmaXhlc1tsYW5nXS5leGFjdE1hdGNoW3ZhbHVlXSkge1xuICAgICAgcmV0dXJuIHN1ZmZpeGVzW2xhbmddLmV4YWN0TWF0Y2hbdmFsdWVdO1xuICAgIH1cbiAgICBpZiAoc3VmZml4ZXNbbGFuZ10uZW5kc1dpdGggJiYgc3VmZml4ZXNbbGFuZ10uZW5kc1dpdGhbdmFsdWUgJSAxMF0pIHtcbiAgICAgIHJldHVybiBzdWZmaXhlc1tsYW5nXS5lbmRzV2l0aFt2YWx1ZSAlIDEwXTtcbiAgICB9XG4gICAgcmV0dXJuIHN1ZmZpeGVzW2xhbmddLmRlZmF1bHQ7XG4gIH1cblxuICBjb25zdCBERUZBVUxUX01PTlRIX05BTUVTX0JZX0xBTkdVQUdFID0ge1xuICAgIGVuOiBbXG4gICAgICAnSmFudWFyeScsXG4gICAgICAnRmVicnVhcnknLFxuICAgICAgJ01hcmNoJyxcbiAgICAgICdBcHJpbCcsXG4gICAgICAnTWF5JyxcbiAgICAgICdKdW5lJyxcbiAgICAgICdKdWx5JyxcbiAgICAgICdBdWd1c3QnLFxuICAgICAgJ1NlcHRlbWJlcicsXG4gICAgICAnT2N0b2JlcicsXG4gICAgICAnTm92ZW1iZXInLFxuICAgICAgJ0RlY2VtYmVyJ1xuICAgIF0sXG4gICAgamE6IFtcbiAgICAgICcx5pyIJyxcbiAgICAgICcy5pyIJyxcbiAgICAgICcz5pyIJyxcbiAgICAgICc05pyIJyxcbiAgICAgICc15pyIJyxcbiAgICAgICc25pyIJyxcbiAgICAgICc35pyIJyxcbiAgICAgICc45pyIJyxcbiAgICAgICc55pyIJyxcbiAgICAgICcxMOaciCcsXG4gICAgICAnMTHmnIgnLFxuICAgICAgJzEy5pyIJ1xuICAgIF1cbiAgfTtcblxuICBjb25zdCBERUZBVUxUX0RBWV9OQU1FU19CWV9MQU5HVUFHRSA9IHtcbiAgICBlbjogW1xuICAgICAgJ1N1bmRheScsXG4gICAgICAnTW9uZGF5JyxcbiAgICAgICdUdWVzZGF5JyxcbiAgICAgICdXZWRuZXNkYXknLFxuICAgICAgJ1RodXJzZGF5JyxcbiAgICAgICdGcmlkYXknLFxuICAgICAgJ1NhdHVyZGF5J1xuICAgIF0sXG4gICAgamE6IFtcbiAgICAgICfml6UnLCAn5pyIJywgJ+eBqycsICfmsLQnLCAn5pyoJywgJ+mHkScsICflnJ8nXG4gICAgXVxuICB9O1xuXG4gIGNvbnN0IERBWV9TVUZGSVhFU19CWV9MQU5HVUFHRSA9IHtcbiAgICBlbjoge1xuICAgICAgZXhhY3RNYXRjaDoge1xuICAgICAgICAxMTogJ3RoJyxcbiAgICAgICAgMTI6ICd0aCcsXG4gICAgICAgIDEzOiAndGgnXG4gICAgICB9LFxuICAgICAgZW5kc1dpdGg6IHtcbiAgICAgICAgMTogJ3N0JyxcbiAgICAgICAgMjogJ25kJyxcbiAgICAgICAgMzogJ3JkJ1xuICAgICAgfSxcbiAgICAgIGRlZmF1bHQ6ICd0aCdcbiAgICB9LFxuICAgIGRlOiB7XG4gICAgICBkZWZhdWx0OiAnLidcbiAgICB9LFxuICAgIGZpOiB7XG4gICAgICBkZWZhdWx0OiAnLidcbiAgICB9LFxuICAgIGphOiB7XG4gICAgICBkZWZhdWx0OiAn5pelJ1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBZRUFSX1NVRkZJWEVTX0JZX0xBTkdVQUdFID0ge1xuICAgIGphOiB7XG4gICAgICBkZWZhdWx0OiAn5bm0J1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBERUxJTUlURVJTX0JZX0xBTkdVQUdFID0ge1xuICAgIGphOiAnJ1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRlU2VydmljZTtcbiIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2RhdGUtZm9ybWF0Lmh0bWwnO1xuXG5jb25zdCBEYXRlRGlzcGxheSA9IHtcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzOiB7XG4gICAgZGF0ZTogJzwnLFxuICAgIGxvY2FsZTogJzwnLFxuICAgIGZvcm1hdDogJzwnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IERhdGVEaXNwbGF5O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzcGFuIHR3LXRvb2wtdGlwIGRhdGEtb3JpZ2luYWwtdGl0bGU9XFxcInt7ICRjdHJsLmRhdGUgfCB0d0RhdGVGb3JtYXQgOiAkY3RybC5sb2NhbGUgOiAnbG9uZycgfX1cXFwiPiA8c3BhbiBjbGFzcz1cXFwiaGlkZGVuLXhzIGhpZGRlbi1zbVxcXCI+IHt7ICRjdHJsLmRhdGUgfCB0d0RhdGVGb3JtYXQgOiAkY3RybC5sb2NhbGUgOiAkY3RybC5mb3JtYXQgfX0gPC9zcGFuPiA8c3BhbiBjbGFzcz1cXFwiaGlkZGVuLW1kIGhpZGRlbi1sZyBoaWRkZW4teGxcXFwiPiB7eyAkY3RybC5kYXRlIHwgdHdEYXRlRm9ybWF0IDogJGN0cmwubG9jYWxlIDogJ3Nob3J0JyB9fSA8L3NwYW4+IDwvc3Bhbj4gXCI7IiwiXG5mdW5jdGlvbiBEYXRlRm9ybWF0RmlsdGVyKFR3RGF0ZVNlcnZpY2UpIHtcbiAgcmV0dXJuIChkYXRlU3VwcGxpZWQsIGxvY2FsZSwgZm9ybWF0KSA9PiB7XG4gICAgaWYgKCFkYXRlU3VwcGxpZWQpIHtcbiAgICAgIHJldHVybiBkYXRlU3VwcGxpZWQ7XG4gICAgfVxuICAgIGxldCBkYXRlID0gZGF0ZVN1cHBsaWVkO1xuXG4gICAgaWYgKHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJykge1xuICAgICAgZGF0ZSA9IFR3RGF0ZVNlcnZpY2UuZ2V0VVRDRGF0ZUZyb21Jc28oZGF0ZSk7XG5cbiAgICAgIGNvbnN0IGRhdGVPbmx5ID0gbmV3IFJlZ0V4cCgnXlswLTldezR9LVswLTldezJ9LVswLTldezJ9JCcpOyAvLyB5eXl5LW1tLWRkXG4gICAgICBpZiAoZGF0ZU9ubHkudGVzdChkYXRlU3VwcGxpZWQpKSB7XG4gICAgICAgIHJldHVybiBUd0RhdGVTZXJ2aWNlLmdldFVUQ0RhdGVTdHJpbmcoZGF0ZSwgbG9jYWxlLCBmb3JtYXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZGF0ZSkgeyByZXR1cm4gZGF0ZVN1cHBsaWVkOyB9XG4gICAgLy8gVXNlIGxvY2FsZSB0aW1lem9uZVxuICAgIHJldHVybiBUd0RhdGVTZXJ2aWNlLmdldExvY2FsZURhdGVTdHJpbmcoZGF0ZSwgbG9jYWxlLCBmb3JtYXQpO1xuICB9O1xufVxuXG5EYXRlRm9ybWF0RmlsdGVyLiRpbmplY3QgPSBbJ1R3RGF0ZVNlcnZpY2UnXTtcblxuZXhwb3J0IGRlZmF1bHQgRGF0ZUZvcm1hdEZpbHRlcjtcbiIsImltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vZm9ybS1jb250cm9sLmNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vZm9ybS1jb250cm9sLmh0bWwnO1xuXG5jb25zdCBGb3JtQ29udHJvbCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIHJlcXVpcmU6IHtcbiAgICAkbmdNb2RlbDogJ25nTW9kZWwnXG4gIH0sXG4gIGJpbmRpbmdzOiB7XG4gICAgdHlwZTogJ0AnLFxuICAgIG5hbWU6ICdAJyxcbiAgICBpZDogJ0AnLFxuICAgIGxhYmVsOiAnQCcsXG4gICAgcGxhY2Vob2xkZXI6ICdAJyxcbiAgICBzdGVwOiAnQCcsXG4gICAgbG9jYWxlOiAnQCcsXG4gICAgdXBsb2FkQWNjZXB0OiAnQCcsXG4gICAgdXBsb2FkSWNvbjogJ0AnLFxuICAgIHVwbG9hZFRvb0xhcmdlTWVzc2FnZTogJ0AnLFxuICAgIG9wdGlvbnM6ICc8JyxcblxuICAgIG5nTW9kZWw6ICc9JyxcbiAgICBuZ0NoYW5nZTogJyYnLFxuICAgIG5nRm9jdXM6ICcmJyxcbiAgICBuZ0JsdXI6ICcmJyxcbiAgICBuZ1JlcXVpcmVkOiAnPCcsXG4gICAgbmdEaXNhYmxlZDogJzwnLFxuXG4gICAgLy8gbmdNaW5sZW5ndGgvbmdNYXhsZW5ndGggaGF2ZSBkZWZhdWx0IGJlaGF2aW91ciB0aGF0IGNhbm5vdCBiZSBvdmVycmlkZGVuXG4gICAgbmdNaW5sZW5ndGg6ICc8dHdNaW5sZW5ndGgnLFxuICAgIG5nTWF4bGVuZ3RoOiAnPHR3TWF4bGVuZ3RoJyxcbiAgICBuZ01pbjogJzwnLFxuICAgIG5nTWF4OiAnPCcsXG4gICAgbmdQYXR0ZXJuOiAnPCcsXG5cbiAgICB1cGxvYWRPcHRpb25zOiAnPCcsXG4gICAgaGVscE9wdGlvbnM6ICc8JyxcbiAgICB0ZXh0Rm9ybWF0OiAnPCcsXG4gICAgdmFsaWRhdGlvbkFzeW5jOiAnPCcsXG4gICAgcGVyc2lzdEFzeW5jOiAnPCcsXG4gICAgb25Bc3luY0ZhaWx1cmU6ICcmJyxcbiAgICBvbkFzeW5jU3VjY2VzczogJyYnLFxuICAgIC8vIExpdmUgY2FwdHVyZSBwYXJhbWV0ZXJzIGZvciB1cGxvYWQgY29tcG9uZW50XG4gICAgZmlsZVVwbG9hZFNvdXJjZTogJzwnLFxuICAgIGNhbWVyYU9wdGlvbnM6ICc8J1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtQ29udHJvbDtcbiIsImxldCAkY3RybDtcblxuY2xhc3MgRm9ybUNvbnRyb2xDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoJGVsZW1lbnQpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJGVsZW1lbnQ7XG4gICAgdGhpcy5lbGVtZW50ID0gJGVsZW1lbnRbMF07XG5cbiAgICAvLyBUaGlzIGlzIGEgYml0IGxhbWUsIGJ1dCBuZWNlc3NhcnkgZHVlIHRvIHRoZSB3YXkgdHdVcGxvYWQncyBjYWxsYmFja3Mgd29ya1xuICAgIC8vIEJlY2F1c2UgdGhleSB1c2UgJz0nLCBub3QgJyYnLCB3ZSBsb3NlIHJlZmVyZW5jZSB0byB0aGlzIGNvbnRyb2xsZXIuXG4gICAgJGN0cmwgPSB0aGlzO1xuICB9XG5cbiAgJG9uSW5pdCgpIHtcbiAgICB0aGlzLiRuZ01vZGVsID0gdGhpcy4kZWxlbWVudC5jb250cm9sbGVyKCduZ01vZGVsJyk7XG4gICAgdGhpcy5hZGRWYWxpZGF0b3JzKCk7XG5cbiAgICBpZiAoIXRoaXMudXBsb2FkT3B0aW9ucykge1xuICAgICAgdGhpcy51cGxvYWRPcHRpb25zID0ge307XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlKCkge1xuICAgIHRoaXMuJG5nTW9kZWwuJHNldERpcnR5KCk7XG5cbiAgICAvLyBQYXNzIGludGVybmFsIHZhbHVlIHRocm91Z2ggb3VyIHZhbGlkYXRvcnNcbiAgICB0aGlzLiRuZ01vZGVsLiRzZXRWaWV3VmFsdWUodGhpcy5pbnRlcm5hbE1vZGVsKTtcbiAgfVxuXG4gIGZvY3VzKCkge1xuICAgIHRoaXMuZWxlbWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnZm9jdXMnKSk7XG4gIH1cblxuICBibHVyKCkge1xuICAgIHRoaXMuJG5nTW9kZWwuJHNldFRvdWNoZWQoKTtcbiAgICB0aGlzLmVsZW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2JsdXInKSk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgb25Bc3luY1VwbG9hZFN1Y2Nlc3MoZmlsZSwgcmVzcG9uc2UpIHtcbiAgICBpZiAoJGN0cmwub25Bc3luY1N1Y2Nlc3MpIHtcbiAgICAgICRjdHJsLm9uQXN5bmNTdWNjZXNzKHsgcmVzcG9uc2UgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gIG9uQXN5bmNVcGxvYWRGYWlsdXJlKHJlc3BvbnNlKSB7XG4gICAgaWYgKCRjdHJsLm9uQXN5bmNGYWlsdXJlKSB7XG4gICAgICAkY3RybC5vbkFzeW5jRmFpbHVyZSh7IHJlc3BvbnNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBhdXRvY29tcGxldGUgaGlkZXMgb3VyIGZvcm0gaGVscCBzbyB3ZSBuZWVkIHRvIGRpc2FibGUgaXQgd2hlbiBoZWxwIHRleHRcbiAgICogaXMgcHJlc2VudC4gQ2hyb21lIGlnbm9yZXMgYXV0b2NvbXBsZXRlPW9mZiwgdGhlIG9ubHkgd2F5IHRvIGRpc2FibGUgaXQgaXNcbiAgICogdG8gcHJvdmlkZSBhbiAnaW52YWxpZCcgdmFsdWUsIGZvciB3aGljaCAnZGlzYWJsZWQnIHNlcnZlcy5cbiAgICovXG4gIGdldEF1dG9jb21wbGV0ZVN0YXR1cygpIHtcbiAgICByZXR1cm4gKHRoaXMuaGVscE9wdGlvbnMgJiYgdGhpcy5oZWxwT3B0aW9ucy5tZXNzYWdlKSA/ICdkaXNhYmxlZCcgOiAnb24nO1xuICB9XG5cbiAgYWRkVmFsaWRhdG9ycygpIHtcbiAgICBjb25zdCAkbmdNb2RlbCA9IHRoaXMuJG5nTW9kZWw7XG5cbiAgICAkbmdNb2RlbC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IChtb2RlbFZhbHVlLCB2aWV3VmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gICAgICByZXR1cm4gIXZhbHVlIHx8ICF0aGlzLm5nUmVxdWlyZWQ7XG4gICAgfTtcblxuICAgICRuZ01vZGVsLiR2YWxpZGF0b3JzLm1pbmxlbmd0aCA9IChtb2RlbFZhbHVlLCB2aWV3VmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG4gICAgICBpZiAodGhpcy50eXBlICE9PSAndGV4dCcgfHwgIXRoaXMubmdNaW5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA+PSB0aGlzLm5nTWlubGVuZ3RoO1xuICAgIH07XG5cbiAgICAkbmdNb2RlbC4kdmFsaWRhdG9ycy5tYXhsZW5ndGggPSAobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgICAgaWYgKHRoaXMudHlwZSAhPT0gJ3RleHQnIHx8ICF0aGlzLm5nTWF4bGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPD0gdGhpcy5uZ01heGxlbmd0aDtcbiAgICB9O1xuXG4gICAgLy8gTWluIGFuZCBtYXggZG8gbm90IHdvcmsgb24gY3VzdG9tIGVsZW1lbnRzLCBhZGQgbWFudWFsIHZhbGlkYXRvcnNcbiAgICAkbmdNb2RlbC4kdmFsaWRhdG9ycy5taW4gPSAobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSA9PiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLm5nTWluID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInXG4gICAgICAgICYmIHR5cGVvZiB0aGlzLm5nTWluID09PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPj0gdGhpcy5uZ01pbjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdkYXRlJ1xuICAgICAgICAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnXG4gICAgICAgICYmIHR5cGVvZiB0aGlzLm5nTWluID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPj0gdGhpcy5uZ01pbjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdkYXRlJ1xuICAgICAgICAmJiB2YWx1ZSBpbnN0YW5jZW9mIERhdGVcbiAgICAgICAgJiYgdGhpcy5uZ01pbiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID49IHRoaXMubmdNaW47XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgJG5nTW9kZWwuJHZhbGlkYXRvcnMubWF4ID0gKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkgPT4ge1xuICAgICAgY29uc3QgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5uZ01heCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJ1xuICAgICAgICAmJiB0eXBlb2YgdGhpcy5uZ01heCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIDw9IHRoaXMubmdNYXg7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnZGF0ZSdcbiAgICAgICAgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJ1xuICAgICAgICAmJiB0eXBlb2YgdGhpcy5uZ01heCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIDw9IHRoaXMubmdNYXg7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnZGF0ZSdcbiAgICAgICAgJiYgdmFsdWUgaW5zdGFuY2VvZiBEYXRlXG4gICAgICAgICYmIHRoaXMubmdNYXggaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8PSB0aGlzLm5nTWF4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgICRuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goKG1vZGVsVmFsdWUpID0+IHtcbiAgICAgIHRoaXMuaW50ZXJuYWxNb2RlbCA9IG1vZGVsVmFsdWU7XG4gICAgICByZXR1cm4gbW9kZWxWYWx1ZTtcbiAgICB9KTtcbiAgfVxufVxuXG5Gb3JtQ29udHJvbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJGVsZW1lbnQnXTtcblxuZXhwb3J0IGRlZmF1bHQgRm9ybUNvbnRyb2xDb250cm9sbGVyO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgbmctc3dpdGNoPSRjdHJsLnR5cGU+IDxkaXYgbmctc3dpdGNoLXdoZW49cmFkaW8gY2xhc3M9cmFkaW8gbmctY2xhc3M9XFxcIntkaXNhYmxlZDogJGN0cmwubmdEaXNhYmxlZCwgJ3JhZGlvLWxnJzogb3B0aW9uLnNlY29uZGFyeX1cXFwiIG5nLXJlcGVhdD1cXFwib3B0aW9uIGluICRjdHJsLm9wdGlvbnNcXFwiPiA8bGFiZWw+IDx0dy1yYWRpbyBuYW1lPXt7JGN0cmwubmFtZX19IG5nLXZhbHVlPW9wdGlvbi52YWx1ZSBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKG9wdGlvbi52YWx1ZSkgbmctY2xpY2s9JGN0cmwuY2hhbmdlKG9wdGlvbi52YWx1ZSkgbmctZm9jdXM9JGN0cmwuZm9jdXMoKSBuZy1ibHVyPSRjdHJsLmJsdXIoKT48L3R3LXJhZGlvPiB7e29wdGlvbi5sYWJlbH19IDxzbWFsbCBuZy1pZj1vcHRpb24uc2Vjb25kYXJ5Pnt7b3B0aW9uLnNlY29uZGFyeX19PC9zbWFsbD4gPC9sYWJlbD4gPC9kaXY+IDxkaXYgbmctc3dpdGNoLXdoZW49Y2hlY2tib3ggY2xhc3M9Y2hlY2tib3ggbmctY2xhc3M9XFxcIntkaXNhYmxlZDogJGN0cmwubmdEaXNhYmxlZH1cXFwiPiA8bGFiZWw+IDx0dy1jaGVja2JveCBuYW1lPXt7JGN0cmwubmFtZX19IG5nLW1vZGVsPSRjdHJsLmludGVybmFsTW9kZWwgbmctcmVxdWlyZWQ9JGN0cmwubmdSZXF1aXJlZCBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIG5nLWNoYW5nZT0kY3RybC5jaGFuZ2UoJGN0cmwuaW50ZXJuYWxNb2RlbCkgbmctY2xpY2s9JGN0cmwuY2hhbmdlKCkgbmctZm9jdXM9JGN0cmwuZm9jdXMoKSBuZy1ibHVyPSRjdHJsLmJsdXIoKT48L3R3LWNoZWNrYm94PiB7eyRjdHJsLnBsYWNlaG9sZGVyfX0gPC9sYWJlbD4gPC9kaXY+IDxkaXYgbmctc3dpdGNoLXdoZW49c2VsZWN0PiA8dHctc2VsZWN0IG5hbWU9e3skY3RybC5uYW1lfX0gb3B0aW9ucz0kY3RybC5vcHRpb25zIGZpbHRlcj1cXFwie3sgJGN0cmwub3B0aW9ucy5sZW5ndGggPiA5ID8gJyAnIDogJycgfX1cXFwiIHBsYWNlaG9sZGVyPXt7JGN0cmwucGxhY2Vob2xkZXJ9fSBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKCRjdHJsLmludGVybmFsTW9kZWwpIG5nLWZvY3VzPSRjdHJsLmZvY3VzKCkgbmctYmx1cj0kY3RybC5ibHVyKCk+PC90dy1zZWxlY3Q+IDwvZGl2PiA8ZGl2IG5nLXN3aXRjaC13aGVuPWZpbGU+IDx0dy11cGxvYWQgbmFtZT17eyRjdHJsLm5hbWV9fSBsYWJlbD17eyRjdHJsLmxhYmVsfX0gaWNvbj17eyRjdHJsLnVwbG9hZEljb259fSBoZWxwLWltYWdlPXt7JGN0cmwuaGVscE9wdGlvbnMuaW1hZ2V9fSBwbGFjZWhvbGRlcj17eyRjdHJsLnBsYWNlaG9sZGVyfX0gYWNjZXB0PXt7JGN0cmwudXBsb2FkQWNjZXB0fX0gY29tcGxldGUtdGV4dD17eyRjdHJsLmxhYmVsfX0gYnV0dG9uLXRleHQ9e3skY3RybC51cGxvYWRPcHRpb25zLmJ1dHRvblRleHR9fSBjYW5jZWwtdGV4dD17eyRjdHJsLnVwbG9hZE9wdGlvbnMuY2FuY2VsVGV4dH19IHByb2Nlc3NpbmctdGV4dD1cXFwie3sgJGN0cmwudXBsb2FkT3B0aW9ucy5wcm9jZXNzaW5nVGV4dCB9fVxcXCIgc3VjY2Vzcy10ZXh0PVxcXCJ7eyAkY3RybC51cGxvYWRPcHRpb25zLnN1Y2Nlc3NUZXh0IH19XFxcIiBmYWlsdXJlLXRleHQ9XFxcInt7ICRjdHJsLnVwbG9hZE9wdGlvbnMuZmFpbHVyZVRleHQgfX1cXFwiIHZhbGlkYXRpb24tbWVzc2FnZXM9JGN0cmwudXBsb2FkT3B0aW9ucy52YWxpZGF0aW9uTWVzc2FnZXMgdmlldy1pbWFnZS10ZXh0PXt7JGN0cmwudXBsb2FkT3B0aW9ucy52aWV3SW1hZ2VUZXh0fX0gdG9vLWxhcmdlLW1lc3NhZ2U9e3skY3RybC51cGxvYWRUb29MYXJnZU1lc3NhZ2V9fSBtYXgtc2l6ZT0kY3RybC5uZ01heCBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKCRjdHJsLmludGVybmFsTW9kZWwpIG5nLWZvY3VzPSRjdHJsLmZvY3VzKCkgbmctYmx1cj0kY3RybC5ibHVyKCkgaHR0cC1vcHRpb25zPSRjdHJsLnBlcnNpc3RBc3luYyBzb3VyY2U9JGN0cmwuZmlsZVVwbG9hZFNvdXJjZSBjYW1lcmEtb3ZlcmxheT17eyRjdHJsLmNhbWVyYU9wdGlvbnMub3ZlcmxheX19IGNhbWVyYS1kaXJlY3Rpb249e3skY3RybC5jYW1lcmFPcHRpb25zLmRpcmVjdGlvbn19IG9uLXN1Y2Nlc3M9JGN0cmwub25Bc3luY1VwbG9hZFN1Y2Nlc3Mgb24tZmFpbHVyZT0kY3RybC5vbkFzeW5jVXBsb2FkRmFpbHVyZT48L3R3LXVwbG9hZD4gPC9kaXY+IDxkaXYgbmctc3dpdGNoLXdoZW49ZGF0ZXxkYXRlLXRpbWUgbmctc3dpdGNoLXdoZW4tc2VwYXJhdG9yPXw+IDx0dy1kYXRlIG5hbWU9e3skY3RybC5uYW1lfX0gbG9jYWxlPXt7JGN0cmwubG9jYWxlfX0gbmctbWluPSRjdHJsLm5nTWluIG5nLW1heD0kY3RybC5uZ01heCBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLW1vZGVsLW9wdGlvbnM9XFxcInsgYWxsb3dJbnZhbGlkOiB0cnVlIH1cXFwiIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKCRjdHJsLmludGVybmFsTW9kZWwpIG5nLWZvY3VzPSRjdHJsLmZvY3VzKCkgbmctYmx1cj0kY3RybC5ibHVyKCkgbW9kZWwtdHlwZT1zdHJpbmc+PC90dy1kYXRlPiA8L2Rpdj4gPGRpdiBuZy1zd2l0Y2gtd2hlbj10ZWw+IDx0dy10ZWxlcGhvbmUgbmFtZT1cXFwie3sgJGN0cmwubmFtZSB9fVxcXCIgcGxhY2Vob2xkZXI9XFxcInt7ICRjdHJsLnBsYWNlaG9sZGVyIH19XFxcIiBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLW1vZGVsLW9wdGlvbnM9XFxcInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMzAwIH1cXFwiIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKCRjdHJsLmludGVybmFsTW9kZWwpIG5nLWZvY3VzPSRjdHJsLmZvY3VzKCkgbmctYmx1cj0kY3RybC5ibHVyKCkgbG9jYWxlPVxcXCJ7eyAkY3RybC5sb2NhbGUgfX1cXFwiIHNlYXJjaC1wbGFjZWhvbGRlcj1cXFwiIFxcXCI+PC90dy10ZWxlcGhvbmU+IDwvZGl2PiA8aW5wdXQgbmctc3dpdGNoLXdoZW49bnVtYmVyIG5hbWU9e3skY3RybC5uYW1lfX0gdHlwZT1udW1iZXIgc3RlcD17eyRjdHJsLnN0ZXB9fSBjbGFzcz1mb3JtLWNvbnRyb2wgcGxhY2Vob2xkZXI9e3skY3RybC5wbGFjZWhvbGRlcn19IG5nLW1vZGVsPSRjdHJsLmludGVybmFsTW9kZWwgbmctbW9kZWwtb3B0aW9ucz1cXFwieyBhbGxvd0ludmFsaWQ6IHRydWUsIGRlYm91bmNlOiAzMDAgfVxcXCIgbmctcmVxdWlyZWQ9JGN0cmwubmdSZXF1aXJlZCBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIG5nLWNoYW5nZT0kY3RybC5jaGFuZ2UoJGN0cmwuaW50ZXJuYWxNb2RlbCkgbmctZm9jdXM9JGN0cmwuZm9jdXMoKSBuZy1ibHVyPSRjdHJsLmJsdXIoKSBuZy1taW49JGN0cmwubmdNaW4gbmctbWF4PSRjdHJsLm5nTWF4IGF1dG9jb21wbGV0ZT1cXFwie3sgJGN0cmwuZ2V0QXV0b2NvbXBsZXRlU3RhdHVzKCkgfX1cXFwiLz4gPGlucHV0IG5nLXN3aXRjaC13aGVuPWhpZGRlbiBuYW1lPXt7JGN0cmwubmFtZX19IHR5cGU9aGlkZGVuIG5nLW1vZGVsPSRjdHJsLm5nTW9kZWwgLz4gPGlucHV0IG5nLXN3aXRjaC13aGVuPXBhc3N3b3JkIG5hbWU9e3skY3RybC5uYW1lfX0gdHlwZT1wYXNzd29yZCBjbGFzcz1mb3JtLWNvbnRyb2wgcGxhY2Vob2xkZXI9e3skY3RybC5wbGFjZWhvbGRlcn19IG5nLW1vZGVsPSRjdHJsLmludGVybmFsTW9kZWwgbmctbW9kZWwtb3B0aW9ucz1cXFwieyBhbGxvd0ludmFsaWQ6IHRydWUsIGRlYm91bmNlOiAzMDAgfVxcXCIgbmctcmVxdWlyZWQ9JGN0cmwubmdSZXF1aXJlZCBuZy1kaXNhYmxlZD0kY3RybC5uZ0Rpc2FibGVkIG5nLWNoYW5nZT0kY3RybC5jaGFuZ2UoJGN0cmwuaW50ZXJuYWxNb2RlbCkgbmctZm9jdXM9JGN0cmwuZm9jdXMoKSBuZy1ibHVyPSRjdHJsLmJsdXIoKSBuZy1taW5sZW5ndGg9JGN0cmwubmdNaW5sZW5ndGggbmctbWF4bGVuZ3RoPSRjdHJsLm5nTWF4bGVuZ3RoIGF1dG9jb21wbGV0ZT1cXFwie3sgJGN0cmwuZ2V0QXV0b2NvbXBsZXRlU3RhdHVzKCkgfX1cXFwiLz4gPHRleHRhcmVhIG5nLXN3aXRjaC13aGVuPXRleHRhcmVhIG5hbWU9e3skY3RybC5uYW1lfX0gY2xhc3M9Zm9ybS1jb250cm9sIHBsYWNlaG9sZGVyPXt7JGN0cmwucGxhY2Vob2xkZXJ9fSBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLW1vZGVsLW9wdGlvbnM9XFxcInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMzAwIH1cXFwiIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctcGF0dGVybj0kY3RybC5uZ1BhdHRlcm4gbmctbWlubGVuZ3RoPSRjdHJsLm5nTWlubGVuZ3RoIG5nLW1heGxlbmd0aD0kY3RybC5uZ01heGxlbmd0aCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKCRjdHJsLmludGVybmFsTW9kZWwpIG5nLWZvY3VzPSRjdHJsLmZvY3VzKCkgbmctYmx1cj0kY3RybC5ibHVyKCkgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCBhdXRvY29tcGxldGU9XFxcInt7ICRjdHJsLmdldEF1dG9jb21wbGV0ZVN0YXR1cygpIH19XFxcIj48L3RleHRhcmVhPiA8aW5wdXQgbmctc3dpdGNoLWRlZmF1bHQgbmFtZT17eyRjdHJsLm5hbWV9fSB0eXBlPXRleHQgY2xhc3M9Zm9ybS1jb250cm9sIHBsYWNlaG9sZGVyPXt7JGN0cmwucGxhY2Vob2xkZXJ9fSBuZy1tb2RlbD0kY3RybC5pbnRlcm5hbE1vZGVsIG5nLW1vZGVsLW9wdGlvbnM9XFxcInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMzAwIH1cXFwiIG5nLXJlcXVpcmVkPSRjdHJsLm5nUmVxdWlyZWQgbmctcGF0dGVybj0kY3RybC5uZ1BhdHRlcm4gbmctbWlubGVuZ3RoPSRjdHJsLm5nTWlubGVuZ3RoIG5nLW1heGxlbmd0aD0kY3RybC5uZ01heGxlbmd0aCBuZy1jaGFuZ2U9JGN0cmwuY2hhbmdlKCRjdHJsLmludGVybmFsTW9kZWwpIG5nLWZvY3VzPSRjdHJsLmZvY3VzKCkgbmctYmx1cj0kY3RybC5ibHVyKCkgbmctZGlzYWJsZWQ9JGN0cmwubmdEaXNhYmxlZCB0dy10ZXh0LWZvcm1hdD1cXFwie3sgJGN0cmwudGV4dEZvcm1hdCB9fVxcXCIgYXV0b2NvbXBsZXRlPVxcXCJ7eyAkY3RybC5nZXRBdXRvY29tcGxldGVTdGF0dXMoKSB9fVxcXCIvPiA8L2Rpdj4gXCI7IiwiaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9maWVsZC5jb250cm9sbGVyLmpzJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2ZpZWxkLmh0bWwnO1xuXG5jb25zdCBGaWVsZCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzOiB7XG4gICAgbmFtZTogJ0AnLFxuICAgIG1vZGVsOiAnPScsXG4gICAgaW5pdGlhbEZpZWxkOiAnPGZpZWxkJyxcbiAgICBsb2NhbGU6ICdAJyxcbiAgICByZXF1aXJlZDogJzwnLFxuICAgIHVwbG9hZE9wdGlvbnM6ICc8JyxcbiAgICBjaGFuZ2VIYW5kbGVyOiAnJj9vbkNoYW5nZScsXG4gICAgZm9jdXNIYW5kbGVyOiAnJj9vbkZvY3VzJyxcbiAgICBibHVySGFuZGxlcjogJyY/b25CbHVyJyxcbiAgICBlcnJvck1lc3NhZ2U6ICc8JyxcbiAgICB3YXJuaW5nTWVzc2FnZTogJzwnLFxuICAgIHZhbGlkYXRpb25NZXNzYWdlczogJzwnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IEZpZWxkO1xuIiwiY2xhc3MgRmllbGRDb250cm9sbGVyIHtcbiAgY29uc3RydWN0b3IoUmVxdWlyZW1lbnRzU2VydmljZSkge1xuICAgIHRoaXMuUmVxdWlyZW1lbnRzU2VydmljZSA9IFJlcXVpcmVtZW50c1NlcnZpY2U7XG4gIH1cblxuICAkb25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlcy5pbml0aWFsRmllbGQpIHtcbiAgICAgIHRoaXMuZmllbGQgPSBjb3B5SlNPTih0aGlzLmluaXRpYWxGaWVsZCk7XG5cbiAgICAgIHRoaXMuY29udHJvbCA9IHRoaXMuZmllbGQuY29udHJvbCA/IHRoaXMuZmllbGQuY29udHJvbFxuICAgICAgICA6IHRoaXMuUmVxdWlyZW1lbnRzU2VydmljZS5nZXRDb250cm9sVHlwZShjaGFuZ2VzLmluaXRpYWxGaWVsZC5jdXJyZW50VmFsdWUpO1xuXG4gICAgICAvLyBUT0RPIHdlIHNob3VsZCBwcm9iYWJseSBkbyB0aGlzIGF0IGZpZWxkc2V0IGxldmVsLCBzbyB0aGUgbW9kZWwgaXMgYXZhaWxhYmxlXG4gICAgICBpZiAodGhpcy5maWVsZC52YWx1ZXNBc3luYykge1xuICAgICAgICB0aGlzLlJlcXVpcmVtZW50c1NlcnZpY2UucHJlcFZhbHVlc0FzeW5jKHRoaXMuZmllbGQsIHt9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgdGhlIGZpZWxkIGlzIHJlcXVpcmVkLCBhbmQgb25seSBhbGxvd3Mgb25lIHZhbHVlLCBzZXQgaXQgdG8gdGhhdFxuICAgICAgaWYgKHRoaXMucmVxdWlyZWQgJiYgdGhpcy5maWVsZC5lbnVtICYmIHRoaXMuZmllbGQuZW51bS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdGhpcy5tb2RlbCA9IHRoaXMuZmllbGQuZW51bVswXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZmllbGQuZGVmYXVsdCAmJiAhdGhpcy5tb2RlbCkge1xuICAgICAgICB0aGlzLm1vZGVsID0gdGhpcy5maWVsZC5kZWZhdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy52YWxpZGF0aW9uTWVzc2FnZXMgJiYgIXRoaXMuZmllbGQudmFsaWRhdGlvbk1lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMuZmllbGQudmFsaWRhdGlvbk1lc3NhZ2VzID0gdGhpcy52YWxpZGF0aW9uTWVzc2FnZXM7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgb25Gb2N1cygpIHtcbiAgICBpZiAodGhpcy5mb2N1c0hhbmRsZXIpIHtcbiAgICAgIHRoaXMuZm9jdXNIYW5kbGVyKCk7XG4gICAgfVxuICB9XG5cbiAgb25CbHVyKCkge1xuICAgIGlmICh0aGlzLmJsdXJIYW5kbGVyKSB7XG4gICAgICB0aGlzLmJsdXJIYW5kbGVyKCk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UobmV3VmFsdWUpIHtcbiAgICBpZiAodGhpcy5jaGFuZ2VIYW5kbGVyKSB7XG4gICAgICB0aGlzLmNoYW5nZUhhbmRsZXIoeyB2YWx1ZTogbmV3VmFsdWUgfSk7XG4gICAgfVxuICAgIGlmICh0aGlzLmVycm9yTWVzc2FnZSkge1xuICAgICAgZGVsZXRlIHRoaXMuZXJyb3JNZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIG9uUGVyc2lzdEFzeW5jRmFpbHVyZShyZXNwb25zZSkge1xuICAgIC8vIEludGVycm9nYXRlIHJlc3BvbnNlIGFuZCBleHRyYWN0IGVycm9yIG1lc3NhZ2VcbiAgICBpZiAoIXRoaXMudXBsb2FkT3B0aW9ucykge1xuICAgICAgdGhpcy51cGxvYWRPcHRpb25zID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlc3BvbnNlLmRhdGEpIHtcbiAgICAgIC8vIFdoZW4gd2UgZG8gaWQgcHJlIGV2YWwsIHdlIGdldCBlcnJvciBtZXNzYWdlcyBhbmQgdmFsaWRhdGlvbnMgYmFjayBpblxuICAgICAgLy8gdGhlIHJlc3BvbnNlLCBleHRyYWN0IHRoZW0gYW5kIHBhc3MgYmFjayB0byBiZSBzaG93biBpbiB0aGUgdXBsb2FkLlxuICAgICAgdGhpcy5leHRyYWN0RXJyb3JzKHJlc3BvbnNlLmRhdGEpO1xuICAgIH0gZWxzZSBpZiAocmVzcG9uc2Uub3JpZ2luYWxEYXRhKSB7XG4gICAgICAvLyBmcm9udGVuZC1jb21tb24gaGFzIGFuIGludGVyY2VwdG9yIHRoYXQgc29tZXRpbWVzIGNoYW5nZXMgdGhlIHJlc3BvbnNlXG4gICAgICAvLyBmb3JtYXQsIG1vdmluZyB0aGUgcmVzcG9uc2UgZGF0YSB1bmRlciBhIG5ldyBrZXkgJ29yaWdpbmFsRGF0YSdcbiAgICAgIHRoaXMuZXh0cmFjdEVycm9ycyhyZXNwb25zZS5vcmlnaW5hbERhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGV4dHJhY3RFcnJvcnMoZGF0YSkge1xuICAgIC8vIE5vdGU6IGVycm9yIGRhdGEgY2FuIG1hbmlwdWxhdGVkIGJ5IGludGVyY2VwdG9ycywgdGhpcyBlbnN1cmVzIHdlIHN0aWxsIGdldCBkYXRhIG5lZWRlZFxuICAgIGlmIChkYXRhLm1lc3NhZ2UpIHtcbiAgICAgIHRoaXMudXBsb2FkT3B0aW9ucy5mYWlsdXJlVGV4dCA9IGRhdGEubWVzc2FnZTtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhLmVycm9ycykpIHtcbiAgICAgIHRoaXMudXBsb2FkT3B0aW9ucy52YWxpZGF0aW9uTWVzc2FnZXMgPSBkYXRhLmVycm9ycy5tYXAoZXJyb3IgPT4gZXJyb3IubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgb25QZXJzaXN0QXN5bmNTdWNjZXNzKHJlc3BvbnNlKSB7XG4gICAgaWYgKCF0aGlzLnVwbG9hZE9wdGlvbnMpIHtcbiAgICAgIHRoaXMudXBsb2FkT3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIC8vIFRoZXNlIGFyZSB0b28gc3BlY2lmaWMgdG8gb25lIHVzZSBjYXNlLlxuICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgdGhpcy51cGxvYWRPcHRpb25zLnN1Y2Nlc3NUZXh0ID0gcmVzcG9uc2UuZGF0YS5tZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBzaXplT2Yob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA/IE9iamVjdC5rZXlzKG9iaikubGVuZ3RoIDogMDtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICBpc0ZlZWRiYWNrRGV0YWNoZWQoY29udHJvbFR5cGUpIHtcbiAgICBpZiAoY29udHJvbFR5cGUgPT09ICdkYXRlJ1xuICAgICAgICB8fCBjb250cm9sVHlwZSA9PT0gJ2ZpbGUnXG4gICAgICAgIHx8IGNvbnRyb2xUeXBlID09PSAncmFkaW8nXG4gICAgICAgIHx8IGNvbnRyb2xUeXBlID09PSAndGVsJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb3B5SlNPTihvYmopIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbkZpZWxkQ29udHJvbGxlci4kaW5qZWN0ID0gWydUd1JlcXVpcmVtZW50c1NlcnZpY2UnXTtcblxuZXhwb3J0IGRlZmF1bHQgRmllbGRDb250cm9sbGVyO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXAgdHctZmllbGQte3sgJGN0cmwubmFtZSB9fVxcXCIgbmctY2xhc3M9XFxcIntcXG4gICAgJ2hhcy1lcnJvcic6ICRjdHJsLmZpZWxkLmVycm9yTWVzc2FnZSB8fCAkY3RybC5lcnJvck1lc3NhZ2UsXFxuICAgICdoYXMtd2FybmluZyc6ICRjdHJsLmZpZWxkLndhcm5pbmdNZXNzYWdlIHx8ICRjdHJsLndhcm5pbmdNZXNzYWdlLFxcbiAgICAnaGlkZGVuJzogJGN0cmwuZmllbGQuaGlkZGVuXFxuICB9XFxcIj4gPGxhYmVsIGNsYXNzPWNvbnRyb2wtbGFiZWwgbmctaWY9XFxcIiRjdHJsLmNvbnRyb2wgIT09ICdmaWxlJ1xcXCI+IHt7JGN0cmwuZmllbGQudGl0bGV9fSA8L2xhYmVsPiA8dHctZm9ybS1jb250cm9sIG5hbWU9XFxcInt7ICRjdHJsLm5hbWUgfX1cXFwiIGxhYmVsPVxcXCJ7eyAkY3RybC5maWVsZC50aXRsZSB9fVxcXCIgdHlwZT1cXFwie3sgJGN0cmwuY29udHJvbCB8IGxvd2VyY2FzZSB9fVxcXCIgcGxhY2Vob2xkZXI9XFxcInt7ICRjdHJsLmZpZWxkLnBsYWNlaG9sZGVyIH19XFxcIiBoZWxwLW9wdGlvbnM9JGN0cmwuZmllbGQuaGVscCBsb2NhbGU9XFxcInt7ICRjdHJsLmxvY2FsZSB9fVxcXCIgdXBsb2FkLWFjY2VwdD1cXFwie3sgJGN0cmwuZmllbGQuYWNjZXB0IH19XFxcIiB1cGxvYWQtaWNvbj1cXFwie3sgJGN0cmwuZmllbGQuaWNvbiB9fVxcXCIgdXBsb2FkLXRvby1sYXJnZS1tZXNzYWdlPVxcXCJ7eyAkY3RybC5maWVsZC50b29MYXJnZU1lc3NhZ2UgfX1cXFwiIG9wdGlvbnM9JGN0cmwuZmllbGQudmFsdWVzIHVwbG9hZC1vcHRpb25zPSRjdHJsLnVwbG9hZE9wdGlvbnMgbmctbW9kZWw9JGN0cmwubW9kZWwgbmctZm9jdXM9JGN0cmwub25Gb2N1cygpIG5nLWJsdXI9JGN0cmwub25CbHVyKCkgbmctY2hhbmdlPSRjdHJsLm9uQ2hhbmdlKCRjdHJsLm1vZGVsKSBuZy1yZXF1aXJlZD0kY3RybC5yZXF1aXJlZCBuZy1kaXNhYmxlZD0kY3RybC5maWVsZC5kaXNhYmxlZCB0dy1taW5sZW5ndGg9XFxcIiRjdHJsLmZpZWxkLm1pbmxlbmd0aCB8fCAkY3RybC5maWVsZC5taW5MZW5ndGhcXFwiIHR3LW1heGxlbmd0aD1cXFwiJGN0cmwuZmllbGQubWF4bGVuZ3RoIHx8ICRjdHJsLmZpZWxkLm1heExlbmd0aFxcXCIgbmctbWluPSRjdHJsLmZpZWxkLm1pbmltdW0gbmctbWF4PSRjdHJsLmZpZWxkLm1heGltdW0gbmctcGF0dGVybj0kY3RybC5maWVsZC5wYXR0ZXJuIHRleHQtZm9ybWF0PSRjdHJsLmZpZWxkLmRpc3BsYXlGb3JtYXQgdmFsaWRhdGlvbi1hc3luYz0kY3RybC5maWVsZC52YWxpZGF0aW9uQXN5bmMgcGVyc2lzdC1hc3luYz0kY3RybC5maWVsZC5wZXJzaXN0QXN5bmMgZmlsZS11cGxvYWQtc291cmNlPSRjdHJsLmZpZWxkLnNvdXJjZVR5cGUgY2FtZXJhLW9wdGlvbnM9JGN0cmwuZmllbGQuY2FtZXJhIG9uLWFzeW5jLXN1Y2Nlc3M9JGN0cmwub25QZXJzaXN0QXN5bmNTdWNjZXNzKHJlc3BvbnNlKSBvbi1hc3luYy1mYWlsdXJlPSRjdHJsLm9uUGVyc2lzdEFzeW5jRmFpbHVyZShyZXNwb25zZSkgdHctdmFsaWRhdGlvbj48L3R3LWZvcm0tY29udHJvbD4gPGRpdiBjbGFzcz1cXFwiYWxlcnQgYWxlcnQtZGFuZ2VyIGVycm9yLW1lc3NhZ2VzXFxcIiBuZy1pZj1cXFwiJGN0cmwuc2l6ZU9mKCRjdHJsLmZpZWxkLnZhbGlkYXRpb25NZXNzYWdlcykgPiAwIHx8ICRjdHJsLmVycm9yTWVzc2FnZVxcXCIgbmctY2xhc3M9XFxcIntcXG4gICAgICAnYWxlcnQtZGV0YWNoJzogJGN0cmwuaXNGZWVkYmFja0RldGFjaGVkKCRjdHJsLmNvbnRyb2wpXFxuICAgIH1cXFwiPiA8ZGl2IG5nLXJlcGVhdD1cXFwiKHZhbGlkYXRpb25UeXBlLCB2YWxpZGF0aW9uTWVzc2FnZSkgaW4gJGN0cmwuZmllbGQudmFsaWRhdGlvbk1lc3NhZ2VzIHRyYWNrIGJ5ICRpbmRleFxcXCIgY2xhc3M9XFxcImVycm9yLXt7IHZhbGlkYXRpb25UeXBlIHwgbG93ZXJjYXNlIH19XFxcIj4ge3t2YWxpZGF0aW9uTWVzc2FnZX19IDwvZGl2PiA8ZGl2IGNsYXNzPWVycm9yLXByb3ZpZGVkIG5nLWlmPSRjdHJsLmVycm9yTWVzc2FnZT4ge3sgJGN0cmwuZXJyb3JNZXNzYWdlIH19IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz1cXFwiYWxlcnQgYWxlcnQtd2FybmluZ1xcXCIgbmctaWY9JGN0cmwud2FybmluZ01lc3NhZ2UgbmctY2xhc3M9XFxcIntcXG4gICAgICAnYWxlcnQtZGV0YWNoJzogJGN0cmwuaXNGZWVkYmFja0RldGFjaGVkKCRjdHJsLmNvbnRyb2wpXFxuICAgIH1cXFwiPiB7eyAkY3RybC53YXJuaW5nTWVzc2FnZSB9fSA8L2Rpdj4gPGRpdiBuZy1pZj0kY3RybC5maWVsZC5oZWxwIGNsYXNzPVxcXCJhbGVydCBhbGVydC1mb2N1c1xcXCIgbmctY2xhc3M9XFxcIntcXG4gICAgICAnYWxlcnQtZGV0YWNoJzogJGN0cmwuaXNGZWVkYmFja0RldGFjaGVkKCRjdHJsLmNvbnRyb2wpXFxuICAgIH1cXFwiPiA8c3BhbiBuZy1pZj0kY3RybC5maWVsZC5oZWxwLm1lc3NhZ2U+IHt7ICRjdHJsLmZpZWxkLmhlbHAubWVzc2FnZSB9fSA8L3NwYW4+IDx1bCBuZy1pZj0kY3RybC5maWVsZC5oZWxwLmxpc3QgY2xhc3M9bGlzdC11bnN0eWxlZD4gPGxpIG5nLXJlcGVhdD1cXFwiaGVscE1lc3NhZ2UgaW4gJGN0cmwuZmllbGQuaGVscC5saXN0XFxcIj57eyBoZWxwTWVzc2FnZSB9fTwvbGk+IDwvdWw+IDxpbWcgbmctaWY9XFxcIiRjdHJsLmZpZWxkLmhlbHAuaW1hZ2UgJiYgJGN0cmwuY29udHJvbCAhPT0gJ2ZpbGUnXFxcIiBuZy1zcmM9e3skY3RybC5maWVsZC5oZWxwLmltYWdlfX0gYWx0PVxcXCJ7eyAkY3RybC5maWVsZC50aXRsZSB9fVxcXCIgY2xhc3M9XFxcInRodW1ibmFpbCBtLXktMlxcXCIvPiA8L2Rpdj4gPC9kaXY+IFwiOyIsImZ1bmN0aW9uIFJlcXVpcmVtZW50c1NlcnZpY2UoJGh0dHApIHtcbiAgdGhpcy5wcmVwUmVxdWlyZW1lbnRzID0gKGFsdGVybmF0aXZlcykgPT4ge1xuICAgIGlmICghYWx0ZXJuYXRpdmVzIHx8ICFhbHRlcm5hdGl2ZXMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgY29uc3QgcHJlcHBlZEFsdGVybmF0aXZlcyA9IGNvcHlPZihhbHRlcm5hdGl2ZXMpO1xuXG4gICAgcHJlcHBlZEFsdGVybmF0aXZlcy5mb3JFYWNoKChhbHRlcm5hdGl2ZSkgPT4ge1xuICAgICAgaWYgKGFsdGVybmF0aXZlLnByZXBhcmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcmVwTGVnYWN5QWx0ZXJuYXRpdmVzKGFsdGVybmF0aXZlKTtcblxuICAgICAgYWx0ZXJuYXRpdmUucHJvcGVydGllcyA9IHRoaXMucHJlcEZpZWxkcyhhbHRlcm5hdGl2ZS5wcm9wZXJ0aWVzIHx8IGFsdGVybmF0aXZlLmZpZWxkcyk7XG5cbiAgICAgIC8vIElmIHdlJ3JlIHN0aWxsIHRyZWF0aW5nIHR5cGUgYXMgYSBzcGVjaWFsIGNhc2UsIG1vdmUgaXQgdG8gYSBoaWRkZW4gdmFsdWVcbiAgICAgIGlmIChhbHRlcm5hdGl2ZS50eXBlXG4gICAgICAgICAgJiYgYWx0ZXJuYXRpdmUudHlwZSAhPT0gJ29iamVjdCdcbiAgICAgICAgICAmJiAhYWx0ZXJuYXRpdmUudHlwZXMpIHtcbiAgICAgICAgYWx0ZXJuYXRpdmUucHJvcGVydGllcy50eXBlID0ge1xuICAgICAgICAgIHR5cGU6ICdzdHJpbmcnLFxuICAgICAgICAgIGVudW06IFthbHRlcm5hdGl2ZS50eXBlXSxcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICBoaWRkZW46IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBhbHRlcm5hdGl2ZS50eXBlID0gJ29iamVjdCc7XG4gICAgICB9XG5cbiAgICAgIGFsdGVybmF0aXZlLnByZXBhcmVkID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiBwcmVwcGVkQWx0ZXJuYXRpdmVzO1xuICB9O1xuXG4gIHRoaXMucHJlcEZpZWxkcyA9IChmaWVsZHMsIG1vZGVsLCB2YWxpZGF0aW9uTWVzc2FnZXMpID0+IHtcbiAgICBpZiAoIWZpZWxkcykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIGxldCBwcmVwYXJlZEZpZWxkcyA9IGNvcHlPZihmaWVsZHMpO1xuXG4gICAgcHJlcGFyZWRGaWVsZHMgPSBmbGF0dGVuRmllbGRzV2l0aEdyb3VwcyhwcmVwYXJlZEZpZWxkcyk7XG4gICAgcHJlcGFyZWRGaWVsZHMgPSB0cmFuc2Zvcm1GaWVsZEFycmF5VG9NYXAocHJlcGFyZWRGaWVsZHMpO1xuICAgIHByZXBhcmVkRmllbGRzID0gdHJhbnNmb3JtTmVzdGVkS2V5c1RvTmVzdGVkU3BlY3MocHJlcGFyZWRGaWVsZHMpO1xuXG4gICAgT2JqZWN0LmtleXMocHJlcGFyZWRGaWVsZHMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgcHJlcGFyZWRGaWVsZHNba2V5XSA9IHRoaXMucHJlcEZpZWxkKHByZXBhcmVkRmllbGRzW2tleV0sIG1vZGVsLCB2YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHByZXBhcmVkRmllbGRzO1xuICB9O1xuXG4gIHRoaXMucHJlcEZpZWxkID0gKGZpZWxkLCBtb2RlbCwgdmFsaWRhdGlvbk1lc3NhZ2VzKSA9PiB7XG4gICAgY29uc3QgcHJlcGFyZWRGaWVsZCA9IGNvcHlPZihmaWVsZCk7XG5cbiAgICB0aGlzLnByZXBMZWdhY3lQcm9wcyhwcmVwYXJlZEZpZWxkKTtcbiAgICB0aGlzLnByZXBUeXBlKHByZXBhcmVkRmllbGQpO1xuICAgIHRoaXMucHJlcFBhdHRlcm4ocHJlcGFyZWRGaWVsZCk7XG4gICAgdGhpcy5wcmVwVmFsdWVzQXN5bmMocHJlcGFyZWRGaWVsZCwgbW9kZWwpO1xuICAgIHRoaXMucHJlcFZhbGlkYXRpb25NZXNzYWdlcyhwcmVwYXJlZEZpZWxkLCB2YWxpZGF0aW9uTWVzc2FnZXMpO1xuICAgIHRoaXMucHJlcEhlbHAocHJlcGFyZWRGaWVsZCk7XG5cbiAgICByZXR1cm4gcHJlcGFyZWRGaWVsZDtcbiAgfTtcblxuICAvKipcbiAgICogSW4gYW4gb2xkZXIgZm9ybWF0IHdlIGhhZCBhbiBleHRyYSBmaWVsZEdyb3VwIGxldmVsLCBoZXJlIHdlIGZsYXR0ZW4gdGhhdCBvdXRcbiAgICogU28gdGhlIGlubmVyIGFycmF5cyBvZiBmaWVsZHMgd2l0aGluIHRoZSBkaWZmZXJlbnQgZmllbGQgZ3JvdXBzIGFyZSBmbGF0dGVuZWRcbiAgICogdG8gYSBzaW5nbGUgYXJyYXksIHdoaWNoIGlzIHJldHVybmVkLlxuICAgKi9cbiAgZnVuY3Rpb24gZmxhdHRlbkZpZWxkc1dpdGhHcm91cHMoZmllbGRzKSB7XG4gICAgaWYgKGZpZWxkcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBsZXQgZmxhdHRlbmVkRmllbGRzID0gW107XG4gICAgICBmaWVsZHMuZm9yRWFjaCgoZmllbGQpID0+IHtcbiAgICAgICAgLy8gSWYgd2UndmUgYmVlbiBnaXZlbiBhIGdyb3VwIHdpdGggbmVzdGVkIGZpZWxkcywgYnJlYWsgdGhlbSBvdXQuXG4gICAgICAgIGlmIChmaWVsZC5maWVsZHMpIHtcbiAgICAgICAgICBmbGF0dGVuZWRGaWVsZHMgPSBmbGF0dGVuZWRGaWVsZHMuY29uY2F0KGZsYXR0ZW5GaWVsZFdpdGhHcm91cChmaWVsZCwgZmllbGQuZmllbGRzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQuZ3JvdXApIHtcbiAgICAgICAgICBmbGF0dGVuZWRGaWVsZHMgPSBmbGF0dGVuZWRGaWVsZHMuY29uY2F0KGZsYXR0ZW5GaWVsZFdpdGhHcm91cChmaWVsZCwgZmllbGQuZ3JvdXApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBPdGhlcndpc2UgaXQncyBhIHJlZ3VsYXIgZmllbGQsIGp1c3QgYWRkIGl0LlxuICAgICAgICAgIGZsYXR0ZW5lZEZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmxhdHRlbmVkRmllbGRzO1xuICAgIH1cbiAgICByZXR1cm4gZmllbGRzO1xuICB9XG5cbiAgZnVuY3Rpb24gZmxhdHRlbkZpZWxkV2l0aEdyb3VwKGZpZWxkLCBzdWJGaWVsZHMpIHtcbiAgICAvLyBJZiBmaXJzdCBmaWVsZCBkb2Vzbid0IGhhdmUgYSBsYWJlbCwgdXNlIHRoZSBvbmUgZnJvbSB0aGUgZ3JvdXBcbiAgICBpZiAoZmllbGQubmFtZSAmJiBzdWJGaWVsZHMubGVuZ3RoICYmICFzdWJGaWVsZHNbMF0ubmFtZSkge1xuICAgICAgc3ViRmllbGRzWzBdLm5hbWUgPSBmaWVsZC5uYW1lO1xuICAgIH1cblxuICAgIGlmIChmaWVsZC53aWR0aCAmJiBzdWJGaWVsZHMubGVuZ3RoICYmICFzdWJGaWVsZHNbMF0ud2lkdGgpIHtcbiAgICAgIHN1YkZpZWxkc1swXS53aWR0aCA9IGZpZWxkLndpZHRoO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIHdhcyBhIHRvb2x0aXAgYXQgZmllbGRHcm91cCBsZXZlbCBtb3ZlIGl0IHRvIGZpcnN0IGZpZWxkLlxuICAgIGlmIChmaWVsZC50b29sdGlwICYmIHN1YkZpZWxkcy5sZW5ndGggJiYgIXN1YkZpZWxkc1swXS5oZWxwVGV4dCkge1xuICAgICAgc3ViRmllbGRzWzBdLmhlbHBUZXh0ID0gZmllbGQudG9vbHRpcDtcbiAgICB9XG5cbiAgICBpZiAoZmllbGQuaW5mbyAmJiBzdWJGaWVsZHMubGVuZ3RoICYmICFzdWJGaWVsZHNbMF0uaGVscFRleHQpIHtcbiAgICAgIHN1YkZpZWxkc1swXS5oZWxwVGV4dCA9IGZpZWxkLmluZm87XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgYXJlIHR3byBwYXJ0cyBvZiB0aGlzIGdyb3VwLCByZW5kZXIgdGhlbSBzaWRlIGJ5IHNpZGVcbiAgICBpZiAoc3ViRmllbGRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgc3ViRmllbGRzLmZvckVhY2goKG5lc3RlZEZpZWxkKSA9PiB7XG4gICAgICAgIG5lc3RlZEZpZWxkLndpZHRoID0gJ21kJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGFyZSB0aHJlZSBwYXJ0cywgcmVuZGVyIHRoZSBmaXJzdCB0d28gc2lkZSBieSBzaWRlXG4gICAgaWYgKHN1YkZpZWxkcy5sZW5ndGggPT09IDMpIHtcbiAgICAgIHN1YkZpZWxkc1swXS53aWR0aCA9ICdtZCc7XG4gICAgICBzdWJGaWVsZHNbMV0ud2lkdGggPSAnbWQnO1xuICAgIH1cblxuICAgIHJldHVybiBzdWJGaWVsZHM7XG4gIH1cblxuICAvKlxuICAgKiBTb21lIG9sZGVyIHJlcXVpcmVtZW50cyByZXR1cm4gYW4gYXJyYXkgb2YgZmllbGRzLCB3aGVyZSBpdCBzaG91bGQgYmUgYSBtYXBcbiAgICogZnJvbSB0aGUgcHJvcGVydHkgbmFtZSB0byB0aGUgc3BlYy4gIFRoaXMgY29udmVydHMgYXJyYXlzIHRvIG1hcHMuXG4gICAqL1xuICBmdW5jdGlvbiB0cmFuc2Zvcm1GaWVsZEFycmF5VG9NYXAoZmllbGRzKSB7XG4gICAgaWYgKGZpZWxkcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBjb25zdCBmaWVsZE1hcCA9IHt9O1xuICAgICAgZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgIGNvbnN0IGtleSA9IGZpZWxkLmtleSB8fCBmaWVsZC5uYW1lO1xuICAgICAgICBkZWxldGUgZmllbGQua2V5O1xuXG4gICAgICAgIGZpZWxkTWFwW2tleV0gPSBjb3B5T2YoZmllbGQpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmllbGRNYXA7XG4gICAgfVxuICAgIHJldHVybiBmaWVsZHM7XG4gIH1cblxuICAvKlxuICAgKiBTb21lIG9sZGVyIGZvcm1hdCByZXR1cm4ga2V5cyBsaWtlICdhZGRyZXNzLmNpdHknLCBleHBlY3RpbmcgdGhlIHZhbHVlIG9mXG4gICAqIGNpdHkgdG8gYmUgbmVzdGVkIGluc2lkZSBhbiBhZGRyZXNzIG9iamVjdC4gIFRoaXMgZnVuY3Rpb24gY3JlYXRlcyBhIHNwZWMgb2ZcbiAgICogdHlwZSAnb2JqZWN0JywgYW5kIG5lc3RzIHN1Y2ggZmllbGRzIGluc2lkZSBvZiBpdC4gIFdoZW4gd2UgcmVuZGVyIHdlIHBhc3NcbiAgICogdGhpcyBvYmplY3Qgc3BlYyB0byBhIG5lc3RlZCBmaWVsZHNldC5cbiAgICovXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybU5lc3RlZEtleXNUb05lc3RlZFNwZWNzKGZpZWxkTWFwKSB7XG4gICAgaWYgKGZpZWxkTWFwIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0aW5nIGEgbWFwIG9mIGZpZWxkcywgbm90IGFuIGFycmF5Jyk7XG4gICAgfVxuXG4gICAgY29uc3QgbmVzdGVkRmllbGRzID0ge307XG4gICAgT2JqZWN0LmtleXMoZmllbGRNYXApLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgaWYgKGtleS5pbmRleE9mKCcuJykgPiAwKSB7XG4gICAgICAgIC8vIElmIHRoZSBrZXkgY29udGFpbnMgYSBwZXJpb2Qgd2UgbmVlZCB0byBuZXN0IHRoZSBmaWVsZHMgaW4gYW5vdGhlciBvYmplY3RcbiAgICAgICAgY29uc3QgcGF0aFNlY3Rpb25zID0ga2V5LnNwbGl0KCcuJyk7XG4gICAgICAgIGNvbnN0IG5lc3RlZEtleSA9IHBhdGhTZWN0aW9uc1swXTtcblxuICAgICAgICAvLyBJZiB0aGlzIHN1YiBvYmplY3QgZG9lc24ndCBleGlzdCB5ZXQsIGNyZWF0ZSBpdFxuICAgICAgICBpZiAoIW5lc3RlZEZpZWxkc1tuZXN0ZWRLZXldKSB7XG4gICAgICAgICAgbmVzdGVkRmllbGRzW25lc3RlZEtleV0gPSB7XG4gICAgICAgICAgICB0eXBlOiAnb2JqZWN0JyxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBuZXN0ZWRGaWVsZHNbbmVzdGVkS2V5XS5wcm9wZXJ0aWVzW3BhdGhTZWN0aW9uc1sxXV0gPSBmaWVsZE1hcFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmVzdGVkRmllbGRzW2tleV0gPSBmaWVsZE1hcFtrZXldO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXN0ZWRGaWVsZHM7XG4gIH1cblxuICB0aGlzLnByZXBUeXBlID0gKGZpZWxkKSA9PiB7XG4gICAgY29uc3QgdHlwZSA9IGZpZWxkLnR5cGUgJiYgZmllbGQudHlwZS50b0xvd2VyQ2FzZSAmJiBmaWVsZC50eXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3RleHQnOlxuICAgICAgICBmaWVsZC50eXBlID0gJ3N0cmluZyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgIGZpZWxkLnR5cGUgPSAnc3RyaW5nJztcbiAgICAgICAgZmllbGQuZm9ybWF0ID0gJ2RhdGUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgZmllbGQudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICBmaWVsZC5jb250cm9sID0gJ3Bhc3N3b3JkJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgIGZpZWxkLnR5cGUgPSAnYm9vbGVhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgaWYgKCFmaWVsZC5jb250cm9sKSB7XG4gICAgICAgICAgZmllbGQuY29udHJvbCA9ICdzZWxlY3QnO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBmaWVsZC50eXBlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JhZGlvJzpcbiAgICAgICAgZmllbGQuY29udHJvbCA9ICdyYWRpbyc7XG4gICAgICAgIGRlbGV0ZSBmaWVsZC50eXBlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3VwbG9hZCc6XG4gICAgICAgIGZpZWxkLnR5cGUgPSAnc3RyaW5nJztcbiAgICAgICAgZmllbGQuZm9ybWF0ID0gJ2Jhc2U2NHVybCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVsJzpcbiAgICAgICAgZmllbGQudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICBmaWVsZC5mb3JtYXQgPSAncGhvbmUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgZmllbGQudHlwZSA9ICdzdHJpbmcnO1xuICAgICAgICBmaWVsZC5jb250cm9sID0gJ3RleHRhcmVhJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cblxuICAgIGlmICghZmllbGQuY29udHJvbCAmJiBmaWVsZC50eXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgZmllbGQuY29udHJvbCA9IHRoaXMuZ2V0Q29udHJvbFR5cGUoZmllbGQpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnByZXBMZWdhY3lBbHRlcm5hdGl2ZXMgPSAoYWx0ZXJuYXRpdmUpID0+IHtcbiAgICBpZiAoIWFsdGVybmF0aXZlLnRpdGxlICYmIGFsdGVybmF0aXZlLmxhYmVsKSB7XG4gICAgICBhbHRlcm5hdGl2ZS50aXRsZSA9IGFsdGVybmF0aXZlLmxhYmVsO1xuICAgIH1cbiAgICBpZiAoIWFsdGVybmF0aXZlLnRpdGxlKSB7XG4gICAgICBhbHRlcm5hdGl2ZS50aXRsZSA9IGdldE5hbWVGcm9tVHlwZShhbHRlcm5hdGl2ZS50eXBlKTtcbiAgICB9XG4gICAgaWYgKCFhbHRlcm5hdGl2ZS50eXBlICYmIGFsdGVybmF0aXZlLm5hbWUpIHtcbiAgICAgIGFsdGVybmF0aXZlLnR5cGUgPSBhbHRlcm5hdGl2ZS5uYW1lO1xuICAgIH1cbiAgICBpZiAoIWFsdGVybmF0aXZlLmRlc2NyaXB0aW9uICYmIGFsdGVybmF0aXZlLnRvb2x0aXApIHtcbiAgICAgIGFsdGVybmF0aXZlLmRlc2NyaXB0aW9uID0gYWx0ZXJuYXRpdmUudG9vbHRpcDtcbiAgICB9XG4gICAgaWYgKGFsdGVybmF0aXZlLmZpZWxkR3JvdXBzICYmICFhbHRlcm5hdGl2ZS5maWVsZHMpIHtcbiAgICAgIGFsdGVybmF0aXZlLmZpZWxkcyA9IGZsYXR0ZW5GaWVsZHNXaXRoR3JvdXBzKGFsdGVybmF0aXZlLmZpZWxkR3JvdXBzKTtcbiAgICAgIGRlbGV0ZSBhbHRlcm5hdGl2ZS5maWVsZEdyb3VwcztcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5wcmVwTGVnYWN5UHJvcHMgPSAoZmllbGQpID0+IHtcbiAgICBpZiAoZmllbGQubmFtZSAmJiAhZmllbGQudGl0bGUpIHtcbiAgICAgIGZpZWxkLnRpdGxlID0gZmllbGQubmFtZTtcbiAgICAgIGRlbGV0ZSBmaWVsZC5uYW1lO1xuICAgIH1cblxuICAgIGlmIChmaWVsZC52YWxpZGF0aW9uUmVnZXhwKSB7XG4gICAgICBmaWVsZC5wYXR0ZXJuID0gZmllbGQudmFsaWRhdGlvblJlZ2V4cDtcbiAgICAgIGRlbGV0ZSBmaWVsZC52YWxpZGF0aW9uUmVnZXhwO1xuICAgIH1cblxuICAgIGlmIChmaWVsZC5taW4pIHtcbiAgICAgIGZpZWxkLm1pbmltdW0gPSBmaWVsZC5taW47XG4gICAgICBkZWxldGUgZmllbGQubWluO1xuICAgIH1cblxuICAgIGlmIChmaWVsZC5tYXgpIHtcbiAgICAgIGZpZWxkLm1heGltdW0gPSBmaWVsZC5tYXg7XG4gICAgICBkZWxldGUgZmllbGQubWF4O1xuICAgIH1cblxuICAgIGlmIChmaWVsZC5leGFtcGxlICYmICFmaWVsZC5wbGFjZWhvbGRlcikge1xuICAgICAgZmllbGQucGxhY2Vob2xkZXIgPSBmaWVsZC5leGFtcGxlO1xuICAgICAgZGVsZXRlIGZpZWxkLmV4YW1wbGU7XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnRvb2x0aXAgJiYgIWZpZWxkLmhlbHBUZXh0KSB7XG4gICAgICBmaWVsZC5oZWxwVGV4dCA9IGZpZWxkLnRvb2x0aXA7XG4gICAgICBkZWxldGUgZmllbGQudG9vbHRpcDtcbiAgICB9XG5cbiAgICBpZiAoZmllbGQudmFsdWVzQWxsb3dlZCAmJiAhZmllbGQudmFsdWVzKSB7XG4gICAgICBmaWVsZC52YWx1ZXMgPSBmaWVsZC52YWx1ZXNBbGxvd2VkO1xuICAgICAgZGVsZXRlIGZpZWxkLnZhbHVlc0FsbG93ZWQ7XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkLnZhbHVlcyAmJiBmaWVsZC52YWx1ZXMubWFwKSB7XG4gICAgICBmaWVsZC52YWx1ZXMgPSB0aGlzLnByZXBMZWdhY3lWYWx1ZXMoZmllbGQudmFsdWVzKTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGQudmFsdWUgJiYgIWZpZWxkLmRlZmF1bHQpIHtcbiAgICAgIGZpZWxkLmRlZmF1bHQgPSBmaWVsZC52YWx1ZTtcbiAgICAgIGRlbGV0ZSBmaWVsZC52YWx1ZTtcbiAgICB9XG5cbiAgICBpZiAoZmllbGQudmFsdWVzKSB7XG4gICAgICAvLyBJbiBzb21lIGxlZ2FjeSBhcnJheXMgdGhlIGZpcnN0IHZhbHVlIGlzIGEgcGxhY2Vob2xkZXIsIGV4dHJhY3QgaXQuXG4gICAgICBpZiAoZmllbGQudmFsdWVzXG4gICAgICAgICYmIGZpZWxkLnZhbHVlcy5sZW5ndGhcbiAgICAgICAgJiYgZmllbGQudmFsdWVzWzBdXG4gICAgICAgICYmICFmaWVsZC52YWx1ZXNbMF0udmFsdWVcbiAgICAgICAgJiYgZmllbGQudmFsdWVzWzBdLmxhYmVsXG4gICAgICAgICYmICFmaWVsZC5wbGFjZWhvbGRlcikge1xuICAgICAgICBmaWVsZC5wbGFjZWhvbGRlciA9IGZpZWxkLnZhbHVlc1swXS5sYWJlbDtcbiAgICAgICAgZmllbGQudmFsdWVzID0gZmllbGQudmFsdWVzLnNsaWNlKDEpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLnByZXBMZWdhY3lWYWx1ZXMgPSB2YWx1ZXMgPT4gdmFsdWVzLm1hcChwcmVwTGVnYWN5VmFsdWUpO1xuXG4gIGZ1bmN0aW9uIHByZXBMZWdhY3lWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUubGFiZWwgJiYgdmFsdWUudGl0bGUpIHtcbiAgICAgIHZhbHVlLmxhYmVsID0gdmFsdWUudGl0bGU7XG4gICAgICBkZWxldGUgdmFsdWUudGl0bGU7XG4gICAgfVxuICAgIGlmICghdmFsdWUubGFiZWwgJiYgdmFsdWUubmFtZSkge1xuICAgICAgdmFsdWUubGFiZWwgPSB2YWx1ZS5uYW1lO1xuICAgICAgZGVsZXRlIHZhbHVlLm5hbWU7XG4gICAgfVxuXG4gICAgaWYgKCF2YWx1ZS52YWx1ZSAmJiB2YWx1ZS5jb2RlKSB7XG4gICAgICB2YWx1ZS52YWx1ZSA9IHZhbHVlLmNvZGU7XG4gICAgICBkZWxldGUgdmFsdWUuY29kZTtcbiAgICB9XG4gICAgaWYgKCF2YWx1ZS52YWx1ZSAmJiB2YWx1ZS5rZXkpIHtcbiAgICAgIHZhbHVlLnZhbHVlID0gdmFsdWUua2V5O1xuICAgICAgZGVsZXRlIHZhbHVlLmtleTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICB0aGlzLnByZXBQYXR0ZXJuID0gKGZpZWxkKSA9PiB7XG4gICAgaWYgKGZpZWxkLnBhdHRlcm4pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIFJlZ0V4cChmaWVsZC5wYXR0ZXJuKTtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUud2FybignQVBJIHJlZ2V4cCBpcyBpbnZhbGlkJyk7XG4gICAgICAgIGRlbGV0ZSBmaWVsZC5wYXR0ZXJuO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgZmllbGQucGF0dGVybjtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5wcmVwVmFsdWVzQXN5bmMgPSAoZmllbGQsIG1vZGVsKSA9PiB7XG4gICAgaWYgKCFmaWVsZC52YWx1ZXNBc3luYykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBwb3N0RGF0YSA9IHt9O1xuICAgIGlmIChmaWVsZC52YWx1ZXNBc3luYy5wYXJhbXNcbiAgICAgICYmIGZpZWxkLnZhbHVlc0FzeW5jLnBhcmFtcy5sZW5ndGgpIHtcbiAgICAgIHBvc3REYXRhID0gdGhpcy5nZXRQYXJhbVZhbHVlc0Zyb21Nb2RlbChtb2RlbCwgZmllbGQudmFsdWVzQXN5bmMucGFyYW1zKTtcbiAgICB9XG5cbiAgICAvLyBSZXRyeSBvbmNlIG9uIGZhaWx1cmVcbiAgICB0aGlzLmZldGNoVmFsdWVzQXN5bmMoZmllbGQsIHBvc3REYXRhKVxuICAgICAgLmNhdGNoKCgpID0+IHRoaXMuZmV0Y2hWYWx1ZXNBc3luYyhmaWVsZCwgcG9zdERhdGEpKTtcbiAgfTtcblxuICB0aGlzLmZldGNoVmFsdWVzQXN5bmMgPSAoZmllbGQsIHBvc3REYXRhKSA9PiAkaHR0cCh7XG4gICAgbWV0aG9kOiBmaWVsZC52YWx1ZXNBc3luYy5tZXRob2QgfHwgJ0dFVCcsXG4gICAgdXJsOiBmaWVsZC52YWx1ZXNBc3luYy51cmwsXG4gICAgZGF0YTogcG9zdERhdGEgfHwge31cbiAgfSkudGhlbihcbiAgICAocmVzcG9uc2UpID0+IHsgZmllbGQudmFsdWVzID0gdGhpcy5wcmVwTGVnYWN5VmFsdWVzKHJlc3BvbnNlLmRhdGEpOyB9XG4gICk7XG5cbiAgdGhpcy5nZXRQYXJhbVZhbHVlc0Zyb21Nb2RlbCA9IChtb2RlbCwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IHt9O1xuICAgIHBhcmFtcy5mb3JFYWNoKChwYXJhbSkgPT4ge1xuICAgICAgaWYgKG1vZGVsW3BhcmFtLmtleV0pIHtcbiAgICAgICAgZGF0YVtwYXJhbS5wYXJhbWV0ZXJOYW1lXSA9IG1vZGVsW3BhcmFtLmtleV07XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtLnJlcXVpcmVkKSB7XG4gICAgICAgIC8vIFRPRE8gUHJvYmxlbSwgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLCBidXQgZGF0YSBpcyBtaXNzaW5nLlxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIHRoaXMucHJlcFZhbGlkYXRpb25NZXNzYWdlcyA9IChmaWVsZCkgPT4ge1xuICAgIGlmIChmaWVsZC52YWxpZGF0aW9uTWVzc2FnZXMgJiYgZmllbGQudmFsaWRhdGlvbk1lc3NhZ2VzLm1pbmltdW0pIHtcbiAgICAgIGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlcy5taW4gPSBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZXMubWluaW11bTtcbiAgICAgIGRlbGV0ZSBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZXMubWluaW11bTtcbiAgICB9XG4gICAgaWYgKGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlcyAmJiBmaWVsZC52YWxpZGF0aW9uTWVzc2FnZXMubWF4aW11bSkge1xuICAgICAgZmllbGQudmFsaWRhdGlvbk1lc3NhZ2VzLm1heCA9IGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlcy5tYXhpbXVtO1xuICAgICAgZGVsZXRlIGZpZWxkLnZhbGlkYXRpb25NZXNzYWdlcy5tYXhpbXVtO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLnByZXBIZWxwID0gKGZpZWxkKSA9PiB7XG4gICAgaWYgKCFmaWVsZC5oZWxwXG4gICAgICAmJiAoZmllbGQuaGVscFRleHQgfHwgZmllbGQuaGVscEltYWdlIHx8IGZpZWxkLmhlbHBMaXN0IHx8IGZpZWxkLnVwbG9hZFBsYWNlaG9sZGVySW1hZ2UpKSB7XG4gICAgICBmaWVsZC5oZWxwID0ge307XG4gICAgfVxuICAgIGlmIChmaWVsZC5oZWxwVGV4dCkge1xuICAgICAgZmllbGQuaGVscC5tZXNzYWdlID0gZmllbGQuaGVscFRleHQ7XG4gICAgICBkZWxldGUgZmllbGQuaGVscFRleHQ7XG4gICAgfVxuICAgIGlmIChmaWVsZC5oZWxwSW1hZ2UpIHtcbiAgICAgIGZpZWxkLmhlbHAuaW1hZ2UgPSBmaWVsZC5oZWxwSW1hZ2U7XG4gICAgICBkZWxldGUgZmllbGQuaGVscEltYWdlO1xuICAgIH1cbiAgICAvLyBoZWxwSW1hZ2UgZG9lcyBub3QgaGF2ZSBzYW1lIGxpbmVhZ2UgcGxhY2Vob2xkZXIgaW1hZ2VcbiAgICAvLyAyIGZpZWxkcyBjYW4gb3ZlcndyaXRlIGVhY2ggb3RoZXIgc2FmZWx5IChvbmx5IG9uZSB3aWxsIGJlIHByZXNlbnQgYXQgYSB0aW1lKVxuICAgIGlmIChmaWVsZC51cGxvYWRQbGFjZWhvbGRlckltYWdlKSB7XG4gICAgICBmaWVsZC5oZWxwLmltYWdlID0gZmllbGQudXBsb2FkUGxhY2Vob2xkZXJJbWFnZTtcbiAgICAgIGRlbGV0ZSBmaWVsZC51cGxvYWRQbGFjZWhvbGRlckltYWdlO1xuICAgIH1cbiAgICBpZiAoZmllbGQubGlzdCkge1xuICAgICAgZmllbGQuaGVscC5saXN0ID0gZmllbGQuaGVscExpc3Q7XG4gICAgICBkZWxldGUgZmllbGQuaGVscExpc3Q7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuZ2V0UmVxdWlyZWRGaWVsZHMgPSBnZXRSZXF1aXJlZEZpZWxkcztcbiAgdGhpcy5nZXRDb250cm9sVHlwZSA9IGdldENvbnRyb2xUeXBlO1xufVxuXG4vKipcbiAqIE9sZGVyIHN0eWxlIGZvcm1hdCBoYWQgcmVxdWlyZWQgYXMgYSBwcm9wZXJ0eSBvZiBmaWVsZHMsIGluIEpTT04gc2NoZW1hIGl0XG4gKiBzaG91bGQgYmUgYSBzZXBhcmF0ZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lc1xuICovXG5mdW5jdGlvbiBnZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZmllbGRzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgZmllbGQgbWFwJyk7XG4gIH1cbiAgLy8gUmV0dXJuIGFycmF5IG9mIGtleXMgdGhhdCBoYXZlIHJlcXVpcmVkIHNldFxuICByZXR1cm4gT2JqZWN0LmtleXMoZmllbGRzKS5maWx0ZXIocHJvcGVydHkgPT4gZmllbGRzW3Byb3BlcnR5XS5yZXF1aXJlZCk7XG59XG5cbmZ1bmN0aW9uIGdldENvbnRyb2xUeXBlKGZpZWxkKSB7XG4gIGlmIChmaWVsZC5jb250cm9sKSB7XG4gICAgcmV0dXJuIGZpZWxkLmNvbnRyb2wudG9Mb3dlckNhc2UoKTtcbiAgfVxuICBpZiAoZmllbGQuaGlkZGVuKSB7XG4gICAgcmV0dXJuICdoaWRkZW4nO1xuICB9XG4gIGlmIChmaWVsZC52YWx1ZXNBc3luYykge1xuICAgIHJldHVybiAnc2VsZWN0JztcbiAgfVxuICBpZiAoZmllbGQudmFsdWVzICYmIGZpZWxkLnZhbHVlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0aW9uVHlwZShmaWVsZCk7XG4gIH1cblxuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIGdldENvbnRyb2xGb3JTdHJpbmdGb3JtYXQoZmllbGQuZm9ybWF0KTtcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgcmV0dXJuICdudW1iZXInO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuICdjaGVja2JveCc7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAndGV4dCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q29udHJvbEZvclN0cmluZ0Zvcm1hdChmb3JtYXQpIHtcbiAgc3dpdGNoIChmb3JtYXQpIHtcbiAgICBjYXNlICdkYXRlJzpcbiAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgY2FzZSAnYmFzZTY0dXJsJzpcbiAgICAgIHJldHVybiAnZmlsZSc7XG4gICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgcmV0dXJuICdwYXNzd29yZCc7XG4gICAgY2FzZSAndXJpJzpcbiAgICAgIHJldHVybiAndGV4dCc7IC8vICd1cmwnOyAtIG5vdCBpbXBsZW1lbnRlZFxuICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgIHJldHVybiAndGV4dCc7IC8vICdlbWFpbCc7IC0gbm90IGltcGxlbWVudGVkXG4gICAgY2FzZSAncGhvbmUnOlxuICAgICAgcmV0dXJuICd0ZWwnO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJ3RleHQnO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGlvblR5cGUoZmllbGQpIHtcbiAgaWYgKGZpZWxkLmNvbnRyb2wpIHtcbiAgICByZXR1cm4gZmllbGQuY29udHJvbDtcbiAgfVxuXG4gIGlmIChmaWVsZC50eXBlID09PSAnc2VsZWN0Jykge1xuICAgIHJldHVybiAnc2VsZWN0JztcbiAgfVxuXG4gIGlmIChmaWVsZC50eXBlID09PSAncmFkaW8nKSB7XG4gICAgcmV0dXJuICdyYWRpbyc7XG4gIH1cblxuICBjb25zdCB2YWx1ZXMgPSBmaWVsZC5lbnVtIHx8IGZpZWxkLnZhbHVlcztcbiAgaWYgKHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoID4gMyA/ICdzZWxlY3QnIDogJ3JhZGlvJztcbiAgfVxuICByZXR1cm4gJ3NlbGVjdCc7XG59XG5cbmZ1bmN0aW9uIGNvcHlPZihvYmopIHtcbiAgLy8gT2JqZWN0LmFzc2lnbiBpcyBuaWNlciwgYnV0IGxhY2tzIGllIHN1cHBvcnRcbiAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG59XG5cbi8qKlxuICogU29tZSBvbGRlciByZXF1aXJtZW50cyBmb3JtYXRzIGRvIG5vdCBpbmNsdWRlIGEgbGFiZWwgZm9yIGFsdGVybmF0aXZlc1xuICovXG5mdW5jdGlvbiBnZXROYW1lRnJvbVR5cGUodGFiVHlwZSkge1xuICBpZiAodGFiVHlwZSAmJiB0YWJUeXBlLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCB0YWJOYW1lV2l0aFNwYWNlcyA9IHRhYlR5cGUudG9Mb3dlckNhc2UoKS5zcGxpdCgnXycpLmpvaW4oJyAnKTsgLy8gU3RyaW5nLnJlcGxhY2UgbWV0aG9kIG9ubHkgcmVwbGFjZXMgZmlyc3QgaW5zdGFuY2VcbiAgICByZXR1cm4gdGFiTmFtZVdpdGhTcGFjZXMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB0YWJOYW1lV2l0aFNwYWNlcy5zbGljZSgxKTtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cblxuUmVxdWlyZW1lbnRzU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG5leHBvcnQgZGVmYXVsdCBSZXF1aXJlbWVudHNTZXJ2aWNlO1xuIiwiaW1wb3J0IFZhbGlkYXRpb25Db250cm9sbGVyIGZyb20gJy4vY29udHJvbC12YWxpZGF0aW9uLmNvbnRyb2xsZXIuanMnO1xuXG5mdW5jdGlvbiBUd1ZhbGlkYXRpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiB7XG4gICAgICAkbmdNb2RlbDogJ25nTW9kZWwnLFxuICAgIH0sXG4gICAgY29udHJvbGxlcjogVmFsaWRhdGlvbkNvbnRyb2xsZXJcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgVHdWYWxpZGF0aW9uO1xuIiwiXG5jbGFzcyBWYWxpZGF0aW9uQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCRzY29wZSwgJGVsZW1lbnQsIFR3RG9tU2VydmljZSkge1xuICAgIGNvbnN0IGVsZW1lbnQgPSAkZWxlbWVudFswXTtcbiAgICBjb25zdCBmb3JtR3JvdXAgPSBUd0RvbVNlcnZpY2UuZ2V0Q2xvc2VzdFBhcmVudEJ5Q2xhc3NOYW1lKGVsZW1lbnQsICdmb3JtLWdyb3VwJyk7XG4gICAgY29uc3QgJG5nTW9kZWwgPSAkZWxlbWVudC5jb250cm9sbGVyKCduZ01vZGVsJyk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ludmFsaWQnLCAoZXZlbnQpID0+IHtcbiAgICAgIC8vIFByZXZlbnQgZGVmYXVsdCB2YWxpZGF0aW9uIHRvb2x0aXBzXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgJG5nTW9kZWwuJHZhbGlkYXRvcnMudmFsaWRhdGlvbiA9ICgpID0+IHtcbiAgICAgIC8vIEV2YWx1YXRlIGFmdGVyIG5nTW9kZWwgdXBkYXRlcywgd2UgYXJlIHN0aWxsIGluIHZhbGlkYXRpb24gY2hhaW5cbiAgICAgICRzY29wZS4kZXZhbEFzeW5jKCgpID0+IHtcbiAgICAgICAgY2hlY2tNb2RlbEFuZFVwZGF0ZSgkbmdNb2RlbCwgZm9ybUdyb3VwLCBlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8vIFRoZSBmaXJzdCB0aW1lIHdlIGJsdXIsIG1vZGVsIGlzIHN0aWxsIHByaXN0aW5lIHdoZW4gdmFsaWRhdGlvbiBvY2N1cnMsIHNvIHBlcmZvcm0gYWdhaW4uXG4gICAgY29uc3Qgb25CbHVyID0gKCkgPT4ge1xuICAgICAgLy8gQ3VzdG9tIGVsZW1lbnRzIG11c3QgdHJpZ2dlciBibHVyIG1hbnVhbGx5IGZvciBjb3JyZWN0IGJlaGF2aW91clxuICAgICAgJHNjb3BlLiRldmFsQXN5bmMoKCkgPT4ge1xuICAgICAgICBjaGVja01vZGVsQW5kVXBkYXRlKCRuZ01vZGVsLCBmb3JtR3JvdXAsIGVsZW1lbnQpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIG9uQmx1cik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tNb2RlbEFuZFVwZGF0ZShuZ01vZGVsLCBmb3JtR3JvdXAsIGVsZW1lbnQpIHtcbiAgaWYgKG5nTW9kZWwuJHZhbGlkKSB7XG4gICAgaWYgKGZvcm1Hcm91cCkge1xuICAgICAgZm9ybUdyb3VwLmNsYXNzTGlzdC5yZW1vdmUoJ2hhcy1lcnJvcicpO1xuICAgIH1cbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKG5nTW9kZWwuJHRvdWNoZWQgJiYgbmdNb2RlbC4kZGlydHkpIHtcbiAgICBpZiAoZm9ybUdyb3VwKSB7XG4gICAgICBmb3JtR3JvdXAuY2xhc3NMaXN0LmFkZCgnaGFzLWVycm9yJyk7XG4gICAgfVxuICAgIC8vIFNldCBhcmlhIGludmFsaWQgZm9yIHNjcmVlbiByZWFkZXJzXG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsICd0cnVlJyk7XG4gIH1cbn1cblxuVmFsaWRhdGlvbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRlbGVtZW50JywgJ1R3RG9tU2VydmljZSddO1xuXG5leHBvcnQgZGVmYXVsdCBWYWxpZGF0aW9uQ29udHJvbGxlcjtcbiIsImltcG9ydCB7IGlzT2JqZWN0LCBpc0FycmF5IH0gZnJvbSAnLi4vdHlwZS12YWxpZGF0b3JzJztcblxuaW1wb3J0IHtcbiAgZ2V0U3RyaW5nVmFsaWRhdGlvbkZhaWx1cmVzLFxuICBnZXROdW1iZXJWYWxpZGF0aW9uRmFpbHVyZXMsXG4gIGdldEludGVnZXJWYWxpZGF0aW9uRmFpbHVyZXMsXG4gIGdldEJvb2xlYW5WYWxpZGF0aW9uRmFpbHVyZXMsXG4gIGdldEFycmF5VmFsaWRhdGlvbkZhaWx1cmVzXG59IGZyb20gJy4uL3ZhbGlkYXRpb24tZmFpbHVyZXMnO1xuXG5mdW5jdGlvbiBpc1ZhbGlkU3RyaW5nU2NoZW1hKHZhbHVlLCBzY2hlbWEpIHtcbiAgcmV0dXJuICFnZXRTdHJpbmdWYWxpZGF0aW9uRmFpbHVyZXModmFsdWUsIHNjaGVtYSkubGVuZ3RoO1xufVxuZnVuY3Rpb24gaXNWYWxpZE51bWJlclNjaGVtYSh2YWx1ZSwgc2NoZW1hKSB7XG4gIHJldHVybiAhZ2V0TnVtYmVyVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEpLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJbnRlZ2VyU2NoZW1hKHZhbHVlLCBzY2hlbWEpIHtcbiAgcmV0dXJuICFnZXRJbnRlZ2VyVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEpLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRCb29sZWFuU2NoZW1hKHZhbHVlLCBzY2hlbWEpIHtcbiAgcmV0dXJuICFnZXRCb29sZWFuVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZE9iamVjdFNjaGVtYSh2YWx1ZSwgc2NoZW1hKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHNjaGVtYS50eXBlICE9PSAnb2JqZWN0JyB8fCAhaXNPYmplY3Qoc2NoZW1hLnByb3BlcnRpZXMpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIE9iamVjdC5rZXlzKHNjaGVtYS5wcm9wZXJ0aWVzKVxuICAgIC5tYXAocHJvcGVydHlOYW1lID0+IGlzT2JqZWN0UHJvcGVydHlWYWxpZChcbiAgICAgIHZhbHVlW3Byb3BlcnR5TmFtZV0sXG4gICAgICBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdLFxuICAgICAgc2NoZW1hLnJlcXVpcmVkICYmIHNjaGVtYS5yZXF1aXJlZC5pbmRleE9mKHByb3BlcnR5TmFtZSkgPj0gMFxuICAgICkpXG4gICAgLnJlZHVjZSgodmFsaWRTb0ZhciwgdmFsaWRQcm9wZXJ0eSkgPT4gdmFsaWRTb0ZhciAmJiB2YWxpZFByb3BlcnR5LCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3RQcm9wZXJ0eVZhbGlkKHByb3BlcnR5VmFsdWUsIHByb3BlcnR5U2NoZW1hLCBpc1JlcXVpcmVkKSB7XG4gIGlmICh0eXBlb2YgcHJvcGVydHlWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gIWlzUmVxdWlyZWQ7XG4gIH1cbiAgcmV0dXJuIGlzVmFsaWRTY2hlbWEocHJvcGVydHlWYWx1ZSwgcHJvcGVydHlTY2hlbWEpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlTY2hlbWEodmFsdWUsIHNjaGVtYSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmIChzY2hlbWEudHlwZSAhPT0gJ2FycmF5JyB8fCAhaXNPYmplY3Qoc2NoZW1hLml0ZW1zKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChnZXRBcnJheVZhbGlkYXRpb25GYWlsdXJlcyh2YWx1ZSwgc2NoZW1hKS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdmFsdWUucmVkdWNlKCh2YWxpZFNvRmFyLCBpdGVyKSA9PiBpc1ZhbGlkU2NoZW1hKGl0ZXIsIHNjaGVtYS5pdGVtcyksIHRydWUpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkT25lT2ZTY2hlbWEodmFsdWUsIHNjaGVtYSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIGlmICghaXNBcnJheShzY2hlbWEub25lT2YpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBzY2hlbWEub25lT2YucmVkdWNlKCh2YWxpZFNvRmFyLCBpdGVyKSA9PiB2YWxpZFNvRmFyIHx8IGlzVmFsaWRTY2hlbWEodmFsdWUsIGl0ZXIpLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRBbGxPZlNjaGVtYSh2YWx1ZSwgc2NoZW1hKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgaWYgKCFpc0FycmF5KHNjaGVtYS5hbGxPZikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHNjaGVtYS5hbGxPZi5yZWR1Y2UoKHZhbGlkU29GYXIsIGl0ZXIpID0+IHZhbGlkU29GYXIgJiYgaXNWYWxpZFNjaGVtYSh2YWx1ZSwgaXRlciksIHRydWUpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIGFueSB2YWx1ZSBhZ2FpbnN0IGEgZ2l2ZW4gc2NoZW1hXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRTY2hlbWEodmFsdWUsIHNjaGVtYSkge1xuICBpZiAoc2NoZW1hLm9uZU9mKSB7XG4gICAgcmV0dXJuIGlzVmFsaWRPbmVPZlNjaGVtYSh2YWx1ZSwgc2NoZW1hKTtcbiAgfVxuXG4gIGlmIChzY2hlbWEuYWxsT2YpIHtcbiAgICByZXR1cm4gaXNWYWxpZEFsbE9mU2NoZW1hKHZhbHVlLCBzY2hlbWEpO1xuICB9XG5cbiAgc3dpdGNoIChzY2hlbWEudHlwZSkge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gaXNWYWxpZFN0cmluZ1NjaGVtYSh2YWx1ZSwgc2NoZW1hKTtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGlzVmFsaWROdW1iZXJTY2hlbWEodmFsdWUsIHNjaGVtYSk7XG4gICAgY2FzZSAnaW50ZWdlcic6XG4gICAgICByZXR1cm4gaXNWYWxpZEludGVnZXJTY2hlbWEodmFsdWUsIHNjaGVtYSk7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gaXNWYWxpZEJvb2xlYW5TY2hlbWEodmFsdWUsIHNjaGVtYSk7XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIGlzVmFsaWRBcnJheVNjaGVtYSh2YWx1ZSwgc2NoZW1hKTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuIGlzVmFsaWRPYmplY3RTY2hlbWEodmFsdWUsIHNjaGVtYSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5leHBvcnQgeyBpc1ZhbGlkU2NoZW1hIH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiIsIlxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG59XG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbn1cbmZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbic7XG59XG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0O1xufVxuZnVuY3Rpb24gaXNBcnJheSh2YWx1ZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG59XG5cbmV4cG9ydCB7XG4gIGlzU3RyaW5nLFxuICBpc051bWJlcixcbiAgaXNJbnRlZ2VyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc0FycmF5XG59O1xuIiwiaW1wb3J0IHtcbiAgaXNPYmplY3QsXG4gIGlzQXJyYXksXG4gIGlzU3RyaW5nLFxuICBpc051bWJlcixcbiAgaXNJbnRlZ2VyLFxuICBpc0Jvb2xlYW5cbn0gZnJvbSAnLi4vdHlwZS12YWxpZGF0b3JzJztcblxuaW1wb3J0IHtcbiAgaXNWYWxpZFJlcXVpcmVkLFxuICBpc1ZhbGlkTWluTGVuZ3RoLFxuICBpc1ZhbGlkTWF4TGVuZ3RoLFxuICBpc1ZhbGlkUGF0dGVybixcbiAgaXNWYWxpZE1heCxcbiAgaXNWYWxpZE1pbixcbiAgaXNWYWxpZE1pbkl0ZW1zLFxuICBpc1ZhbGlkTWF4SXRlbXNcbn0gZnJvbSAnLi4vcnVsZS12YWxpZGF0b3JzJztcblxuZnVuY3Rpb24gZ2V0VmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEsIGlzUmVxdWlyZWQpIHtcbiAgc3dpdGNoIChzY2hlbWEudHlwZSkge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gZ2V0U3RyaW5nVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEsIGlzUmVxdWlyZWQpO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gZ2V0TnVtYmVyVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEsIGlzUmVxdWlyZWQpO1xuICAgIGNhc2UgJ2ludGVnZXInOlxuICAgICAgcmV0dXJuIGdldEludGVnZXJWYWxpZGF0aW9uRmFpbHVyZXModmFsdWUsIHNjaGVtYSwgaXNSZXF1aXJlZCk7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gZ2V0Qm9vbGVhblZhbGlkYXRpb25GYWlsdXJlcyh2YWx1ZSwgc2NoZW1hLCBpc1JlcXVpcmVkKTtcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXR1cm4gZ2V0QXJyYXlWYWxpZGF0aW9uRmFpbHVyZXModmFsdWUsIHNjaGVtYSk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiBnZXRPYmplY3RWYWxpZGF0aW9uRmFpbHVyZXModmFsdWUsIHNjaGVtYSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTdHJpbmdWYWxpZGF0aW9uRmFpbHVyZXModmFsdWUsIHNjaGVtYSwgaXNSZXF1aXJlZCkge1xuICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkge1xuICAgIHJldHVybiBbJ3R5cGUnXTtcbiAgfVxuXG4gIGNvbnN0IGZhaWx1cmVzID0gW107XG4gIGlmICghaXNWYWxpZFJlcXVpcmVkKHZhbHVlLCBpc1JlcXVpcmVkKSkge1xuICAgIGZhaWx1cmVzLnB1c2goJ3JlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKCFpc1ZhbGlkTWluTGVuZ3RoKHZhbHVlLCBzY2hlbWEubWluTGVuZ3RoKSkge1xuICAgIGZhaWx1cmVzLnB1c2goJ21pbkxlbmd0aCcpO1xuICB9XG4gIGlmICghaXNWYWxpZE1heExlbmd0aCh2YWx1ZSwgc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICBmYWlsdXJlcy5wdXNoKCdtYXhMZW5ndGgnKTtcbiAgfVxuICBpZiAoIWlzVmFsaWRQYXR0ZXJuKHZhbHVlLCBzY2hlbWEucGF0dGVybikpIHtcbiAgICBmYWlsdXJlcy5wdXNoKCdwYXR0ZXJuJyk7XG4gIH1cbiAgaWYgKCFpc1ZhbGlkTWluKHZhbHVlLCBzY2hlbWEubWluKSkge1xuICAgIGZhaWx1cmVzLnB1c2goJ21pbicpO1xuICB9XG4gIGlmICghaXNWYWxpZE1heCh2YWx1ZSwgc2NoZW1hLm1heCkpIHtcbiAgICBmYWlsdXJlcy5wdXNoKCdtYXgnKTtcbiAgfVxuICByZXR1cm4gZmFpbHVyZXM7XG59XG5cbmZ1bmN0aW9uIGdldE51bWJlclZhbGlkYXRpb25GYWlsdXJlcyh2YWx1ZSwgc2NoZW1hLCBpc1JlcXVpcmVkKSB7XG4gIGlmICghaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgcmV0dXJuIFsndHlwZSddO1xuICB9XG5cbiAgY29uc3QgZmFpbHVyZXMgPSBbXTtcbiAgaWYgKCFpc1ZhbGlkUmVxdWlyZWQodmFsdWUsIGlzUmVxdWlyZWQpKSB7XG4gICAgZmFpbHVyZXMucHVzaCgncmVxdWlyZWQnKTtcbiAgfVxuICBpZiAoIWlzVmFsaWRNaW4odmFsdWUsIHNjaGVtYS5taW4pKSB7XG4gICAgZmFpbHVyZXMucHVzaCgnbWluJyk7XG4gIH1cbiAgaWYgKCFpc1ZhbGlkTWF4KHZhbHVlLCBzY2hlbWEubWF4KSkge1xuICAgIGZhaWx1cmVzLnB1c2goJ21heCcpO1xuICB9XG4gIHJldHVybiBmYWlsdXJlcztcbn1cblxuZnVuY3Rpb24gZ2V0SW50ZWdlclZhbGlkYXRpb25GYWlsdXJlcyh2YWx1ZSwgc2NoZW1hLCBpc1JlcXVpcmVkKSB7XG4gIGlmICghaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgIHJldHVybiBbJ3R5cGUnXTtcbiAgfVxuICByZXR1cm4gZ2V0TnVtYmVyVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEsIGlzUmVxdWlyZWQpO1xufVxuXG5mdW5jdGlvbiBnZXRCb29sZWFuVmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEsIGlzUmVxdWlyZWQpIHtcbiAgaWYgKCFpc0Jvb2xlYW4odmFsdWUpKSB7XG4gICAgcmV0dXJuIFsndHlwZSddO1xuICB9XG5cbiAgY29uc3QgZmFpbHVyZXMgPSBbXTtcbiAgaWYgKCFpc1ZhbGlkUmVxdWlyZWQodmFsdWUsIGlzUmVxdWlyZWQpKSB7XG4gICAgZmFpbHVyZXMucHVzaCgncmVxdWlyZWQnKTtcbiAgfVxuICByZXR1cm4gZmFpbHVyZXM7XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5VmFsaWRhdGlvbkZhaWx1cmVzKHZhbHVlLCBzY2hlbWEpIHtcbiAgaWYgKCFpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBbJ3R5cGUnXTtcbiAgfVxuXG4gIGNvbnN0IGZhaWx1cmVzID0gW107XG4gIGlmICghaXNWYWxpZE1pbkl0ZW1zKHZhbHVlLCBzY2hlbWEubWluSXRlbXMpKSB7XG4gICAgZmFpbHVyZXMucHVzaCgnbWluSXRlbXMnKTtcbiAgfVxuICBpZiAoIWlzVmFsaWRNYXhJdGVtcyh2YWx1ZSwgc2NoZW1hLm1heEl0ZW1zKSkge1xuICAgIGZhaWx1cmVzLnB1c2goJ21heEl0ZW1zJyk7XG4gIH1cbiAgcmV0dXJuIGZhaWx1cmVzO1xufVxuXG4vKipcbiAqIFdoZW4gdmFsaWRhdGluZyBhbiBvYmplY3Qgd2Ugb25seSBjaGVja2luZyB0aGF0IGl0IGlzIGFuIG9iamVjdCBhbmQgdGhhdCBpdFxuICogaGFzIHRoZSByZXF1aXJlZCBwcm9wZXJ0aWVzLCB3ZSBkbyBub3QgY2hlY2sgaWYgdGhlIHByb3BlcnRpZXMgYXJlIHZhbGlkLlxuICovXG5mdW5jdGlvbiBnZXRPYmplY3RWYWxpZGF0aW9uRmFpbHVyZXModmFsdWUsIHNjaGVtYSkge1xuICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHJldHVybiBbJ3R5cGUnXTtcbiAgfVxuXG4gIGlmICghaXNBcnJheShzY2hlbWEucmVxdWlyZWQpKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgY29uc3QgYWxsUHJlc2VudCA9IHNjaGVtYS5yZXF1aXJlZFxuICAgIC5tYXAocHJvcCA9PiB0eXBlb2YgdmFsdWVbcHJvcF0gIT09ICd1bmRlZmluZWQnKVxuICAgIC5yZWR1Y2UoKHByb3BJbk1vZGVsLCB2YWxpZFNvRmFyKSA9PiBwcm9wSW5Nb2RlbCAmJiB2YWxpZFNvRmFyLCB0cnVlKTtcblxuICByZXR1cm4gYWxsUHJlc2VudCA/IFtdIDogWydyZXF1aXJlZCddO1xufVxuXG5leHBvcnQge1xuICBnZXRWYWxpZGF0aW9uRmFpbHVyZXMsXG4gIGdldFN0cmluZ1ZhbGlkYXRpb25GYWlsdXJlcyxcbiAgZ2V0TnVtYmVyVmFsaWRhdGlvbkZhaWx1cmVzLFxuICBnZXRJbnRlZ2VyVmFsaWRhdGlvbkZhaWx1cmVzLFxuICBnZXRCb29sZWFuVmFsaWRhdGlvbkZhaWx1cmVzLFxuICBnZXRBcnJheVZhbGlkYXRpb25GYWlsdXJlcyxcbiAgZ2V0T2JqZWN0VmFsaWRhdGlvbkZhaWx1cmVzXG59O1xuIiwiXG5mdW5jdGlvbiBnZXRWYWxpZE1vZGVsUGFydHMobW9kZWwsIHNjaGVtYSkge1xuICBpZiAoc2NoZW1hLmFsbE9mKSB7XG4gICAgcmV0dXJuIGNsZWFuTW9kZWxXaXRoQWxsT2ZTY2hlbWEobW9kZWwsIHNjaGVtYSk7XG4gIH1cblxuICBpZiAoc2NoZW1hLm9uZU9mKSB7XG4gICAgcmV0dXJuIGNsZWFuTW9kZWxXaXRoT25lT2ZTY2hlbWEobW9kZWwsIHNjaGVtYSk7XG4gIH1cblxuICBpZiAoc2NoZW1hLnR5cGUpIHtcbiAgICBzd2l0Y2ggKHNjaGVtYS50eXBlKSB7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gY2xlYW5Nb2RlbFdpdGhPYmplY3RTY2hlbWEobW9kZWwsIHNjaGVtYSk7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICAgIHJldHVybiBjbGVhbk1vZGVsV2l0aEFycmF5U2NoZW1hKG1vZGVsLCBzY2hlbWEpO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIGNsZWFuTW9kZWxXaXRoU3RyaW5nU2NoZW1hKG1vZGVsKTtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgICAgcmV0dXJuIGNsZWFuTW9kZWxXaXRoTnVtYmVyU2NoZW1hKG1vZGVsKTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gY2xlYW5Nb2RlbFdpdGhCb29sZWFuU2NoZW1hKG1vZGVsKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzY2hlbWEuZW51bSAmJiBzY2hlbWEuZW51bS5pbmRleE9mKG1vZGVsKSA+PSAwKSB7XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIC8vIFVucmVjb2duaXNlZCBzY2hlbWFcbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGNsZWFuTW9kZWxXaXRoT2JqZWN0U2NoZW1hKG1vZGVsLCBzY2hlbWEpIHtcbiAgY29uc3QgY2xlYW5lZE1vZGVsID0ge307XG4gIE9iamVjdC5rZXlzKHNjaGVtYS5wcm9wZXJ0aWVzKS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBleGlzdHMgaW4gdGhlIG1vZGVsLCBjbGVhbiBpdCwgYW5kIGFkZCBpdFxuICAgIGlmIChtb2RlbCAmJiB0eXBlb2YgbW9kZWxbcHJvcGVydHldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3QgbmV3VmFsdWUgPSBnZXRWYWxpZE1vZGVsUGFydHMobW9kZWxbcHJvcGVydHldLCBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eV0pO1xuICAgICAgaWYgKG5ld1ZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIGNsZWFuZWRNb2RlbFtwcm9wZXJ0eV0gPSBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gY2xlYW5lZE1vZGVsO1xufVxuXG5mdW5jdGlvbiBjbGVhbk1vZGVsV2l0aEFycmF5U2NoZW1hKG1vZGVsLCBzY2hlbWEpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkobW9kZWwpKSB7XG4gICAgcmV0dXJuIG1vZGVsLm1hcChjaGlsZE1vZGVsID0+IGdldFZhbGlkTW9kZWxQYXJ0cyhjaGlsZE1vZGVsLCBzY2hlbWEpKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY2xlYW5Nb2RlbFdpdGhTdHJpbmdTY2hlbWEobW9kZWwpIHtcbiAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGNsZWFuTW9kZWxXaXRoTnVtYmVyU2NoZW1hKG1vZGVsKSB7XG4gIGlmICh0eXBlb2YgbW9kZWwgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjbGVhbk1vZGVsV2l0aEJvb2xlYW5TY2hlbWEobW9kZWwpIHtcbiAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBjbGVhbk1vZGVsV2l0aEFsbE9mU2NoZW1hKG1vZGVsLCBzY2hlbWEpIHtcbiAgY29uc3QgY2xlYW5lZE1vZGVsID0ge307XG4gIGxldCB2YWxpZFN1YnNldE9mTW9kZWw7XG5cbiAgc2NoZW1hLmFsbE9mLmZvckVhY2goKG5lc3RlZFNjaGVtYSkgPT4ge1xuICAgIHZhbGlkU3Vic2V0T2ZNb2RlbCA9IGdldFZhbGlkTW9kZWxQYXJ0cyhtb2RlbCwgbmVzdGVkU2NoZW1hKTtcblxuICAgIGlmICh0eXBlb2YgdmFsaWRTdWJzZXRPZk1vZGVsID09PSAnb2JqZWN0Jykge1xuICAgICAgYW5ndWxhci5leHRlbmQoY2xlYW5lZE1vZGVsLCB2YWxpZFN1YnNldE9mTW9kZWwpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjbGVhbmVkTW9kZWw7XG59XG5cbmZ1bmN0aW9uIGNsZWFuTW9kZWxXaXRoT25lT2ZTY2hlbWEobW9kZWwsIHNjaGVtYSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gIHJldHVybiBtb2RlbDtcbn1cblxuZXhwb3J0IHsgZ2V0VmFsaWRNb2RlbFBhcnRzIH07IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiIsIlxuZnVuY3Rpb24gaXNWYWxpZFJlcXVpcmVkKHZhbHVlLCBpc1JlcXVpcmVkKSB7XG4gIHJldHVybiAhaXNSZXF1aXJlZCB8fCB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkTWluTGVuZ3RoKHZhbHVlLCBtaW5MZW5ndGgpIHtcbiAgcmV0dXJuIHR5cGVvZiBtaW5MZW5ndGggPT09ICd1bmRlZmluZWQnIHx8ICghIXZhbHVlICYmIHZhbHVlLmxlbmd0aCA+PSBtaW5MZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkTWF4TGVuZ3RoKHZhbHVlLCBtYXhMZW5ndGgpIHtcbiAgcmV0dXJuIHR5cGVvZiBtYXhMZW5ndGggPT09ICd1bmRlZmluZWQnIHx8ICghIXZhbHVlICYmIHZhbHVlLmxlbmd0aCA8PSBtYXhMZW5ndGgpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkUGF0dGVybih2YWx1ZSwgcGF0dGVybikge1xuICB0cnkge1xuICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiAhIXJlZ2V4LnRlc3QodmFsdWUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRNYXgodmFsdWUsIG1heCkge1xuICByZXR1cm4gdHlwZW9mIG1heCA9PT0gJ3VuZGVmaW5lZCcgfHwgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPD0gbWF4KTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZE1pbih2YWx1ZSwgbWluKSB7XG4gIHJldHVybiB0eXBlb2YgbWluID09PSAndW5kZWZpbmVkJyB8fCAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA+PSBtaW4pO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkTWluSXRlbXModmFsdWUsIG1pbkl0ZW1zKSB7XG4gIHJldHVybiAhbWluSXRlbXMgfHwgKCEhdmFsdWUgJiYgdmFsdWUubGVuZ3RoID49IG1pbkl0ZW1zKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZE1heEl0ZW1zKHZhbHVlLCBtYXhJdGVtcykge1xuICByZXR1cm4gIW1heEl0ZW1zIHx8ICghIXZhbHVlICYmIHZhbHVlLmxlbmd0aCA8PSBtYXhJdGVtcyk7XG59XG5cbmV4cG9ydCB7XG4gIGlzVmFsaWRSZXF1aXJlZCxcbiAgaXNWYWxpZE1pbkxlbmd0aCxcbiAgaXNWYWxpZE1heExlbmd0aCxcbiAgaXNWYWxpZFBhdHRlcm4sXG4gIGlzVmFsaWRNYXgsXG4gIGlzVmFsaWRNaW4sXG4gIGlzVmFsaWRNaW5JdGVtcyxcbiAgaXNWYWxpZE1heEl0ZW1zXG59O1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5qc29uLXNjaGVtYS5hbGwtb2YnLCBbXSlcbiAgLmNvbXBvbmVudCgnYWxsT2ZTY2hlbWEnLCBDb21wb25lbnQpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3Lmpzb24tc2NoZW1hLmFycmF5JywgW10pXG4gIC5jb21wb25lbnQoJ2FycmF5U2NoZW1hJywgQ29tcG9uZW50KS5uYW1lO1xuIiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCBGaWVsZCBmcm9tICcuLi8uLi9mb3Jtcy9maWVsZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuanNvbi1zY2hlbWEuYmFzaWMtdHlwZScsIFtcbiAgICBGaWVsZFxuICBdKVxuICAuY29tcG9uZW50KCdiYXNpY1R5cGVTY2hlbWEnLCBDb21wb25lbnQpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuXG5leHBvcnQgZGVmYXVsdCBhbmd1bGFyXG4gIC5tb2R1bGUoJ3R3Lmpzb24tc2NoZW1hLm9iamVjdCcsIFtdKVxuICAuY29tcG9uZW50KCdvYmplY3RTY2hlbWEnLCBDb21wb25lbnQpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcbmltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9jb21wb25lbnQnO1xuaW1wb3J0IFJhZGlvIGZyb20gJy4uLy4uL2Zvcm1zL3JhZGlvJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5qc29uLXNjaGVtYS5vbmUtb2YnLCBbXG4gICAgUmFkaW9cbiAgXSlcbiAgLmNvbXBvbmVudCgnb25lT2ZTY2hlbWEnLCBDb21wb25lbnQpLm5hbWU7XG4iLCJpbXBvcnQgYW5ndWxhciBmcm9tICdhbmd1bGFyJztcblxuaW1wb3J0IEZvcm0gZnJvbSAnLi9mb3JtJztcbmltcG9ydCBBbGxPZlNjaGVtYSBmcm9tICcuL2FsbC1vZi1zY2hlbWEnO1xuaW1wb3J0IEFycmF5U2NoZW1hIGZyb20gJy4vYXJyYXktc2NoZW1hJztcbmltcG9ydCBCYXNpY1R5cGVTY2hlbWEgZnJvbSAnLi9iYXNpYy10eXBlLXNjaGVtYSc7XG5pbXBvcnQgR2VuZXJpY1NjaGVtYSBmcm9tICcuL2dlbmVyaWMtc2NoZW1hJztcbmltcG9ydCBPYmplY3RTY2hlbWEgZnJvbSAnLi9vYmplY3Qtc2NoZW1hJztcbmltcG9ydCBPbmVPZlNjaGVtYSBmcm9tICcuL29uZS1vZi1zY2hlbWEnO1xuaW1wb3J0IFZhbGlkYXRpb24gZnJvbSAnLi92YWxpZGF0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhci5tb2R1bGUoJ3R3Lmpzb24tc2NoZW1hJywgW1xuICBGb3JtLFxuICBBbGxPZlNjaGVtYSxcbiAgQXJyYXlTY2hlbWEsXG4gIEJhc2ljVHlwZVNjaGVtYSxcbiAgR2VuZXJpY1NjaGVtYSxcbiAgT2JqZWN0U2NoZW1hLFxuICBPbmVPZlNjaGVtYSxcbiAgVmFsaWRhdGlvblxuXSkubmFtZTtcbiIsImltcG9ydCBhbmd1bGFyIGZyb20gJ2FuZ3VsYXInO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuanNvbi1zY2hlbWEuZm9ybScsIFtdKVxuICAuY29tcG9uZW50KCdqc29uU2NoZW1hRm9ybScsIENvbXBvbmVudCkubmFtZTtcbiIsImltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi90ZW1wbGF0ZS5odG1sJztcblxuY29uc3QgQ29tcG9uZW50ID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgYmluZGluZ3M6IHtcbiAgICBzY2hlbWE6ICc8JyxcbiAgICBtb2RlbDogJzwnLFxuICAgIGVycm9yczogJzwnLFxuICAgIGxvY2FsZTogJzwnLFxuICAgIHRyYW5zbGF0aW9uczogJzwnLFxuICAgIG9uQ2hhbmdlOiAnJidcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50O1xuIiwiaW1wb3J0IHsgaXNWYWxpZFNjaGVtYSB9IGZyb20gJy4uL3ZhbGlkYXRpb24vc2NoZW1hLXZhbGlkYXRvcnMnO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgb25Nb2RlbENoYW5nZShtb2RlbCwgc2NoZW1hKSB7XG4gICAgaWYgKHRoaXMub25DaGFuZ2UpIHtcbiAgICAgIGNvbnN0IGlzVmFsaWQgPSBpc1ZhbGlkU2NoZW1hKG1vZGVsLCB0aGlzLnNjaGVtYSk7XG4gICAgICB0aGlzLm9uQ2hhbmdlKHsgbW9kZWwsIGlzVmFsaWQsIHNjaGVtYSB9KTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8Z2VuZXJpYy1zY2hlbWEgc2NoZW1hPSRjdHJsLnNjaGVtYSBtb2RlbD0kY3RybC5tb2RlbCBlcnJvcnM9JGN0cmwuZXJyb3JzIGxvY2FsZT0kY3RybC5sb2NhbGUgdHJhbnNsYXRpb25zPSRjdHJsLnRyYW5zbGF0aW9ucyBvbi1jaGFuZ2U9XFxcIiRjdHJsLm9uTW9kZWxDaGFuZ2UobW9kZWwsIHNjaGVtYSlcXFwiPiA8L2dlbmVyaWMtc2NoZW1hPiBcIjsiLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUuaHRtbCc7XG5cbmNvbnN0IENvbXBvbmVudCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzOiB7XG4gICAgc2NoZW1hOiAnPCcsXG4gICAgbW9kZWw6ICc8JyxcbiAgICBlcnJvcnM6ICc8JyxcbiAgICBsb2NhbGU6ICc8JyxcbiAgICB0cmFuc2xhdGlvbnM6ICc8JyxcbiAgICBvbkNoYW5nZTogJyYnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcbiIsImltcG9ydCB7IGdldFZhbGlkTW9kZWxQYXJ0cyB9IGZyb20gJy4uL3ZhbGlkYXRpb24vdmFsaWQtbW9kZWwnO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuc2NoZW1hIHx8IGNoYW5nZXMubW9kZWwpIHtcbiAgICAgIC8vIFdlIGtlZXAgZWFjaCBtb2RlbCBzZXBhcmF0ZWx5LCBhbmQgY29tYmluZSB0aGVtIGZvciBicm9hZGNhc3QsIHRoaXMgZ2l2ZXNcbiAgICAgIC8vIGJldHRlciBjb250cm9sIG92ZXIgY2xlYW5pbmcgdXAgdGhlIG1vZGVsIGFzIHdlIGRlYWwgd2l0aCB2YWx1ZXMgdGhhdCBhcmVcbiAgICAgIC8vIHJlbW92ZWQuXG4gICAgICB0aGlzLm1vZGVscyA9IHNwbGl0TW9kZWwodGhpcy5tb2RlbCwgdGhpcy5zY2hlbWEgPyB0aGlzLnNjaGVtYS5hbGxPZiA6IFtdKTtcbiAgICB9XG4gIH1cblxuICBvbk1vZGVsQ2hhbmdlKGluZGV4LCBtb2RlbCwgc2NoZW1hKSB7XG4gICAgY29uc3Qgc2NoZW1hRm9ySW5kZXggPSB0aGlzLnNjaGVtYS5hbGxPZltpbmRleF07XG5cbiAgICB0aGlzLm1vZGVsc1tpbmRleF0gPSBnZXRWYWxpZE1vZGVsUGFydHMobW9kZWwsIHNjaGVtYUZvckluZGV4KTtcblxuICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlKHsgbW9kZWw6IGNvbWJpbmVNb2RlbHModGhpcy5tb2RlbHMpLCBzY2hlbWEgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNwbGl0TW9kZWwobW9kZWwsIHNjaGVtYXMpIHtcbiAgLy8gSWYgd2UgcmVjZWl2ZSBhIG1vZGVsLCBicmVhayBpdCBkb3duIHRvIHBhcnRzIHZhbGlkIGZvciBlYWNoIHNjaGVtYVxuICBjb25zdCBtb2RlbHMgPSBbXTtcbiAgaWYgKG1vZGVsICYmIHNjaGVtYXMpIHtcbiAgICBzY2hlbWFzLmZvckVhY2goKHNjaGVtYSkgPT4ge1xuICAgICAgbW9kZWxzLnB1c2goZ2V0VmFsaWRNb2RlbFBhcnRzKG1vZGVsLCBzY2hlbWEpIHx8IHt9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbW9kZWxzO1xufVxuXG5mdW5jdGlvbiBjb21iaW5lTW9kZWxzKG1vZGVscykge1xuICByZXR1cm4gbW9kZWxzLnJlZHVjZSgoY3VycmVudCwgY29tYmluZWQpID0+IGFuZ3VsYXIuZXh0ZW5kKGNvbWJpbmVkLCBjdXJyZW50KSwge30pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxoMyBuZy1pZj0kY3RybC5zY2hlbWEudGl0bGUgY2xhc3M9cGFnZS1oZWFkZXI+IHt7ICRjdHJsLnNjaGVtYS50aXRsZSB9fSA8L2gzPiA8cCBuZy1pZj0kY3RybC5zY2hlbWEuZGVzY3JpcHRpb24+IHt7ICRjdHJsLnNjaGVtYS5kZXNjcmlwdGlvbiB9fSA8L3A+IDxkaXYgbmctaWY9JGN0cmwuc2NoZW1hLmhlbHAud2FybmluZyBjbGFzcz1cXFwiYWxlcnQgYWxlcnQtd2FybmluZ1xcXCI+IHt7ICRjdHJsLnNjaGVtYS5oZWxwLndhcm5pbmcgfX0gPC9kaXY+IDxkaXYgY2xhc3M9cm93PiA8ZGl2IG5nLXJlcGVhdD1cXFwiKGluZGV4LCBuZXN0ZWRTY2hlbWEpIGluICRjdHJsLnNjaGVtYS5hbGxPZlxcXCIgY2xhc3M9Y29sLXhzLTEyIG5nLWNsYXNzPVxcXCJ7XFxuICAgICAgJ2NvbC1zbS00JzogISRjdHJsLm5hcnJvdyAgJiYgbmVzdGVkU2NoZW1hLndpZHRoID09PSAnc20nLFxcbiAgICAgICdjb2wtc20tNic6ICEkY3RybC5uYXJyb3cgICYmIG5lc3RlZFNjaGVtYS53aWR0aCA9PT0gJ21kJyxcXG4gICAgICAnY29sLXNtLTEyJzogJGN0cmwubmFycm93IHx8IG5lc3RlZFNjaGVtYS53aWR0aCA9PT0gJ2xnJ1xcbiAgICB9XFxcIj4gPGdlbmVyaWMtc2NoZW1hIHNjaGVtYT1uZXN0ZWRTY2hlbWEgbW9kZWw9JGN0cmwubW9kZWxzW2luZGV4XSBlcnJvcnM9JGN0cmwuZXJyb3JzIGxvY2FsZT0kY3RybC5sb2NhbGUgdHJhbnNsYXRpb25zPSRjdHJsLnRyYW5zbGF0aW9ucyBvbi1jaGFuZ2U9XFxcIiRjdHJsLm9uTW9kZWxDaGFuZ2UoaW5kZXgsIG1vZGVsLCBzY2hlbWEpXFxcIj4gPC9nZW5lcmljLXNjaGVtYT4gPC9kaXY+IDwvZGl2PiBcIjsiLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUuaHRtbCc7XG5cbmNvbnN0IENvbXBvbmVudCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzOiB7XG4gICAgc2NoZW1hOiAnPCcsXG4gICAgbW9kZWw6ICc8JyxcbiAgICBlcnJvcnM6ICc8JyxcbiAgICBsb2NhbGU6ICc8JyxcbiAgICB0cmFuc2xhdGlvbnM6ICc8JyxcbiAgICBvbkNoYW5nZTogJyYnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcbiIsImNvbnN0IHNpbXBsZVR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2ludGVnZXInLCAnYm9vbGVhbiddO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgJG9uSW5pdCgpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5tb2RlbCkpIHtcbiAgICAgIGNvbnN0IGFycmF5VHlwZSA9IGdldEFycmF5VHlwZSh0aGlzLnNjaGVtYSk7XG4gICAgICBjb25zdCBuZXdJdGVtID0gZ2V0TmV3SXRlbShhcnJheVR5cGUpO1xuXG4gICAgICB0aGlzLm1vZGVsID0gW107XG4gICAgICBpZiAobmV3SXRlbSkge1xuICAgICAgICAvLyBTZWVkIHRoZSBhcnJheSB3aXRoIGEgbmV3SXRlbSB0byBzaG93IG9uZSBlbXB0eSBmb3JtXG4gICAgICAgIHRoaXMubW9kZWwucHVzaChuZXdJdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbk1vZGVsQ2hhbmdlKGluZGV4LCBtb2RlbCwgc2NoZW1hKSB7XG4gICAgdGhpcy5tb2RlbFtpbmRleF0gPSBtb2RlbDtcbiAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZSh7IG1vZGVsOiB0aGlzLm1vZGVsLCBzY2hlbWEgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKGluZGV4KSB7XG4gICAgaWYgKHRoaXMubW9kZWxbaW5kZXhdKSB7XG4gICAgICB0aGlzLm1vZGVsLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgYWRkKCkge1xuICAgIGNvbnN0IGFycmF5VHlwZSA9IGdldEFycmF5VHlwZSh0aGlzLnNjaGVtYSk7XG4gICAgY29uc3QgbmV3SXRlbSA9IGdldE5ld0l0ZW0oYXJyYXlUeXBlKTtcbiAgICBpZiAobmV3SXRlbSkge1xuICAgICAgdGhpcy5tb2RlbC5wdXNoKG5ld0l0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIGlzU2ltcGxlVHlwZSh0eXBlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICByZXR1cm4gc2ltcGxlVHlwZXMuaW5kZXhPZih0eXBlKSA+PSAwO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEFycmF5VHlwZShzY2hlbWEpIHtcbiAgcmV0dXJuIHNjaGVtYSAmJiBzY2hlbWEuaXRlbXMgJiYgc2NoZW1hLml0ZW1zLnR5cGU7XG59XG5cbmZ1bmN0aW9uIGdldE5ld0l0ZW0oYXJyYXlUeXBlKSB7XG4gIGlmIChhcnJheVR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGlmIChhcnJheVR5cGUgPT09ICdhcnJheScpIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IG5nLWlmPSRjdHJsLmlzU2ltcGxlVHlwZSgkY3RybC5zY2hlbWEuaXRlbXMudHlwZSk+IFVuc3VwcG9ydGVkIDwvZGl2PiA8ZGl2IG5nLWlmPSEkY3RybC5pc1NpbXBsZVR5cGUoJGN0cmwuc2NoZW1hLml0ZW1zLnR5cGUpPiA8aDQgY2xhc3M9cGFnZS1oZWFkZXIgbmctaWY9JGN0cmwuc2NoZW1hLnRpdGxlPiB7eyAkY3RybC5zY2hlbWEudGl0bGUgfX0gPC9oND4gPHAgbmctaWY9JGN0cmwuc2NoZW1hLmRlc2NyaXB0aW9uPiB7eyAkY3RybC5zY2hlbWEuZGVzY3JpcHRpb24gfX0gPC9wPiA8ZGl2IG5nLXJlcGVhdD1cXFwiKGluZGV4LCBjaGlsZE1vZGVsKSBpbiAkY3RybC5tb2RlbFxcXCI+IDxociBuZy1pZj1cXFwiaW5kZXggPiAwXFxcIiBjbGFzcz1cXFwibS10LTEgbS1iLTJcXFwiLz4gPGRpdiBjbGFzcz1yb3c+IDxkaXYgY2xhc3M9Y29sLXNtLTk+IDxnZW5lcmljLXNjaGVtYSBzY2hlbWE9JGN0cmwuc2NoZW1hLml0ZW1zIG1vZGVsPWNoaWxkTW9kZWwgZXJyb3JzPSRjdHJsLmVycm9yc1tpbmRleF0gbG9jYWxlPSRjdHJsLmxvY2FsZSB0cmFuc2xhdGlvbnM9JGN0cmwudHJhbnNsYXRpb25zIG9uLWNoYW5nZT1cXFwiJGN0cmwub25Nb2RlbENoYW5nZShpbmRleCwgbW9kZWwsIHNjaGVtYSlcXFwiPiA8L2dlbmVyaWMtc2NoZW1hPiA8L2Rpdj4gPGRpdiBjbGFzcz1jb2wtc20tMz4gPGJ1dHRvbiBjbGFzcz1cXFwiYnRuIGJ0bi1kYW5nZXIgYnRuLWJsb2NrIG0tdC0zXFxcIiBuZy1jbGljaz0kY3RybC5yZW1vdmUoaW5kZXgpIG5nLWRpc2FibGVkPVxcXCJpbmRleCA8ICRjdHJsLnNjaGVtYS5taW5JdGVtc1xcXCI+IHt7ICRjdHJsLnRyYW5zbGF0aW9ucy5hcnJheS5yZW1vdmUgfX0gPC9idXR0b24+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxidXR0b24gY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctZGlzYWJsZWQ9XFxcIiRjdHJsLnNjaGVtYS5tYXhJdGVtcyAmJiAkY3RybC5tb2RlbC5sZW5ndGggPj0gJGN0cmwuc2NoZW1hLm1heEl0ZW1zXFxcIiBuZy1jbGljaz0kY3RybC5hZGQoKT4ge3sgJGN0cmwudHJhbnNsYXRpb25zLmFycmF5LmFkZCB9fSA8L2J1dHRvbj4gPC9kaXY+IFwiOyIsImltcG9ydCBjb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcic7XG5pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi90ZW1wbGF0ZS5odG1sJztcblxuY29uc3QgQ29tcG9uZW50ID0ge1xuICBjb250cm9sbGVyLFxuICB0ZW1wbGF0ZSxcbiAgYmluZGluZ3M6IHtcbiAgICBzY2hlbWE6ICc8JyxcbiAgICBtb2RlbDogJzwnLFxuICAgIGVycm9yczogJzwnLFxuICAgIGxvY2FsZTogJzwnLFxuICAgIHRyYW5zbGF0aW9uczogJzwnLFxuICAgIHJlcXVpcmVkOiAnPCcsXG4gICAgb25DaGFuZ2U6ICcmJ1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnQ7XG4iLCJpbXBvcnQgeyBnZXRWYWxpZGF0aW9uRmFpbHVyZXMgfSBmcm9tICcuLi92YWxpZGF0aW9uL3ZhbGlkYXRpb24tZmFpbHVyZXMnO1xuXG5jbGFzcyBDb250cm9sbGVyIHtcbiAgJG9uSW5pdCgpIHtcbiAgICB0aGlzLmtleSA9IE1hdGguZmxvb3IoMTAwMDAwMDAwICogTWF0aC5yYW5kb20oKSk7XG5cbiAgICBpZiAoIXRoaXMubW9kZWwgJiYgdGhpcy5zY2hlbWEuZGVmYXVsdCkge1xuICAgICAgdGhpcy5vbk1vZGVsQ2hhbmdlKHRoaXMuc2NoZW1hLmRlZmF1bHQpO1xuICAgIH1cbiAgfVxuXG4gIG9uTW9kZWxDaGFuZ2UobW9kZWwpIHtcbiAgICB0aGlzLnZhbGlkYXRpb25LZXlzID0gZ2V0VmFsaWRhdGlvbkZhaWx1cmVzKG1vZGVsLCB0aGlzLnNjaGVtYSwgdGhpcy5yZXF1aXJlZCk7XG5cbiAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZSh7IG1vZGVsLCBzY2hlbWE6IHRoaXMuc2NoZW1hIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFZhbGlkYXRpb25NZXNzYWdlcygpIHtcbiAgICByZXR1cm4gKHRoaXMuc2NoZW1hICYmIHRoaXMuc2NoZW1hLnZhbGlkYXRpb25NZXNzYWdlcylcbiAgICAgIHx8ICh0aGlzLnRyYW5zbGF0aW9ucyAmJiB0aGlzLnRyYW5zbGF0aW9ucy52YWxpZGF0aW9uKSB8fCBudWxsO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHR3LWZpZWxkIG5hbWU9XFxcInt7ICRjdHJsLmtleSB9fVxcXCIgbW9kZWw9JGN0cmwubW9kZWwgZmllbGQ9JGN0cmwuc2NoZW1hIHJlcXVpcmVkPSRjdHJsLnJlcXVpcmVkIGxvY2FsZT1cXFwie3sgJGN0cmwubG9jYWxlIH19XFxcIiBvbi1jaGFuZ2U9JGN0cmwub25Nb2RlbENoYW5nZSh2YWx1ZSkgZXJyb3ItbWVzc2FnZT0kY3RybC5lcnJvcnMgd2FybmluZy1tZXNzYWdlPSRjdHJsLnNjaGVtYS5oZWxwLndhcm5pbmcgdmFsaWRhdGlvbi1tZXNzYWdlcz0kY3RybC5nZXRWYWxpZGF0aW9uTWVzc2FnZXMoKSB1cGxvYWQtb3B0aW9ucz0kY3RybC50cmFuc2xhdGlvbnMudXBsb2FkIGNsYXNzPWJ0bi1ibG9jaz4gPC90dy1maWVsZD4gXCI7IiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vY29tcG9uZW50JztcblxuaW1wb3J0IEJhc2ljVHlwZVNjaGVtYSBmcm9tICcuLi9iYXNpYy10eXBlLXNjaGVtYSc7XG5pbXBvcnQgT2JqZWN0U2NoZW1hIGZyb20gJy4uL29iamVjdC1zY2hlbWEnO1xuaW1wb3J0IEFycmF5U2NoZW1hIGZyb20gJy4uL2FycmF5LXNjaGVtYSc7XG5pbXBvcnQgQWxsT2ZTY2hlbWEgZnJvbSAnLi4vYWxsLW9mLXNjaGVtYSc7XG5pbXBvcnQgT25lT2ZTY2hlbWEgZnJvbSAnLi4vb25lLW9mLXNjaGVtYSc7XG5cbmV4cG9ydCBkZWZhdWx0IGFuZ3VsYXJcbiAgLm1vZHVsZSgndHcuanNvbi1zY2hlbWEuZ2VuZXJpYycsIFtcbiAgICBCYXNpY1R5cGVTY2hlbWEsXG4gICAgT2JqZWN0U2NoZW1hLFxuICAgIEFycmF5U2NoZW1hLFxuICAgIEFsbE9mU2NoZW1hLFxuICAgIE9uZU9mU2NoZW1hXG4gIF0pXG4gIC5jb21wb25lbnQoJ2dlbmVyaWNTY2hlbWEnLCBDb21wb25lbnQpLm5hbWU7XG4iLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUuaHRtbCc7XG5cbmNvbnN0IENvbXBvbmVudCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzOiB7XG4gICAgc2NoZW1hOiAnPCcsXG4gICAgbW9kZWw6ICc8JyxcbiAgICBlcnJvcnM6ICc8JyxcbiAgICBsb2NhbGU6ICc8JyxcbiAgICB0cmFuc2xhdGlvbnM6ICc8JyxcbiAgICByZXF1aXJlZDogJzwnLFxuICAgIGhpZGVUaXRsZTogJzwnLFxuICAgIG9uQ2hhbmdlOiAnJidcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50O1xuIiwiY2xhc3MgQ29udHJvbGxlciB7XG4gICRvbkNoYW5nZXMoY2hhbmdlcykge1xuICAgIGlmIChjaGFuZ2VzLnNjaGVtYSkge1xuICAgICAgY29uc3QgbmV3U2NoZW1hID0gY2hhbmdlcy5zY2hlbWEuY3VycmVudFZhbHVlO1xuXG4gICAgICAvLyBJZiB0aGlzIHNjaGVtYSBpcyBqdXN0IGEgc2luZ2xlIGVudW0sIHNldCB0aGUgdmFsdWVcbiAgICAgIGlmIChuZXdTY2hlbWEgJiYgbmV3U2NoZW1hLmVudW0gJiYgbmV3U2NoZW1hLmVudW0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMub25Nb2RlbENoYW5nZShuZXdTY2hlbWEuZW51bVswXSwgbmV3U2NoZW1hKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbk1vZGVsQ2hhbmdlKG1vZGVsLCBzY2hlbWEpIHtcbiAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZSh7IG1vZGVsLCBzY2hlbWEgfSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRyb2xsZXI7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFwiPG9uZS1vZi1zY2hlbWEgbmctaWY9JGN0cmwuc2NoZW1hLm9uZU9mIG1vZGVsPSRjdHJsLm1vZGVsIHNjaGVtYT0kY3RybC5zY2hlbWEgZXJyb3JzPSRjdHJsLmVycm9ycyBsb2NhbGU9JGN0cmwubG9jYWxlIHRyYW5zbGF0aW9ucz0kY3RybC50cmFuc2xhdGlvbnMgb24tY2hhbmdlPVxcXCIkY3RybC5vbk1vZGVsQ2hhbmdlKG1vZGVsLCBzY2hlbWEpXFxcIj4gPC9vbmUtb2Ytc2NoZW1hPiA8YWxsLW9mLXNjaGVtYSBuZy1pZj0kY3RybC5zY2hlbWEuYWxsT2YgbW9kZWw9JGN0cmwubW9kZWwgc2NoZW1hPSRjdHJsLnNjaGVtYSBlcnJvcnM9JGN0cmwuZXJyb3JzIGxvY2FsZT0kY3RybC5sb2NhbGUgdHJhbnNsYXRpb25zPSRjdHJsLnRyYW5zbGF0aW9ucyBvbi1jaGFuZ2U9XFxcIiRjdHJsLm9uTW9kZWxDaGFuZ2UobW9kZWwsIHNjaGVtYSlcXFwiPiA8L2FsbC1vZi1zY2hlbWE+IDxiYXNpYy10eXBlLXNjaGVtYSBuZy1pZj1cXFwiJGN0cmwuc2NoZW1hLnR5cGUgJiYgKCRjdHJsLnNjaGVtYS50eXBlICE9PSAnb2JqZWN0JyAmJiAkY3RybC5zY2hlbWEudHlwZSAhPT0gJ2FycmF5JylcXFwiIG1vZGVsPSRjdHJsLm1vZGVsIHNjaGVtYT0kY3RybC5zY2hlbWEgZXJyb3JzPSRjdHJsLmVycm9ycyBsb2NhbGU9JGN0cmwubG9jYWxlIHRyYW5zbGF0aW9ucz0kY3RybC50cmFuc2xhdGlvbnMgcmVxdWlyZWQ9JGN0cmwucmVxdWlyZWQgb24tY2hhbmdlPVxcXCIkY3RybC5vbk1vZGVsQ2hhbmdlKG1vZGVsLCBzY2hlbWEpXFxcIj4gPC9iYXNpYy10eXBlLXNjaGVtYT4gPG9iamVjdC1zY2hlbWEgbmctaWY9XFxcIiRjdHJsLnNjaGVtYS50eXBlID09PSAnb2JqZWN0J1xcXCIgbW9kZWw9JGN0cmwubW9kZWwgc2NoZW1hPSRjdHJsLnNjaGVtYSBlcnJvcnM9JGN0cmwuZXJyb3JzIGxvY2FsZT0kY3RybC5sb2NhbGUgdHJhbnNsYXRpb25zPSRjdHJsLnRyYW5zbGF0aW9ucyBvbi1jaGFuZ2U9XFxcIiRjdHJsLm9uTW9kZWxDaGFuZ2UobW9kZWwsIHNjaGVtYSlcXFwiIGhpZGUtdGl0bGU9JGN0cmwuaGlkZVRpdGxlPiA8L29iamVjdC1zY2hlbWE+IDxhcnJheS1zY2hlbWEgbmctaWY9XFxcIiRjdHJsLnNjaGVtYS50eXBlID09PSAnYXJyYXknXFxcIiBtb2RlbD0kY3RybC5tb2RlbCBzY2hlbWE9JGN0cmwuc2NoZW1hIGVycm9ycz0kY3RybC5lcnJvcnMgbG9jYWxlPSRjdHJsLmxvY2FsZSB0cmFuc2xhdGlvbnM9JGN0cmwudHJhbnNsYXRpb25zIG9uLWNoYW5nZT1cXFwiJGN0cmwub25Nb2RlbENoYW5nZShtb2RlbCwgc2NoZW1hKVxcXCI+IDwvYXJyYXktc2NoZW1hPiBcIjsiLCJpbXBvcnQgY29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xuaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vdGVtcGxhdGUuaHRtbCc7XG5cbmNvbnN0IENvbXBvbmVudCA9IHtcbiAgY29udHJvbGxlcixcbiAgdGVtcGxhdGUsXG4gIGJpbmRpbmdzOiB7XG4gICAgc2NoZW1hOiAnPCcsXG4gICAgbW9kZWw6ICc8JyxcbiAgICBlcnJvcnM6ICc8JyxcbiAgICBsb2NhbGU6ICc8JyxcbiAgICB0cmFuc2xhdGlvbnM6ICc8JyxcbiAgICBoaWRlVGl0bGU6ICc8JyxcbiAgICBvbkNoYW5nZTogJyYnXG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcbiIsImNsYXNzIENvbnRyb2xsZXIge1xuICAkb25Jbml0KCkge1xuICAgIHRoaXMub3V0cHV0TW9kZWwgPSBhbmd1bGFyLmV4dGVuZCh7fSwgdGhpcy5tb2RlbCB8fCB7fSk7XG4gIH1cblxuICBvbk1vZGVsQ2hhbmdlKHByb3BlcnR5LCBtb2RlbCwgc2NoZW1hKSB7XG4gICAgdGhpcy5vdXRwdXRNb2RlbFtwcm9wZXJ0eV0gPSBtb2RlbDtcblxuICAgIGlmICh0aGlzLm9uQ2hhbmdlKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlKHsgbW9kZWw6IHRoaXMub3V0cHV0TW9kZWwsIHNjaGVtYSB9KTtcbiAgICB9XG4gIH1cblxuICBpc1JlcXVpcmVkKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHRoaXMuc2NoZW1hLnJlcXVpcmVkICYmIHRoaXMuc2NoZW1hLnJlcXVpcmVkLmluY2x1ZGVzKHByb3BlcnR5KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb250cm9sbGVyO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxmaWVsZHNldD4gPGxlZ2VuZCBuZy1pZj1cXFwiJGN0cmwuc2NoZW1hLnRpdGxlICYmICEkY3RybC5oaWRlVGl0bGVcXFwiPiB7eyAkY3RybC5zY2hlbWEudGl0bGUgfX0gPC9sZWdlbmQ+IDxwIG5nLWlmPSRjdHJsLnNjaGVtYS5kZXNjcmlwdGlvbj4ge3sgJGN0cmwuc2NoZW1hLmRlc2NyaXB0aW9uIH19IDwvcD4gPGRpdiBuZy1pZj0kY3RybC5zY2hlbWEuaGVscC53YXJuaW5nIGNsYXNzPVxcXCJhbGVydCBhbGVydC13YXJuaW5nXFxcIj4ge3sgJGN0cmwuc2NoZW1hLmhlbHAud2FybmluZyB9fSA8L2Rpdj4gPGRpdiBjbGFzcz1yb3c+IDxkaXYgbmctcmVwZWF0PVxcXCIocHJvcGVydHksIG5lc3RlZFNjaGVtYSkgaW4gJGN0cmwuc2NoZW1hLnByb3BlcnRpZXNcXFwiIGNsYXNzPWNvbC14cy0xMiBuZy1oaWRlPW5lc3RlZFNjaGVtYS5oaWRkZW4gbmctY2xhc3M9XFxcIntcXG4gICAgICAgICdjb2wtc20tNCc6ICEkY3RybC5uYXJyb3cgICYmIG5lc3RlZFNjaGVtYS53aWR0aCA9PT0gJ3NtJyxcXG4gICAgICAgICdjb2wtc20tNic6ICEkY3RybC5uYXJyb3cgICYmIG5lc3RlZFNjaGVtYS53aWR0aCA9PT0gJ21kJyxcXG4gICAgICAgICdjb2wtc20tMTInOiAkY3RybC5uYXJyb3cgfHwgbmVzdGVkU2NoZW1hLndpZHRoID09PSAnbGcnXFxuICAgICAgfVxcXCI+IDxnZW5lcmljLXNjaGVtYSBzY2hlbWE9bmVzdGVkU2NoZW1hIG1vZGVsPSRjdHJsLm1vZGVsW3Byb3BlcnR5XSBlcnJvcnM9JGN0cmwuZXJyb3JzW3Byb3BlcnR5XSBsb2NhbGU9JGN0cmwubG9jYWxlIHRyYW5zbGF0aW9ucz0kY3RybC50cmFuc2xhdGlvbnMgcmVxdWlyZWQ9JGN0cmwuaXNSZXF1aXJlZChwcm9wZXJ0eSkgb24tY2hhbmdlPVxcXCIkY3RybC5vbk1vZGVsQ2hhbmdlKHByb3BlcnR5LCBtb2RlbCwgc2NoZW1hKVxcXCI+IDwvZ2VuZXJpYy1zY2hlbWE+IDwvZGl2PiA8L2Rpdj4gPC9maWVsZHNldD4gXCI7IiwiaW1wb3J0IGNvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL3RlbXBsYXRlLmh0bWwnO1xuXG5jb25zdCBDb21wb25lbnQgPSB7XG4gIGNvbnRyb2xsZXIsXG4gIHRlbXBsYXRlLFxuICBiaW5kaW5nczoge1xuICAgIHNjaGVtYTogJzwnLFxuICAgIG1vZGVsOiAnPCcsXG4gICAgZXJyb3JzOiAnPCcsXG4gICAgbG9jYWxlOiAnPCcsXG4gICAgdHJhbnNsYXRpb25zOiAnPCcsXG4gICAgb25DaGFuZ2U6ICcmJ1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnQ7XG4iLCJpbXBvcnQgeyBnZXRWYWxpZE1vZGVsUGFydHMgfSBmcm9tICcuLi92YWxpZGF0aW9uL3ZhbGlkLW1vZGVsJztcbmltcG9ydCB7IGlzVmFsaWRTY2hlbWEgfSBmcm9tICcuLi92YWxpZGF0aW9uL3NjaGVtYS12YWxpZGF0b3JzJztcblxuY2xhc3MgQ29udHJvbGxlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgIHRoaXMuYWN0aXZlSW5kZXggPSAxO1xuICB9XG5cbiAgJG9uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMuc2NoZW1hIHx8IGNoYW5nZXMubW9kZWwpIHtcbiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBnZXRBY3RpdmVTY2hlbWFJbmRleCh0aGlzLnNjaGVtYSwgdGhpcy5tb2RlbCk7XG4gICAgICB0aGlzLnByZWZpbGxNb2RlbHMoKTtcbiAgICB9XG4gIH1cblxuICBwcmVmaWxsTW9kZWxzKCkge1xuICAgIGlmICghdGhpcy5zY2hlbWEgfHwgIXRoaXMuc2NoZW1hLm9uZU9mKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubW9kZWxzID0gZ2V0TW9kZWxQYXJ0c0ZvclNjaGVtYXModGhpcy5tb2RlbCwgdGhpcy5zY2hlbWEub25lT2YpO1xuICB9XG5cbiAgb25TY2hlbWFDaGFuZ2UobmV3U2NoZW1hLCBpbmRleCkge1xuICAgIHRoaXMubW9kZWxzW2luZGV4XSA9IGdldFZhbGlkTW9kZWxQYXJ0cyh0aGlzLm1vZGVsc1tpbmRleF0sIG5ld1NjaGVtYSk7XG4gICAgdGhpcy5vbk1vZGVsQ2hhbmdlKHRoaXMubW9kZWxzW2luZGV4XSwgbmV3U2NoZW1hKTtcbiAgfVxuXG4gIG9uTW9kZWxDaGFuZ2UobW9kZWwsIHNjaGVtYSwgaW5kZXgpIHtcbiAgICB0aGlzLm1vZGVsc1tpbmRleF0gPSBtb2RlbDtcbiAgICBpZiAodGhpcy5vbkNoYW5nZSkge1xuICAgICAgdGhpcy5vbkNoYW5nZSh7IG1vZGVsLCBzY2hlbWEgfSk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoaWNoIHNjaGVtYSB0byBzaG93IGludGl0aWFsbHkgYmFzZWQgb24gdmFsaWRpdHkgb2YgbW9kZWxcbiAqIERlZmF1bHQgdG8gMSAoYWN0aXZlIGlzIDEtaW5kZXhlZClcbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZlU2NoZW1hSW5kZXgoc2NoZW1hLCBtb2RlbCkge1xuICBpZiAoIXNjaGVtYSB8fCAhc2NoZW1hLm9uZU9mKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNjaGVtYS5vbmVPZi5sZW5ndGg7IGkrKykge1xuICAgIGlmIChpc1ZhbGlkU2NoZW1hKG1vZGVsLCBzY2hlbWEub25lT2ZbaV0pKSB7XG4gICAgICByZXR1cm4gaSArIDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDE7XG59XG5cbmZ1bmN0aW9uIGdldE1vZGVsUGFydHNGb3JTY2hlbWFzKG1vZGVsLCBzY2hlbWFzKSB7XG4gIHJldHVybiBzY2hlbWFzLm1hcChzY2hlbWEgPT4gZ2V0VmFsaWRNb2RlbFBhcnRzKG1vZGVsLCBzY2hlbWEpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcbiIsIm1vZHVsZS5leHBvcnRzID0gXCI8bGFiZWwgY2xhc3M9Y29udHJvbC1sYWJlbCBuZy1pZj0kY3RybC5zY2hlbWEudGl0bGU+IHt7ICRjdHJsLnNjaGVtYS50aXRsZSB9fSA8L2xhYmVsPiA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIG0tYi01XFxcIj4gPGRpdiBjbGFzcz1yYWRpbyBuZy1yZXBlYXQ9XFxcIihpbmRleCwgc2NoZW1hKSBpbiAkY3RybC5zY2hlbWEub25lT2ZcXFwiIG5nLWNsYXNzPVxcXCJ7J3JhZGlvLWxnJzogc2NoZW1hLmRlc2NyaXB0aW9ufVxcXCI+IDxsYWJlbD4gPHR3LXJhZGlvIG5nLW1vZGVsPSRjdHJsLmFjdGl2ZUluZGV4IG5nLXZhbHVlPVxcXCIoaW5kZXggKyAxKVxcXCIgbmctY2hhbmdlPVxcXCIkY3RybC5vblNjaGVtYUNoYW5nZShzY2hlbWEsIGluZGV4KVxcXCI+PC90dy1yYWRpbz4ge3sgc2NoZW1hLnRpdGxlIH19IDxwIG5nLWlmPXNjaGVtYS5kZXNjcmlwdGlvbiBjbGFzcz1cXFwic2Vjb25kYXJ5IG0tYi0wXFxcIj4ge3sgc2NoZW1hLmRlc2NyaXB0aW9uIH19IDwvcD4gPC9sYWJlbD4gPC9kaXY+IDwvZGl2PiA8ZGl2IG5nLXJlcGVhdD1cXFwiKGluZGV4LCBzY2hlbWEpIGluICRjdHJsLnNjaGVtYS5vbmVPZlxcXCI+IDxnZW5lcmljLXNjaGVtYSBuZy1pZj1cXFwiJGN0cmwuYWN0aXZlSW5kZXggPT09IChpbmRleCArIDEpXFxcIiBzY2hlbWE9c2NoZW1hIG1vZGVsPSRjdHJsLm1vZGVsc1tpbmRleF0gZXJyb3JzPSRjdHJsLmVycm9ycyBsb2NhbGU9JGN0cmwubG9jYWxlIHRyYW5zbGF0aW9ucz0kY3RybC50cmFuc2xhdGlvbnMgb24tY2hhbmdlPVxcXCIkY3RybC5vbk1vZGVsQ2hhbmdlKG1vZGVsLCBzY2hlbWEsIGluZGV4KVxcXCIgaGlkZS10aXRsZT10cnVlPiA8L2dlbmVyaWMtc2NoZW1hPiA8L2Rpdj4gXCI7IiwiaW1wb3J0IGFuZ3VsYXIgZnJvbSAnYW5ndWxhcic7XG5cbmltcG9ydCB7IGdldFZhbGlkTW9kZWxQYXJ0cyB9IGZyb20gJy4vdmFsaWQtbW9kZWwnO1xuaW1wb3J0IHsgZ2V0VmFsaWRhdGlvbkZhaWx1cmVzIH0gZnJvbSAnLi92YWxpZGF0aW9uLWZhaWx1cmVzJztcbmltcG9ydCB7IGlzVmFsaWRTY2hlbWEgfSBmcm9tICcuL3NjaGVtYS12YWxpZGF0b3JzJztcbmltcG9ydCAqIGFzIHJ1bGVWYWxpZGF0b3JzIGZyb20gJy4vcnVsZS12YWxpZGF0b3JzJztcbmltcG9ydCAqIGFzIHR5cGVWYWxpZGF0b3JzIGZyb20gJy4vdHlwZS12YWxpZGF0b3JzJztcblxuZnVuY3Rpb24gVmFsaWRhdGlvbigpIHtcbiAgdGhpcy5nZXRWYWxpZE1vZGVsUGFydHMgPSBnZXRWYWxpZE1vZGVsUGFydHM7XG4gIHRoaXMuZ2V0VmFsaWRhdGlvbkZhaWx1cmVzID0gZ2V0VmFsaWRhdGlvbkZhaWx1cmVzO1xuICB0aGlzLmlzVmFsaWRTY2hlbWEgPSBpc1ZhbGlkU2NoZW1hO1xuICB0aGlzLnJ1bGVWYWxpZGF0b3JzID0gcnVsZVZhbGlkYXRvcnM7XG4gIHRoaXMudHlwZVZhbGlkYXRvcnMgPSB0eXBlVmFsaWRhdG9ycztcbn1cblxuZXhwb3J0IGRlZmF1bHQgYW5ndWxhclxuICAubW9kdWxlKCd0dy5qc29uLXNjaGVtYS52YWxpZGF0aW9uJywgW10pXG4gIC5zZXJ2aWNlKCdTY2hlbWFWYWxpZGF0aW9uJywgVmFsaWRhdGlvbikubmFtZTtcbiJdLCJzb3VyY2VSb290IjoiIn0=