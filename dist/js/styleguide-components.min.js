angular.module("tw.form-validation", []);
angular.module("tw.form-styling", []);
angular.module("tw.form-components", []);
angular.module("tw.layout-components", []);
angular.module("tw.styleguide-components", ['tw.form-validation', 'tw.form-styling', 'tw.form-components', 'tw.layout-components']);
!function(a){"use strict";function b(a,b,c,d){function e(a){return!isNaN(parseFloat(a))}var f=this,g=a.controller("ngModel");f.showDecimals=!0,b.$watch("$ctrl.ngModel",function(a,b){a!==b&&g.$setDirty()}),b.$watch("$ctrl.currency",function(a,b){a&&a!==b&&(f.showDecimals=d.getDecimals(a)>0)}),a.find("input").on("blur",function(){g.$setTouched(),a.triggerHandler("blur")}),g.$validators.min=function(a,b){return"undefined"==typeof f.ngMin||null===f.ngMin||!e(b)||b>=f.ngMin},g.$validators.max=function(a,b){return"undefined"==typeof f.ngMax||null===f.ngMax||!e(b)||b<=f.ngMax},f.changedAmount=function(){f.ngChange&&c(f.ngChange),f.onAmountChange&&(console&console.log&&console.log("onAmountChange is deprecated in twAmountCurrencySelect, please use ngChange."),c(f.onAmountChange))},f.changedCurrency=function(){f.onCurrencyChange&&c(f.onCurrencyChange)},f.customAction=function(){f.onCustomAction&&f.onCustomAction()}}a.module("tw.form-components").controller("TwAmountCurrencySelectController",b),b.$inject=["$element","$scope","$timeout","TwCurrencyData"]}(window.angular),function(a){"use strict";function b(a,b,c,d){function e(a){return!isNaN(parseFloat(a))}var f=this,g=a.controller("ngModel");f.showDecimals=!0,b.$watch("$ctrl.ngModel",function(a,b){a!==b&&g.$setDirty()}),b.$watch("$ctrl.currency",function(a,b){a!==b&&(f.showDecimals=d.getDecimals(a)>0)}),a.find("input").on("blur",function(){g.$setTouched(),a.triggerHandler("blur")}),f.currencyCode&&console&&console.log&&console.log("currency code is deprecated in twCurrencyInput, please use currency."),g.$validators.min=function(a,b){return"undefined"==typeof f.ngMin||null===f.ngMin||!e(b)||b>=f.ngMin},g.$validators.max=function(a,b){return"undefined"==typeof f.ngMax||null===f.ngMax||!e(b)||b<=f.ngMax},f.changedInputValue=function(){f.ngChange&&c(f.ngChange)}}a.module("tw.form-components").controller("TwCurrencyInputController",b),b.$inject=["$element","$scope","$timeout","TwCurrencyData"]}(window.angular),function(a){"use strict";function b(a,b,c,d){function e(){if(B.ngModel)i(),C=!0;else{if(B.modelType){if(B.modelType!==E&&B.modelType!==F)throw new Error("Invalid modelType, should be "+E+" or "+F);B.dateModelType=B.modelType}else B.dateModelType=F;B.day=null,B.month=0,B.year=null}A=a.controller("ngModel"),A.$validators.min=function(a){var b=g(B.ngMin,B.min),c=h(a);return!b||!c||c>=b},A.$validators.max=function(a){var b=g(B.ngMax,B.max),c=h(a);return!b||!c||c<=b},k(),l(),m(),j(),r(),f(a)}function f(a){var b,c;a.find("input[name=day]").on("blur",function(){b=!0,b&&c&&(A.$setTouched(),a.triggerHandler("blur"))}),a.find("input[name=year]").on("blur",function(){c=!0,A.$setTouched(),a.triggerHandler("blur")})}function g(a,b){var c=a?a:!!b&&b;return!!c&&(c="string"==typeof c?new Date(c):c,!!p(c)&&c)}function h(a){return"string"==typeof a?new Date(a):a}function i(){if(!o(B.ngModel))throw new Error("date model passed should either be instance of Date or valid ISO8601 string");B.dateModelType="string"==typeof B.ngModel?E:F,B.explodeDateModel(B.ngModel)}function j(){B.dateMonths=s()}function k(){B.dateRequired=void 0!==B.ngRequired?B.ngRequired:void 0!==B.required}function l(){B.dateDisabled=void 0!==B.ngDisabled?B.ngDisabled:void 0!==B.disabled}function m(){B.locale||(B.locale=D),B.monthBeforeDay=d.isMonthBeforeDay(B.locale)}function n(a){var b="string"==typeof a?new Date(a):a;B.day=b.getUTCDate(),B.month=b.getUTCMonth(),B.year=b.getUTCFullYear()}function o(a){return p(a)||q(a)}function p(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())}function q(a){return"string"==typeof a&&p(new Date(a))}function r(){c.$watch("$ctrl.day",function(a,b){a!==b&&C&&A.$setDirty()}),c.$watch("$ctrl.month",function(a,b){a!==b&&(B.adjustLastDay(),A.$setTouched(),C&&A.$setDirty())}),c.$watch("$ctrl.year",function(a,b){a!==b&&C&&A.$setDirty()}),c.$watch("$ctrl.ngModel",function(a,b){a!==b&&o(B.ngModel)&&(A.$setDirty(),B.explodeDateModel(B.ngModel))}),c.$watch("$ctrl.ngRequired",function(a,b){a!==b&&k()}),c.$watch("$ctrl.ngDisabled",function(a,b){a!==b&&l()}),c.$watch("$ctrl.locale",function(a,b){a!==b&&(m(),j())})}function s(){var a=d.getMonthNamesForLocale(B.locale);return t(a)}function t(a){return a.map(function(a,b){return{value:b,label:a}})}function u(){return v(B.year)&&v(B.day)&&(v(B.month)||w(B.month))}function v(a){return"number"==typeof a}function w(a){return"string"==typeof a&&!isNaN(Number(B.month))}function x(){var a=d.getUTCDateFromParts(Number(B.year),Number(B.month),Number(B.day));return a}function y(){if(B.adjustLastDay(),!u())return void A.$setViewValue(null);var a=x();if(B.dateModelType===E){var b=a.toISOString(),c=b.substring(0,b.indexOf("T"));A.$setViewValue(c)}else A.$setViewValue(a)}function z(){var a=Number(B.day),b=Number(B.month),c=Number(B.year),e=d.getLastDayOfMonth(c,b);a>e&&(B.day=parseInt(e,10))}var A,B=this,C=!1;B.updateDateModelAndValidationClasses=y,B.explodeDateModel=n,B.combineDate=x,B.adjustLastDay=z,B.validDate=o;var D="en",E="string",F="object";e()}a.module("tw.form-components").controller("TwDateController",b),b.$inject=["$element","$log","$scope","TwDateService"]}(window.angular),function(a){const b={require:"ngModel",controller:"TwAmountCurrencySelectController",transclude:{addon:"?addon"},bindings:{ngModel:"=",ngMin:"<",ngMax:"<",ngRequired:"<",ngDisabled:"<",ngChange:"&",amountReadOnly:"<",onAmountChange:"&",currency:"=",currencies:"<",onCurrencyChange:"&",currencyFilterPlaceholder:"@",customActionLabel:"<",onCustomAction:"&",placeholder:"@",size:"@",locale:"@"},template:'      <div class="input-group" ng-class="{         \'input-group-sm\': $ctrl.size === \'sm\',         \'input-group-lg\': $ctrl.size === \'lg\',         disabled: $ctrl.ngDisabled       }">          <input           type="tel"            autocomplete="off"            name="amount"            step="any"            class="form-control"            placeholder="{{ $ctrl.placeholder }}"           tw-focusable            show-decimals="$ctrl.showDecimals"           tw-number-input-formatter            ng-change="$ctrl.changedAmount()"            ng-model="$ctrl.ngModel"           ng-disabled="$ctrl.ngDisabled" />         <span class="input-group-addon"           ng-class="{\'input-lg\': $ctrl.size === \'lg\'}" ng-transclude="addon"></span>         <span class="input-group-btn">            <tw-select             ng-model="$ctrl.currency"             ng-required="true"             size="{{ $ctrl.size }}"             inverse="true"             dropdown-right="xs"             dropdown-width="lg"             hide-currency="xs"             hide-note="true"             hide-secondary="true"             options="$ctrl.currencies"             filter="{{ $ctrl.currencyFilterPlaceholder }}"             ng-change="$ctrl.changedCurrency()">               <a href="" ng-if="!!$ctrl.customActionLabel" ng-click="$ctrl.onCustomAction()">                 {{ $ctrl.customActionLabel }}               </a>           </tw-select>         </span>       </div>'};a.module("tw.form-components").component("twAmountCurrencySelect",b)}(window.angular),function(a){function b(a,b){var d=this,e=b.controller("ngModel");b.find(".tw-checkbox-button");labelSelector=".checkbox",d.isChecked=function(){return d.ngTrueValue&&d.ngTrueValue===d.ngModel||!d.ngTrueValue&&d.ngModel||!1},d.checked=d.isChecked(),d.buttonClick=function(a){d.checked?(d.checked=!1,e.$setViewValue(d.ngFalseValue||!1)):(d.checked=!0,e.$setViewValue(d.ngTrueValue||!0)),e.$setTouched(),a&&a.stopPropagation(),c(d.checked,b,e,d)},d.buttonFocus=function(){b.closest(".checkbox").find("label").addClass("focus"),b.triggerHandler("focus")},d.buttonBlur=function(){b.closest(".checkbox").find("label").removeClass("focus"),b.triggerHandler("blur"),e.$setTouched(),c(d.checked,b,e,d)},d.hiddenClick=function(a){a.stopPropagation()},b.closest("label").on("click",function(a){b.find("button").trigger("click"),a.preventDefault(),a.stopPropagation()}),a.$watch("$ctrl.ngModel",function(a,f){a!==f&&(e.$setDirty(),c(d.checked,b,e,d),d.checked=d.isChecked())}),a.$watch("$ctrl.ngDisabled",function(a,c){a&&!c?b.closest(".checkbox").addClass("disabled").addClass("disabled",!0):!a&&c&&b.closest(".checkbox").removeClass("disabled").removeClass("disabled")}),a.$watch("$ctrl.ngRequired",function(a,f){a!==f&&a&&c(d.checked,b,e,d)})}function c(a,b,c,d){c.$touched&&(!a&&d.ngRequired?(c.$setValidity("required",!1),b.find(".tw-checkbox-button").addClass("has-error"),b.closest(".checkbox").addClass("has-error"),b.closest(".form-group").addClass("has-error")):(c.$setValidity("required",!0),b.find(".tw-checkbox-button").removeClass("has-error"),b.closest(".checkbox").removeClass("has-error"),b.closest(".form-group").removeClass("has-error")))}const d={require:"ngModel",controller:["$scope","$element",b],bindings:{name:"@",ngModel:"=",ngTrueValue:"<",ngFalseValue:"<",ngRequired:"<",ngDisabled:"<"},template:"       <input type='hidden' class='sr-only'         name='{{$ctrl.name}}'         ng-model='$ctrl.ngModel'         ng-click='$ctrl.hiddenClick($event)'         ng-disabled='$ctrl.ngDisabled'/>       <button type='button' class='tw-checkbox-button' tw-focusable         ng-click='$ctrl.buttonClick($event)'         ng-focus='$ctrl.buttonFocus()'         ng-blur='$ctrl.buttonBlur()'         ng-disabled='$ctrl.ngDisabled'         ng-class='{\"checked\": $ctrl.checked}'         aria-pressed='{{$ctrl.checked}}'>         <span class='tw-checkbox-check glyphicon glyphicon-ok'></span>       </button>"};a.module("tw.form-components").component("twCheckbox",d)}(window.angular),function(a){const b={require:"ngModel",controller:"TwCurrencyInputController",transclude:{addon:"?addon"},bindings:{ngModel:"=",ngChange:"&",ngMin:"<",ngMax:"<",ngRequired:"<",ngDisabled:"<",currency:"=",currencyCode:"@",placeholder:"@",size:"@",locale:"@"},template:'       <div class="input-group" ng-class="{         \'input-group-sm\': $ctrl.size === \'sm\',         \'input-group-lg\': $ctrl.size === \'lg\',         disabled: $ctrl.ngDisabled       }">         <input           type="tel"           autocomplete="off"           name="amount"           step="any"           class="form-control p-r-0"           placeholder="{{$ctrl.placeholder}}"           show-decimals="$ctrl.showDecimals"           tw-focusable           tw-number-input-formatter           ng-change="$ctrl.changedInputValue()"           ng-model="$ctrl.ngModel"           ng-disabled="$ctrl.ngDisabled" />         <span class="hello-world input-group-addon tw-currency-input-code p-l-1">           <span ng-transclude="addon"></span>           {{ $ctrl.currency || $ctrl.currencyCode }}         </span>       </div>'};a.module("tw.form-components").component("twCurrencyInput",b)}(window.angular),function(a){"use strict";function b(){return{require:"ngModel",bindToController:!0,controller:["$element","$scope","$timeout","TwDateService",c],controllerAs:"$ctrl",replace:!1,restrict:"E",template:d,scope:{ngModel:"=",ngChange:"&",ngMin:"=",ngMax:"=",ngRequired:"=",ngDisabled:"=",placeholder:"@",size:"@",locale:"@",label:"@"}}}function c(a,b,c,d){function e(){A.yearOffset=0,t=a.controller("ngModel"),g(),h(),t.$formatters.push(function(a){return i(a),a}),a.find(".btn, .dropdown-menu").on("focusout",function(){c(function(){0!==a.find(".btn:focus").length||a.find(".btn-group").hasClass("open")||(a.parents(".form-group").removeClass("focus"),a.triggerHandler("blur"))},150)}),k(A.locale),p(A.ngMin),q(A.ngMax)}function f(){a.find("button").focus()}function g(){t.$validators.min=function(b,c){var d=b||c;return!(d&&d<A.ngMin)||(a.parents(".form-group").addClass("has-error"),!1)},t.$validators.max=function(b,c){var d=b||c;return!(d&&d>A.ngMax)||(a.parents(".form-group").addClass("has-error"),!1)}}function h(){b.$watch("$ctrl.locale",function(a,b){a&&a!==b&&k(a)}),b.$watch("$ctrl.ngRequired",function(a,b){t.$validate()}),b.$watch("$ctrl.ngMin",function(a,b){a!==b&&(p(A.ngMin),t.$validate())}),b.$watch("$ctrl.ngMax",function(a,b){a!==b&&(q(A.ngMax),t.$validate())}),b.$watch("$ctrl.ngModel",function(a,b){a&&(A.selectedDate=d.getUTCDate(a),A.selectedMonth=d.getUTCMonth(a),A.selectedYear=d.getUTCFullYear(a),l())})}function i(a){a&&a.getUTCDate||(a=d.getLocaleToday()),A.day=d.getUTCDate(a),A.month=d.getUTCMonth(a),A.year=d.getUTCFullYear(a),A.weeks=j(),m()}function j(){var a=d.getWeekday(A.year,A.month,1);0===a&&(a=7);for(var b=d.getLastDayOfMonth(A.year,A.month),c=[],e=[],f=1;f<a;f++)c.push(!1);for(f=1;f<=b;f++)c.push(f),(a+f-1)%7===0&&(e.push(c),c=[]);if(c.length){for(f=c.length;f<7;f++)c.push(!1);e.push(c)}return e}function k(a){a||(A.locale="en-GB"),A.monthBeforeDay=d.isMonthBeforeDay(A.locale),A.monthsOfYear=d.getMonthNamesForLocale(A.locale,"long"),A.shortMonthsOfYear=d.getMonthNamesForLocale(A.locale,"short"),A.daysOfWeek=d.getDayNamesForLocale(A.locale,"short"),A.shortDaysOfWeek=d.getDayNamesForLocale(A.locale,"narrow"),l()}function l(){A.selectedDateFormatted=d.getYearMonthDatePresentation(A.selectedYear,A.monthsOfYear[A.selectedMonth],A.selectedDate,A.locale)}function m(){A.yearMonthFormatted=d.getYearAndMonthPresentation(A.year,A.monthsOfYear[A.month],A.locale)}function n(a,b,c){return a||(a=d.getLocaleToday()),b&&b>a?b:c&&c<a?c:a}function o(a){a=n(a,A.ngMin,A.ngMax),t.$setViewValue(a),t.$setDirty(),i(a)}function p(a){a&&a.getUTCDate?(u=d.getUTCDate(a),v=d.getUTCMonth(a),w=d.getUTCFullYear(a)):(u=null,v=null,w=null)}function q(a){a&&a.getUTCDate?(x=d.getUTCDate(a),y=d.getUTCMonth(a),z=d.getUTCFullYear(a)):(x=null,y=null,z=null)}function r(){c(function(){a.find("a.active").focus()})}function s(a,b,c,e,f){var g=b;"day"===a&&(g=d.addDays(b,c)),"month"===a&&(g=d.addMonths(b,e)),"year"===a&&(g=d.addYears(b,f)),o(g)}var t,u,v,w,x,y,z,A=this;A.openLookup=function(){t.$setTouched(),A.mode="day";var b=A.ngModel;A.ngMin&&A.ngModel<A.ngMin&&(b=A.ngMin),A.ngMax&&A.ngModel>A.ngMax&&(b=A.ngMax),i(b),c(function(){a.find(".tw-date-lookup-month-label").focus()})},A.selectDay=function(a,b,c,e){return A.isDayDisabled(b,c,e)?void a.stopPropagation():(A.day=b,o(d.getUTCDateFromParts(e,c,b)),f(),void m())},A.selectMonth=function(a,b,c){a.stopPropagation(),A.isMonthDisabled(b,c)||(A.month=b,A.weeks=j(),A.mode="day",m())},A.selectYear=function(a,b){a.stopPropagation(),A.isYearDisabled(b)||(A.year=b,A.mode="month",m())},A.monthBefore=function(a){a.stopPropagation(),0===A.month?(A.year--,A.month=11):A.month--,A.weeks=j(),m()},A.yearBefore=function(a){a.stopPropagation(),A.year--,A.weeks=j(),m()},A.monthAfter=function(a){a.stopPropagation(),11===A.month?(A.year++,A.month=0):A.month++,A.weeks=j(),m()},A.yearAfter=function(a){a.stopPropagation(),A.year++,A.weeks=j(),m()},A.isCurrentlySelected=function(a,b,c){return a===A.selectedDate&&b===A.selectedMonth&&c===A.selectedYear},A.isDayDisabled=function(a,b,c){return A.isYearDisabled(c)||A.isMonthDisabled(b,c)||c===w&&b===v&&a<u||c===z&&b===y&&a>x},A.isMonthDisabled=function(a,b){return A.isYearDisabled(b)||b===w&&a<v||b===z&&a>y},A.isYearDisabled=function(a){return w&&a<w||z&&a>z},A.switchToMonths=function(a){f(a.target),r(),a.stopPropagation(),A.mode="month"},A.switchToYears=function(a){f(a.target),r(),a.stopPropagation(),A.mode="year"},A.setYearOffset=function(a,b){a.stopPropagation(),A.yearOffset+=b},A.buttonFocus=function(){a.parents(".form-group").addClass("focus"),a.triggerHandler("focus")},A.blur=function(){a.triggerHandler("focus")},A.keyHandler=function(a){if(!A.ngModel)return void o(d.getUTCDateFromParts(A.year,A.month,A.day));var b=a.which||a.charCode||a.keyCode;return 37===b?s(A.mode,A.ngModel,-1,-1,-1):38===b?(a.preventDefault(),s(A.mode,A.ngModel,-7,-4,-4)):39===b?s(A.mode,A.ngModel,1,1,1):40===b&&(a.preventDefault(),s(A.mode,A.ngModel,7,4,4)),r(),!0},e()}a.module("tw.form-components").directive("twDateLookup",b);var d=' \t\t<div class="btn-group btn-block dropdown" \t\t\tng-keydown="$ctrl.keyHandler($event)"> \t\t\t<button class="btn btn-input dropdown-toggle tw-date-lookup-button" data-toggle="dropdown" \t\t\t\tng-disabled="$ctrl.ngDisabled" \t\t\t\tng-click="$ctrl.openLookup()" \t\t\t\tng-focus="$ctrl.buttonFocus()" \t\t\t\tng-class="{ \t\t\t\t\t\'btn-sm\': $ctrl.size === \'sm\', \t\t\t\t\t\'btn-lg\': $ctrl.size === \'lg\' \t\t\t\t}"> \t\t\t\t<span ng-if="!$ctrl.ngModel" \t\t\t\t\tclass="form-control-placeholder tw-date-lookup-placeholder"> \t\t\t\t\t{{$ctrl.placeholder}} \t\t\t\t</span> \t\t\t\t<span ng-if="$ctrl.label && $ctrl.ngModel" \t\t\t\t\tclass="control-label small m-r-1" style="font-size: 14px;" \t\t\t\t\t>{{$ctrl.label}}</span \t\t\t\t><span ng-if="$ctrl.ngModel" class="tw-date-lookup-selected">\t\t\t\t\t{{$ctrl.selectedDateFormatted}}\t\t\t\t</span> \t\t\t\t<span class="caret"></span> \t\t\t</button> \t\t\t<div class="dropdown-menu" style="min-width: 300px;"> \t\t\t\t\t\t\t\t<div ng-if="$ctrl.mode === \'year\'" class="tw-date-lookup-years"> \t\t\t\t\t<div class="text-xs-center p-t-1 p-b-2"> \t\t\t\t\t\t<div class="pull-xs-left p-b-2"> \t\t\t\t\t\t\t<a href="" ng-click="$ctrl.setYearOffset($event, -20)" \t\t\t\t\t\t\t\tclass="text-no-decoration tw-date-lookup-previous-years"> \t\t\t\t\t\t\t\t<i class="icon icon-left icon-lg"></i> \t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div> \t\t\t\t\t\t<div class="pull-xs-right p-b-2"> \t\t\t\t\t\t\t<a href="" ng-click="$ctrl.setYearOffset($event, 20)" \t\t\t\t\t\t\t\tclass="text-no-decoration tw-date-lookup-next-years"> \t\t\t\t\t\t\t\t<i class="icon icon-right icon-lg"></i> \t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<table class="table table-condensed table-bordered table-calendar m-b-0"> \t\t\t\t\t\t<tbody> \t\t\t\t\t\t\t<tr ng-repeat="row in [0,4,8,12,16]"> \t\t\t\t\t\t\t\t<td ng-repeat="col in [0,1,2,3]"> \t\t\t\t\t\t\t\t\t<a href="" \t\t\t\t\t\t\t\t\t\tng-click="$ctrl.selectYear($event, $ctrl.year - ($ctrl.year % 20) + row + col + $ctrl.yearOffset)" \t\t\t\t\t\t\t\t\t\tng-disabled="$ctrl.isYearDisabled($ctrl.year - ($ctrl.year % 20) + row + col + $ctrl.yearOffset)" \t\t\t\t\t\t\t\t\t\tng-class="{\'active\': $ctrl.selectedYear === ($ctrl.year - ($ctrl.year % 20) + row + col + $ctrl.yearOffset)}" \t\t\t\t\t\t\t\t\t\tclass="tw-date-lookup-year-option"> \t\t\t\t\t\t\t\t\t\t{{$ctrl.year - ($ctrl.year % 20) + row + col + $ctrl.yearOffset}} \t\t\t\t\t\t\t\t\t</a> \t\t\t\t\t\t\t\t</td> \t\t\t\t\t\t\t</tr> \t\t\t\t\t\t</tbody> \t\t\t\t\t</table> \t\t\t\t</div> \t\t\t\t\t\t\t\t<div ng-if="$ctrl.mode === \'month\'" class="tw-date-lookup-months"> \t\t\t\t\t<div class="text-xs-center p-t-1 p-b-2"> \t\t\t\t\t\t<div class="pull-xs-left"> \t\t\t\t\t\t\t<a href="" ng-click="$ctrl.yearBefore($event)" class="text-no-decoration"> \t\t\t\t\t\t\t\t<i class="icon icon-left icon-lg"></i> \t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div> \t\t\t\t\t\t<a href="" ng-click="$ctrl.switchToYears($event)" \t\t\t\t\t\t\tclass="tw-date-lookup-year-label"> \t\t\t\t\t\t\t{{$ctrl.year}} \t\t\t\t\t\t</a> \t\t\t\t\t\t<div class="pull-xs-right"> \t\t\t\t\t\t\t<a href="" ng-click="$ctrl.yearAfter($event)" class="text-no-decoration"> \t\t\t\t\t\t\t\t<i class="icon icon-right icon-lg"></i> \t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<table class="table table-condensed table-bordered table-calendar m-b-0"> \t\t\t\t\t\t<tbody> \t\t\t\t\t\t\t<tr ng-repeat="row in [0,4,8]"> \t\t\t\t\t\t\t\t<td ng-repeat="col in [0,1,2,3]"> \t\t\t\t\t\t\t\t\t<a href="" \t\t\t\t\t\t\t\t\t\tng-click="$ctrl.selectMonth($event, row+col, $ctrl.year)" \t\t\t\t\t\t\t\t\t\tng-disabled="$ctrl.isMonthDisabled(row + col, $ctrl.year)" \t\t\t\t\t\t\t\t\t\tng-class="{\'active\': $ctrl.selectedMonth === (row + col) && $ctrl.selectedYear === $ctrl.year}" \t\t\t\t\t\t\t\t\t\tclass="tw-date-lookup-month-option"> \t\t\t\t\t\t\t\t\t\t{{$ctrl.shortMonthsOfYear[row+col] | limitTo:5}} \t\t\t\t\t\t\t\t\t</a> \t\t\t\t\t\t\t\t</td> \t\t\t\t\t\t\t</tr> \t\t\t\t\t\t</tbody> \t\t\t\t\t</table> \t\t\t\t</div> \t\t\t\t\t\t\t\t<div ng-if="$ctrl.mode === \'day\'" class="tw-date-lookup-days"> \t\t\t\t\t<div class="text-xs-center p-t-1 p-b-2"> \t\t\t\t\t\t<div class="pull-xs-left"> \t\t\t\t\t\t\t<a href="" ng-click="$ctrl.monthBefore($event)" \t\t\t\t\t\t\t\tclass="text-no-decoration tw-date-lookup-previous-month"> \t\t\t\t\t\t\t\t<i class="icon icon-left icon-lg"></i> \t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div> \t\t\t\t\t\t<a href="" ng-click="$ctrl.switchToYears($event)" \t\t\t\t\t\t\tclass="tw-date-lookup-month-label"> \t\t\t\t\t\t\t{{$ctrl.yearMonthFormatted}} \t\t\t\t\t\t</a> \t\t\t\t\t\t<div class="pull-xs-right"> \t\t\t\t\t\t\t<a href="" ng-click="$ctrl.monthAfter($event)" \t\t\t\t\t\t\t\tclass="text-no-decoration tw-date-lookup-next-month"> \t\t\t\t\t\t\t\t<i class="icon icon-right icon-lg"></i> \t\t\t\t\t\t\t</a> \t\t\t\t\t\t</div> \t\t\t\t\t</div> \t\t\t\t\t<table class="table table-condensed table-bordered table-calendar m-b-0"> \t\t\t\t\t\t<thead> \t\t\t\t\t\t\t<tr> \t\t\t\t\t\t\t\t<th ng-repeat="day in $ctrl.daysOfWeek track by $index"> \t\t\t\t\t\t\t\t\t<span class="hidden-xs">{{day | limitTo : 3}}</span> \t\t\t\t\t\t\t\t\t<span class="visible-xs-inline-block">{{$ctrl.shortDaysOfWeek[$index] | limitTo : 2}}</span> \t\t\t\t\t\t\t\t</th> \t\t\t\t\t\t\t</tr> \t\t\t\t\t\t</thead> \t\t\t\t\t\t<tbody> \t\t\t\t\t\t\t<tr ng-repeat="week in $ctrl.weeks"> \t\t\t\t\t\t\t\t<td ng-repeat="day in week track by $index" \t\t\t\t\t\t\t\t\tng-class="{ \t\t\t\t\t\t\t\t\t\t\'default\': $index > 4 \t\t\t\t\t\t\t\t\t}"> \t\t\t\t\t\t\t\t\t<a href="" title="{{day}} {{$ctrl.monthsOfYear[$ctrl.month]}} {{$ctrl.year}}" \t\t\t\t\t\t\t\t\t\tng-if="day" \t\t\t\t\t\t\t\t\t\tng-click="$ctrl.selectDay($event, day, $ctrl.month, $ctrl.year)" \t\t\t\t\t\t\t\t\t\tng-disabled="$ctrl.isDayDisabled(day, $ctrl.month, $ctrl.year)" \t\t\t\t\t\t\t\t\t\tng-class="{ \t\t\t\t\t\t\t\t\t\t\t\'active\': $ctrl.isCurrentlySelected(day, $ctrl.month, $ctrl.year) \t\t\t\t\t\t\t\t\t\t}" \t\t\t\t\t\t\t\t\t\tclass="tw-date-lookup-day-option" tabindex="0"> \t\t\t\t\t\t\t\t\t\t{{day}} \t\t\t\t\t\t\t\t\t</a> \t\t\t\t\t\t\t\t</td> \t\t\t\t\t\t\t</tr> \t\t\t\t\t\t</tbody> \t\t\t\t\t</table> \t\t\t\t</div> \t\t\t</div> \t\t</div>'}(window.angular),function(a){var b="     <label class='sr-only'>Day</label>     <input type='number'       name='day'       class='form-control tw-date-day'       ng-model='$ctrl.day'       ng-change='$ctrl.updateDateModelAndValidationClasses()'       placeholder='DD'       min='1'       ng-min='1'       ng-disabled='$ctrl.dateDisabled'       ng-required='$ctrl.dateRequired'       tw-focusable />",c="      <label class='sr-only'>Month</label>    <tw-select       name='month'       class='tw-date-month'       ng-model='$ctrl.month'       ng-change='$ctrl.updateDateModelAndValidationClasses()'       ng-required='$ctrl.dateRequired'       ng-disabled='$ctrl.dateDisabled'       options='$ctrl.dateMonths'>     </tw-select>",d="     <label class='sr-only'>Year</label>     <input type='number'       name='year'       class='form-control tw-date-year'       placeholder='YYYY'       ng-model='$ctrl.year'       ng-change='$ctrl.updateDateModelAndValidationClasses()'       ng-min='$ctrl.min.getFullYear()'       ng-max='$ctrl.max.getFullYear()'       maxlength='4'       ng-maxlength='4'       ng-disabled='$ctrl.dateDisabled'       ng-required='$ctrl.dateRequired'       tw-focusable />",e="     <div class='row'>       <div class='col-sm-5 tw-date-month-column' ng-if='$ctrl.monthBeforeDay'>"+c+"       </div>       <div class='col-sm-3 tw-date-day-column'>"+b+"       </div>       <div class='col-sm-5 tw-date-month-column' ng-if='!$ctrl.monthBeforeDay'>"+c+"       </div>       <div class='col-sm-4 tw-date-year-column'>"+d+"       </div>     </div>";const f={require:"ngModel",controller:"TwDateController",bindings:{ngModel:"=",required:"@",ngRequired:"<",disabled:"@",ngDisabled:"<",locale:"@",twLocale:"<",min:"@",ngMin:"<",max:"@",ngMax:"<",modelType:"@"},template:e};a.module("tw.form-components").component("twDate",f)}(window.angular),function(a){function b(a,b){var c=this,d=a.controller("ngModel");c.change=function(){d.$setDirty(),c.ngChange&&c.ngChange()},c.focus=function(){a.triggerHandler("focus")},c.blur=function(){d.$setTouched(),a.triggerHandler("blur")},d.$validators.minlength=function(a,b){var d=a||b;return"text"!==c.type||!c.ngMinlength||(!d||d.length>=c.ngMinlength)},d.$validators.maxlength=function(a,b){var d=a||b;return"text"!==c.type||!c.ngMaxlength||(!d||d.length<=c.ngMaxlength)},d.$validators.min=function(a,b){var d=a||b;return"undefined"==typeof c.ngMin||!("number"==typeof d&&"number"==typeof c.ngMin&&d<c.ngMin)&&!(d&&d.getUTCDate&&c.ngMin.getUTCDate&&d<c.ngMin)},d.$validators.max=function(a,b){var d=a||b;return"undefined"==typeof c.ngMax||!("number"==typeof d&&"number"==typeof c.ngMax&&d>c.ngMax)&&!(d&&b.getUTCDate&&c.ngMax.getUTCDate&&d>c.ngMax)}}const c={require:"ngModel",transclude:!0,controller:"TwDynamicFormControlController",bindings:{type:"@",name:"@",id:"@",label:"@",placeholder:"@",helpText:"@",step:"@",locale:"@",uploadAccept:"@",uploadIcon:"@",uploadTooLargeMessage:"@",options:"<",ngModel:"=",ngChange:"&",ngRequired:"<",ngDisabled:"<",ngMinlength:"<twMinlength",ngMaxlength:"<twMaxlength",ngMin:"<",ngMax:"<",ngPattern:"<",uploadOptions:"<",textFormat:"<"},template:"<div ng-switch='$ctrl.type'>       <input ng-switch-when='text'          name='{{$ctrl.name}}'          type='text'         class='form-control'         placeholder='{{$ctrl.placeholder}}'         ng-model='$ctrl.ngModel'         ng-model-options='{ allowInvalid: true }'         ng-required='$ctrl.ngRequired'         ng-disabled='$ctrl.ngDisabled'         ng-pattern='$ctrl.ngPattern'         ng-change='$ctrl.change()'         ng-focus='$ctrl.focus()'         ng-blur='$ctrl.blur()'         ng-minlength='$ctrl.ngMinlength'         ng-maxlength='$ctrl.ngMaxlength'         tw-text-format='{{$ctrl.textFormat}}' />        <input ng-switch-when='password'          name='{{$ctrl.name}}'          type='password'         class='form-control'         placeholder='{{$ctrl.placeholder}}'         ng-model='$ctrl.ngModel'         ng-model-options='{ allowInvalid: true }'         ng-required='$ctrl.ngRequired'         ng-disabled='$ctrl.ngDisabled'         ng-change='$ctrl.change()'         ng-focus='$ctrl.focus()'         ng-blur='$ctrl.blur()'         ng-minlength='$ctrl.ngMinlength'         ng-maxlength='$ctrl.ngMaxlength' />        <input ng-switch-when='number'          name='{{$ctrl.name}}'          type='number'         step='{{$ctrl.step}}'         class='form-control'         placeholder='{{$ctrl.placeholder}}'         ng-model='$ctrl.ngModel'         ng-model-options='{ allowInvalid: true }'         ng-required='$ctrl.ngRequired'         ng-disabled='$ctrl.ngDisabled'         ng-change='$ctrl.change()'         ng-focus='$ctrl.focus()'         ng-blur='$ctrl.blur()'         ng-min='$ctrl.ngMin'         ng-max='$ctrl.ngMax' />        <div ng-switch-when='radio'         class='radio'         ng-class='{disabled: $ctrl.ngDisabled}'         ng-repeat='option in $ctrl.options'>         <label>           <tw-radio             name='{{$ctrl.name}}'             ng-value='option.value'             ng-model='$ctrl.ngModel'             ng-required='$ctrl.ngRequired'             ng-disabled='$ctrl.ngDisabled'             ng-change='$ctrl.change()'             ng-click='$ctrl.change()'             ng-focus='$ctrl.focus()'             ng-blur='$ctrl.blur()' />           {{option.label}}         </label>       </div>       <div ng-switch-when='checkbox'         class='checkbox'         ng-class='{disabled: $ctrl.ngDisabled}'>         <label>           <tw-checkbox             name='{{$ctrl.name}}'             ng-model='$ctrl.ngModel'             ng-required='$ctrl.ngRequired'             ng-disabled='$ctrl.ngDisabled'             ng-change='$ctrl.change()'             ng-click='$ctrl.change()'             ng-focus='$ctrl.focus()'             ng-blur='$ctrl.blur()' />           {{$ctrl.placeholder}}         </label>       </div>       <div ng-switch-when='select'>         <tw-select           name='{{$ctrl.name}}'           options='$ctrl.options'           placeholder='{{$ctrl.placeholder}}'           ng-model='$ctrl.ngModel'           ng-required='$ctrl.ngRequired'           ng-disabled='$ctrl.ngDisabled'           ng-change='$ctrl.change()'           ng-focus='$ctrl.focus()'           ng-blur='$ctrl.blur()' />       </div>       <div ng-switch-when='upload'>         <tw-upload           name='{{$ctrl.name}}'           label='{{$ctrl.label}}'           icon='{{$ctrl.uploadIcon}}'           placeholder='{{$ctrl.placeholder}}'           accept='{{$ctrl.uploadAccept}}'           complete-text='{{$ctrl.label}}'           button-text='{{$ctrl.uploadOptions.buttonText}}'           cancel-text='{{$ctrl.uploadOptions.cancelText}}'           too-large-message='{{$ctrl.uploadTooLargeMessage}}'           max-size='$ctrl.ngMax'           ng-model='$ctrl.ngModel'           ng-required='$ctrl.ngRequired'           ng-disabled='$ctrl.ngDisabled'           ng-change='$ctrl.change()'           ng-focus='$ctrl.focus()'           ng-blur='$ctrl.blur()' />       </div>       <div ng-switch-when='date'>         <tw-date           name='{{$ctrl.name}}'           locale='{{$ctrl.locale}}'           ng-min='$ctrl.ngMin'           ng-max='$ctrl.ngMax'           ng-model='$ctrl.ngModel'           ng-required='$ctrl.ngRequired'           ng-disabled='$ctrl.ngDisabled'           ng-change='$ctrl.change()'           ng-focus='$ctrl.focus()'           ng-blur='$ctrl.blur()' />       </div>       <ng-transclude class='error-messages'></ng-transclude>     </div>"};a.module("tw.form-components").component("twDynamicFormControl",c),a.module("tw.form-components").controller("TwDynamicFormControlController",b),b.$inject=["$element","$scope"]}(window.angular),function(a){const b={template:"<div class='loader'>       <div class='loader-spinner'></div>       <div class='loader-flag'>         <svg xmlns='http://www.w3.org/2000/svg' width='52' height='52' viewBox='-2 -2 56 56'>           <polygon class='loader-flag-stroke'  stroke='#00B9FF' stroke-width='2' stroke-linejoin='miter' stroke-linecap='round' stroke-miterlimit='10' stroke-dasharray='300' stroke-dashoffset='300' fill='none' points='24.6,27.3 0,27.3 14.3,13.7 6.1,0 48.2,0 26.3,52 19.5,52 39.2,5.5 16.8,5.5 21.6,13.6 13.4,21.8 27,21.8' />         </svg>         <svg class='loader-flag-fill' xmlns='http://www.w3.org/2000/svg' width='52' height='52' viewBox='0 2 52 48'>           <polygon fill='#00B9FF' points='6.1,0 14.3,13.7 0,27.3 24.6,27.3 27,21.8 13.4,21.8 21.6,13.6 16.8,5.5 39.2,5.5 19.5,52 26.3,52 48.2,0 '/>         </svg>       </div>     </div>"};a.module("tw.form-components").component("twLoader",b)}(window.angular),function(a){function b(a,b,c){function d(a){return a===-1||0===a||1===a}var e=this;e.processing=e.state;var f;a.$watch("$ctrl.state",function(a){d(e.processing)&&(e.processing=null,e.startProcess())}),a.$watch("$ctrl.size",function(a){switch(b.cancel(f),e.startProcess(),e.size||(e.size="sm"),e.size){case"xs":e.radius="11";break;case"sm":e.radius="22";break;case"xl":e.radius="61";break;default:e.radius="46%"}}),e.startProcess=function(){f=b(function(){e.processing=e.state,d(e.state)&&e.stopProcess()},1500)},e.stopProcess=function(){b.cancel(f),e.onStop&&(0===e.state?e.onStop():c(e.onStop,1800))},e.startProcess()}const c={bindings:{state:"<",size:"@",onStop:"&",promise:"<"},controller:["$scope","$interval","$timeout",b],template:"<span class='process'       ng-class='{         \"process-success\": $ctrl.processing === 1,         \"process-danger\": $ctrl.processing === -1,         \"process-stopped\": $ctrl.processing === 0,         \"process-xs\": $ctrl.size === \"xs\",         \"process-sm\": $ctrl.size === \"sm\",         \"process-md\": $ctrl.size === \"md\",         \"process-lg\": $ctrl.size === \"lg\",         \"process-xl\": $ctrl.size === \"xl\"       }'>       <span class='process-icon-container'>         <span class='process-icon-horizontal'></span>         <span class='process-icon-vertical'></span>       </span>       <svg version='1.1'         xmlns='http://www.w3.org/2000/svg'         xml:space='preserve'>         <circle class='process-circle' cx='50%' cy='50%' ng-attr-r='{{$ctrl.radius}}'           fill-opacity='0.0' />       </svg>     </span>"
};a.module("tw.form-components").component("twProcess",c)}(window.angular),function(a){function b(a,b){var c=this,d=b.controller("ngModel"),e=".radio",f="label";c.isChecked=function(){return c.ngValue&&c.ngModel===c.ngValue||c.value===c.ngModel},c.checked=c.isChecked(),c.buttonClick=function(a){c.ngDisabled||(c.checked=!0,d.$setViewValue(c.ngValue||c.value))},c.buttonFocus=function(){b.closest(f).addClass("focus"),b.triggerHandler("focus")},c.buttonBlur=function(){b.closest(f).removeClass("focus"),b.triggerHandler("blur")},c.hiddenInputChange=function(){c.ngChange&&c.ngChange()},b.on("blur",function(a){d.$setTouched()}),a.$watch("$ctrl.ngModel",function(a,b){a!==b&&d.$setDirty(),c.checked=c.isChecked()}),a.$watch("$ctrl.ngDisabled",function(a,c){a&&!c?b.closest(e).addClass("disabled"):!a&&c&&b.closest(e).removeClass("disabled")})}const c={require:"ngModel",controller:["$scope","$element",b],bindings:{name:"@",value:"@",ngModel:"=",ngValue:"<",ngRequired:"<",ngDisabled:"<",ngChange:"&"},template:"       <input type='radio' class='sr-only'         name='{{$ctrl.name}}'         ng-value='$ctrl.ngValue || $ctrl.value'         ng-model='$ctrl.ngModel'         ng-disabled='$ctrl.ngDisabled'         ng-change='$ctrl.hiddenInputChange()'         tabindex='-1' />       <button type='button' class='tw-radio-button' tw-focusable         ng-click='$ctrl.buttonClick($event)'         ng-focus='$ctrl.buttonFocus()'         ng-blur='$ctrl.buttonBlur()'         ng-disabled='$ctrl.ngDisabled'         ng-class='{checked: $ctrl.checked}'         aria-pressed='{{$ctrl.checked}}'>         <span class='tw-radio-check'></span>       </button>"};a.module("tw.form-components").component("twRadio",c)}(window.angular),function(a){function b(b){function c(){j.model||(j.model={}),j.fields&&e(j.fields),b.$watch("$ctrl.fields",function(b,c){a.equals(b,c)||e(j.fields)}),b.$watch("twFieldset.$valid",function(a){j.isValid=a}),j.validationMessages||(j.validationMessages={required:"Required",pattern:"Incorrect format",min:"The value is too low",max:"The value is too high",minlength:"The value is too short",maxlength:"The value is too long"})}function d(a){j.errorMessages&&delete j.errorMessages[a]}function e(a){a.forEach(function(a){a.group.length&&(a.key=a.group[0].key),a.group.forEach(function(b){"upload"===b.type&&(a.type="upload"),f(b),g(b),h(b)})})}function f(a){if(a.validationRegexp)try{a.validationRegexp=new RegExp(a.validationRegexp)}catch(b){console.log("API regexp is invalid"),a.validationRegexp=!1}else a.validationRegexp=!1}function g(a){if(a.valuesAsync){var b={};a.valuesAsync.params&&a.valuesAsync.params.length&&(b=i(j.model,a.valuesAsync.params)),$http.post(a.valuesAsync.url,b).then(function(b){a.valuesAllowed=b.data,h(a)})["catch"](function(){})}}function h(b){a.isArray(b.valuesAllowed)&&b.valuesAllowed.forEach(function(a){a.value=a.key,a.label=a.name})}function i(a,b){var c={};return b.forEach(function(b){a[b.key]?c[b.parameterName]=a[b.key]:b.required}),c}var j=this;j.onBlur=function(a){d(a.key),!a.refreshRequirementsOnChange},j.onChange=function(a){d(a.key)},c()}const c={bindings:{legend:"@",model:"=",fields:"<",uploadOptions:"<",locale:"@",onRefreshRequirements:"&",validationMessages:"<",errorMessages:"<",isValid:"=?"},controller:["$scope",b],template:"       <fieldset ng-form='twFieldset'>         <legend ng-if='$ctrl.legend'>{{$ctrl.legend}}</legend>         <div class='row row-equal-height'>           <div ng-repeat='fieldGroup in $ctrl.fields' class='col-xs-12'             ng-class='{               \"col-sm-4\": fieldGroup.width === \"sm\",               \"col-sm-6\": fieldGroup.width === \"md\" || fieldGroup.maxlength && fieldGroup.maxlength <= 10,               \"col-sm-12\": fieldGroup.width === \"lg\" || !fieldGroup.maxlength || fieldGroup.maxlength > 10             }'>             <div class='form-group tw-form-group-{{fieldGroup.key}}' style='width: 100%;'               ng-class='{                 \"has-error\": $ctrl.errorMessages[fieldGroup.key]               }'>               <label class='control-label'                 ng-if='fieldGroup.type !== \"upload\"'>                 {{fieldGroup.name}}               </label>               <div class='row'>                 <div class='col-xs-{{field.columns}}'                   ng-repeat='field in fieldGroup.group'>                   <tw-dynamic-form-control                     name='{{field.key}}'                     label='{{fieldGroup.name}}'                     type='{{field.type | lowercase}}'                     placeholder='{{field.placeholder || field.example}}'                     help-text='{{field.helpText}}'                     locale='{{$ctrl.locale}}'                     upload-accept='{{field.accept}}'                     upload-icon='{{field.icon}}'                     upload-too-large-message='{{field.tooLargeMessage}}'                     options='field.valuesAllowed'                     upload-options='$ctrl.uploadOptions'                     ng-model='$ctrl.model[field.key]'                     ng-blur='$ctrl.onBlur(field)'                     ng-change='$ctrl.onChange(field)'                     ng-required='field.required'                     ng-disabled='field.disabled'                     tw-minlength='field.minLength'                     tw-maxlength='field.maxLength'                     ng-min='field.min'                     ng-max='field.max'                     ng-pattern='field.validationRegexp'                     text-format='field.displayFormat'                     tw-validation>                     <!-- tw-dynamic-async-validator='field.validationAsync' -->                   </tw-dynamic-form-control>                   <div class='error-messages'>                     <div ng-repeat='(validationType, validationMessage) in $ctrl.validationMessages'                       class='error-{{validationType}}'>                       {{validationMessage}}                     </div>                     <div class='error-provided' ng-if='$ctrl.errorMessages[field.key]'>                       {{ $ctrl.errorMessages[field.key] }}                     </div>                   </div>                   <div ng-if='field.tooltip'                     class='help-block'>                     {{field.tooltip}}                   </div>                 </div>               </div>             </div>           </div>         </div>       </div>     </fieldset>"};a.module("tw.form-components").component("twFieldset",c)}(window.angular),function(a){function b(b,c){function d(){f.model||(f.model={}),f.requirements&&c.prepRequirements(f.requirements),b.$watch("$ctrl.requirements",function(b,d){if(!a.equals(b,d)){c.prepRequirements(f.requirements);var e=f.model.type,g=f.requirements.length?f.requirements[0].type:null;f.model.type=g,d&&b&&c.cleanModel(f.model,d,e,b,g)}}),b.$watch("$ctrl.model.type",function(a,b){e(a,b)}),b.$watch("twForm.$valid",function(a){f.isValid=a})}function e(a,b){var d=c.findRequirementByType(b,f.requirements),e=c.findRequirementByType(a,f.requirements);d&&e||(f.model||(f.model={}),f.model.type=a),c.cleanRequirementsModel(f.model,d,e)}var f=this;f.switchTab=e,f.onBlur=function(a){!a.refreshRequirementsOnChange},d()}const c={bindings:{model:"=",requirements:"<",uploadOptions:"<",locale:"@",onRefreshRequirements:"&",validationMessages:"<",errorMessages:"<",isValid:"=?"},controller:["$scope","TwRequirementsService",b],template:"     <tw-tabs       ng-if='$ctrl.requirements.length > 1'       tabs='$ctrl.requirements'       active='$ctrl.model.type'>     </tw-tabs>     <div class='tab-content' ng-form='twForm'>       <div ng-repeat='requirementType in $ctrl.requirements'         ng-if='$ctrl.model.type == requirementType.type'         class='tab-pane active'         id='{{requirementType.type}}'>         <p>{{requirementType.description}}</p>         <tw-fieldset           fields='requirementType.fields'           model='$ctrl.model'           upload-options='$ctrl.uploadOptions'           locale='{{$ctrl.locale}}'           onRefreshRequirements='$ctrl.onRefreshRequirements()'           validation-messages='$ctrl.validationMessages'           error-messages='$ctrl.errorMessages'>         </tw-fieldset>       </div>     </div>"};a.module("tw.form-components").component("twRequirementsForm",c)}(window.angular),function(a){function b(b,i,j,o){function p(a){var b="",c={xs:!0,sm:!0,md:!0,lg:!0,xl:!0},d=[];return"boolean"==typeof a&&a?"hidden":a&&a.toLowerCase&&"true"===a.toLowerCase()?"hidden":(a&&(d=a.split(",")),d.forEach(function(a){c[a]&&(b+="hidden-"+a+" ")}),b)}function q(a){var b=G.responsiveClasses(a),c=G.responsiveClasses(G.hideSecondary);return b+=G.selected.secondary&&0===c.length?" circle-sm":" circle-xs"}function r(){b.triggerHandler("focus")}function s(a,c){return a.disabled?void c.stopPropagation():(l(H,G,a),void b.find(".btn").focus())}function t(a){l(H,G,a)}function u(a){if(!$(a.target).hasClass("tw-select-filter")){var c=f(a);if(8===c)return a.preventDefault(),!1;var d=g(a);n(H,G,G.options,d),b.find(".active a").focus()}}function v(a){m(H,G),b.find(".btn").focus()}function w(){m(H,G)}function x(){if(!G.options||!G.options.filter)return[];var a=[];return G.options.filter(function(b){var c=G.filterString&&y(G.filterString.toLowerCase());if(!c)return!0;var d=!1;a.indexOf(b.label)>-1&&(d=!0);var e=(b.label&&b.label.toLowerCase().search(c)>=0||b.note&&b.note.toLowerCase().search(c)>=0||b.secondary&&b.secondary.toLowerCase().search(c)>=0||b.searchable&&b.searchable.toLowerCase().search(c)>=0)&&!d;return e&&a.push(b.label),e})}function y(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function z(){b.find(".tw-select-filter").focus()}function A(){G.filteredOptions=G.getFilteredOptions();var a=B(G.filteredOptions,G.selected);!a&&G.filteredOptions.length&&l(H,G,G.filteredOptions[0])}function B(b,c){var d;return b.forEach(function(b){c&&a.equals(c.value,b.value)&&(d=c)}),d}function C(a){var c=a.which||a.charCode||a.keyCode,d=b.find(".active"),e=d.find("a"),f=b.find(".tw-select-option-link");return 40===c?(F(d,e,f),a.preventDefault()):38===c?(E(d,e,f),a.preventDefault()):13===c&&(d.click(),b.find(".btn").focus(),a.preventDefault()),!0}function D(a){var b=G.filteredOptions[a.attr("index")];l(H,G,b)}function E(a,b,c){if(!a.length&&c.length)return void D($(c[c.length-1]));if(b[0]!==c[0]){var d=a.prevAll(".tw-select-option");return void D($(d[0]).find("a"))}}function F(a,b,c){if(!a.length&&c.length)return void D($(c[0]));if(b[0]!==c[c.length-1]){var d=a.nextAll(".tw-select-option");return void D($(d[0]).find("a"))}var e=$(".tw-select-transcluded");return e.length?void e.find("a").focus():void 0}var G=this,H=b.controller("ngModel");G.search="",h(H,G,G.options),k(H,G,b,G),c(G,i,H,b),d(G,b,H,G.options,o),e(j,G),G.buttonFocus=r,G.optionClick=s,G.optionFocus=t,G.optionKeypress=u,G.placeholderFocus=w,G.placeholderClick=v,G.filterFocus=z,G.filterChange=A,G.filterKeydown=C,G.responsiveClasses=p,G.circleClasses=q,G.getFilteredOptions=x,G.filterString="",G.filteredOptions=G.getFilteredOptions()}function c(a,b,c,d){b.$watch("$ctrl.ngModel",function(b,d){(b||d)&&b!==d&&c.$setDirty(),i(b,d,a)}),b.$watch("$ctrl.options",function(b,e){b!==e&&(h(c,a,a.options),k(c,a,d,a),a.filteredOptions=a.getFilteredOptions())})}function d(a,b,c,d,e){b.find(".btn, .dropdown-menu").on("focusout",function(){e(function(){0!==b.find(".btn:focus").length||b.find(".btn-group").hasClass("open")||b.trigger("blur")},150)}),b.on("blur",function(a){c.$setTouched()}),b.find(".btn").on("keypress",function(b){a.optionKeypress(b)}),b.find(".btn").on("click",function(){e(function(){b.attr("filter")?b.find(".tw-select-filter").focus():b.find(".active a").focus()})}),b.find("ul").on("keypress","a",function(b){a.optionKeypress(b)})}function e(a,b){a(function(a){(a.length>1||""!==a.text().trim())&&(b.hasTranscluded=!0)})}function f(a){return a.which||a.charCode||a.keyCode}function g(a){return String.fromCharCode(f(a))}function h(a,b,c){if(p(b.ngModel)){var d=j(b.options,b.ngModel);l(a,b,d)}}function i(a,b,c){if(a!==b){var d=j(c.options,a);d?c.selected=d:c.selected=null}}function j(b,c){var d=!1;return b.forEach(function(b){a.equals(b.value,c)&&(d=b)}),d}function k(a,b,c,d){if((b.ngRequired||d.required)&&!p(b.ngModel)&&!b.placeholder)for(var e=0;e<b.options.length;e++)if(p(b.options[e].value)){l(a,b,b.options[e]);break}}function l(a,b,c){c.disabled||(a.$setViewValue(c.value),a.$commitViewValue(),b.selected=c)}function m(a,b){a.$setViewValue(null),a.$commitViewValue(),b.selected=!1}function n(a,b,c,d){var e=o(a,b,c,b.search+d);return e?b.search+=d:(b.search=d,e=o(a,b,c,b.search)),e}function o(a,b,c,d){var e=!1,f=d.toLowerCase();return c.forEach(function(c){!e&&c.label&&(0===c.label.toLowerCase().indexOf(f)||c.note&&0===c.note.toLowerCase().indexOf(f)||c.secondary&&0===c.secondary.toLowerCase().indexOf(f)||c.searchable&&0===c.searchable.toLowerCase().indexOf(f))&&(l(a,b,c),e=!0)}),e}function p(a){return a||0===a||a===!1}const q={require:"ngModel",controller:["$element","$scope","$transclude","$timeout",b],transclude:!0,bindings:{ngModel:"=",ngRequired:"=",ngDisabled:"=",options:"=",name:"@",placeholder:"@",filter:"@",size:"@",dropdownRight:"@",dropdownUp:"@",dropdownWidth:"@",inverse:"=",hideNote:"@",hideSecondary:"@",hideIcon:"@",hideCurrency:"@",hideCircle:"@",hideLabel:"@"},template:"       <div class='btn-group btn-block tw-select' ng-class='{ dropdown: !$ctrl.dropdownUp, dropup: $ctrl.dropdownUp }' aria-hidden='false'>         <button type='button' class='btn btn-input dropdown-toggle'           ng-class='{             \"btn-input-inverse\": $ctrl.inverse,             \"btn-addon\": $ctrl.inverse,             \"btn-sm\": $ctrl.size === \"sm\",             \"btn-lg\": $ctrl.size === \"lg\"           }'           data-toggle='dropdown' aria-expanded='false'           ng-disabled='$ctrl.ngDisabled'           ng-focus='$ctrl.buttonFocus()'           tw-focusable>           <span class='tw-select-selected' ng-if='$ctrl.selected'>             <span class='circle circle-inverse pull-xs-left circle-sm'               ng-if='$ctrl.selected && $ctrl.selected.icon && $ctrl.selected.secondary'>              <i class='icon {{$ctrl.selected.icon}}'></i>             </span>             <span class='circle circle-inverse pull-xs-left'                ng-class='$ctrl.circleClasses($ctrl.hideCircle)'               ng-if='($ctrl.selected.circleText || $ctrl.selected.circleImage || $ctrl.selected.circleIcon)'>               <span ng-if='$ctrl.selected.circleText'>{{$ctrl.selected.circleText}}</span>               <img ng-if='$ctrl.selected.circleImage'                 ng-src='{{$ctrl.selected.circleImage}}' />               <i ng-if='$ctrl.selected.circleIcon' class='icon {{$ctrl.selected.circleIcon}}'></i>             </span>             <span class='text-ellipsis'>               <i class='currency-flag currency-flag-{{$ctrl.selected.currency | lowercase}}'                 ng-if='$ctrl.selected && $ctrl.selected.currency'                 ng-class='$ctrl.responsiveClasses($ctrl.hideCurrency)'               ></i>               <i class='icon {{$ctrl.selected.icon}}'                 ng-if='$ctrl.selected && $ctrl.selected.icon && !$ctrl.selected.secondary'                 ng-class='$ctrl.responsiveClasses($ctrl.hideIcon)'               ></i>               <span class='tw-select-label' ng-class='$ctrl.responsiveClasses($ctrl.hideLabel)'>                 {{$ctrl.selected.label}}               </span>               <span                 ng-if='$ctrl.selected.note'                 ng-class='$ctrl.responsiveClasses($ctrl.hideNote)'                 class='tw-select-note small m-l-1'>                 {{$ctrl.selected.note}}               </span>               <span                 ng-if='$ctrl.selected.secondary'                 ng-class='$ctrl.responsiveClasses($ctrl.hideSecondary)'                 class='tw-select-secondary small secondary text-ellipsis'>                 {{$ctrl.selected.secondary}}               </span>             </span>           </span>           <span class='form-control-placeholder' ng-if='!$ctrl.selected'>{{$ctrl.placeholder}}</span>           <span class='caret'></span>         </button>         <ul class='dropdown-menu' role='menu' ng-class='{             \"dropdown-menu-xs-right\": $ctrl.dropdownRight === \"xs\",             \"dropdown-menu-sm-right\": $ctrl.dropdownRight === \"sm\",             \"dropdown-menu-md-right\": $ctrl.dropdownRight === \"md\",             \"dropdown-menu-lg-right\": $ctrl.dropdownRight === \"lg\",             \"dropdown-menu-xl-right\": $ctrl.dropdownRight === \"xl\",             \"dropdown-menu-sm\": $ctrl.dropdownWidth === \"sm\",             \"dropdown-menu-md\": $ctrl.dropdownWidth === \"md\",             \"dropdown-menu-lg\": $ctrl.dropdownWidth === \"lg\"           }'>           <li ng-if='$ctrl.filter'>             <a href='' class='tw-select-filter-link p-a-0' tabindex='-1'               ng-focus='$ctrl.filterFocus()'>               <div class='input-group'>                 <span class='input-group-addon'><i class='icon icon-search'></i></span>                 <input type='text' class='form-control tw-select-filter' placeholder='{{$ctrl.filter}}'                   ng-model='$ctrl.filterString'                   ng-change='$ctrl.filterChange()'                   ng-keydown='$ctrl.filterKeydown($event)' />               </div>             </a>           </li>           <li ng-class='{active: !$ctrl.selected}'             ng-if='$ctrl.placeholder && !$ctrl.ngRequired && !$ctrl.filter'>             <a href='' tabindex='-1'               ng-click='$ctrl.placeholderClick()'               ng-focus='$ctrl.placeholderFocus()'               class='tw-select-placeholder' tw-focusable>               {{$ctrl.placeholder}}             </a>           </li>           <li ng-if='($ctrl.placeholder && !$ctrl.ngRequired) || $ctrl.filter' class='divider'></li>           <li             ng-repeat='option in $ctrl.filteredOptions'             ng-class='{               active: $ctrl.ngModel === option.value,               disabled: option.disabled,               \"dropdown-header\": option.header,               \"tw-select-option\": !option.header && !option.disabled             }'>             <span ng-if='option.header' class='text-ellipsis'>{{option.header}}</span>             <a href=''               ng-if='!option.header'               ng-click='$ctrl.optionClick(option, $event)'               ng-focus='$ctrl.optionFocus(option)'               ng-class='{\"tw-select-option-link\": !option.disabled}'               index='{{$index}}'               tabindex='-1'               tw-focusable >               <div class='circle circle-inverse pull-xs-left circle-sm' ng-if='option.icon && option.secondary'>                <i class='icon {{option.icon}}'></i>              </div>              <i class='icon {{option.icon}} pull-xs-left' ng-if='option.icon && !option.secondary'></i>               <i class='currency-flag currency-flag-{{option.currency | lowercase}} pull-xs-left' ng-if='option.currency'>               </i><span class='circle circle-inverse pull-xs-left' ng-class='{\"circle-sm\": option.secondary, \"circle-xs\": !option.secondary}'                 ng-if='option.circleText || option.circleImage || option.circleIcon'>                 <span class='tw-select-circle-text' ng-if='option.circleText'>{{option.circleText}}</span>                 <img ng-if='option.circleImage' ng-src='{{option.circleImage}}' />                 <i ng-if='option.circleIcon' class='icon {{option.circleIcon}}'></i>               </span>{{option.label}}<span               ng-if='option.note' class='tw-select-note small m-l-1'>{{option.note}}</span><span               ng-if='option.secondary' class='tw-select-secondary small text-ellipsis'>{{option.secondary}}</span>             </a>           </li>           <li ng-if='$ctrl.hasTranscluded' class='divider'></li>           <li ng-transclude ng-if='$ctrl.hasTranscluded' class='tw-select-transcluded'></li>         </ul>       </div>       <input type='hidden' class='tw-select-hidden'         name='{{$ctrl.name}}'         value='{{$ctrl.ngModel}}'         ng-disabled='$ctrl.ngDisabled' />"};a.module("tw.form-components").component("twSelect",q)}(window.angular),function(a){function b(){function a(a){b.active=a,b.onChange&&b.onChange(a)}var b=this;b.switchTab=a,!b.active&&b.tabs.length&&(b.active=b.tabs[0].type)}const c={bindings:{tabs:"<",active:"=",onChange:"&"},controller:b,template:"     <ul ng-if='$ctrl.tabs.length > 0'       class='nav nav-tabs m-b-3'>       <li ng-repeat='tab in $ctrl.tabs track by $index'         ng-class='{\"active\": $ctrl.active === tab.type}'>         <a href='' ng-click='$ctrl.switchTab(tab.type)'>           {{tab.label}}         </a>       </li>     </ul>"};a.module("tw.form-components").component("twTabs",c)}(window.angular),function(a){"use strict";function b(){return{bindToController:!0,controller:[c],controllerAs:"$ctrl",replace:!1,transclude:!0,restrict:"E",scope:{title:"@",cta:"@",onUpload:"=",accept:"="},link:d,template:'<div class="text-center tw-upload-droppable-box" ng-class="{\'active\': $ctrl.isActive}"> \t\t\t\t<i class="icon icon-upload tw-upload-droppable-icon"></i>\t\t\t\t<h4 class="m-t-2" ng-if="$ctrl.title">{{$ctrl.title}}</h4>\t\t\t\t<div class="row">\t\t\t\t\t<div class="col-xs-12 col-sm-6 col-sm-offset-3 m-t-1">\t\t\t\t\t<ng-transclude></ng-transclude>\t\t\t\t\t<label class="link" for="file-upload">{{$ctrl.cta}}</label>\t\t\t\t\t<input tw-file-select id="file-upload" type="file" accept={{$ctrl.accept}} class="hidden" on-user-input="$ctrl.onManualUpload"/>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>'}}function c(){var b=this;b.dragCounter=0,b.isActive=!1,b.onManualUpload=function(c){b.onUpload&&"function"==typeof b.onUpload&&b.onUpload(a.element(document.querySelector("#file-upload"))[0].files[0],c)},b.onDrop=function(a,c){b.onUpload&&"function"==typeof b.onUpload&&b.onUpload(a,c),b.isActive=!1,b.dropCounter=0},b.onDragChange=function(a){a?(b.dragCounter++,1===b.dragCounter&&(b.isActive=!0)):(b.dragCounter--,0===b.dragCounter&&(b.isActive=!1))}}function d(a,b,c){b[0].addEventListener("dragenter",function(b){b.preventDefault(),a.$ctrl.onDragChange(!0),a.$apply()},!1),b[0].addEventListener("dragover",function(a){a.preventDefault()},!1),b[0].addEventListener("dragleave",function(b){b.preventDefault(),a.$ctrl.onDragChange(!1),a.$apply()},!1),b[0].addEventListener("drop",function(b){b.preventDefault(),a.$ctrl.onDrop(b.dataTransfer.files[0]),a.$apply()},!1)}function e(){return{bindToController:!0,controller:function(){},controllerAs:"$ctrl",replace:!1,restrict:"A",scope:{onUserInput:"="},link:f}}function f(a,b){b.on("change",function(b){a.$ctrl.onUserInput&&"function"==typeof a.$ctrl.onUserInput&&a.$ctrl.onUserInput(b)})}a.module("tw.form-components").directive("twFileSelect",e).controller("TwUploadDroppableController",c).directive("twUploadDroppable",b)}(window.angular),function(a){function b(b,e,f,g,h,i,j){function k(){v.isDroppable=!1,v.isProcessing=!1,v.isSuccess=!1,v.isError=!1,v.dragCounter=0,v.isDone=!1,v.isTooLarge=!1,v.isWrongType=!1,e[0].querySelector("input").value=null,l(null)}function l(a){if("undefined"!=typeof j.ngModel){var b=e.controller("ngModel");if(!b.$setViewValue)return;b.$setViewValue(a)}}function m(b){var c=new FormData;c.append(v.name,b);var d=n(a.copy(v.httpOptions));return f.post(d.url,c,d)}function n(b){if(!b.url)throw new Error("You must supply a URL to post image data asynchronously");return b.headers||(b.headers={}),b.method&&delete b.method,b.headers["Content-Type"]=void 0,b.transformRequest=a.identity,b}function o(a){var b=new FileReader,c=i.defer();return b.onload=function(a){c.resolve(a.target.result)},b.onerror=function(a){c.reject(a)},b.readAsDataURL(a),c.promise}function p(a){l(a),v.isImage=w,w&&(v.image=a)}function q(a){return v.processingState=1,b(function(){v.isProcessing=!1,v.isSuccess=!0},3e3),b(function(){c(v.onSuccess,a),v.isDone=!0},3800),a}function r(a){return v.processingState=-1,b(function(){v.isProcessing=!1,v.isError=!0},3e3),b(function(){c(v.onFailure,a),v.isDone=!0},4100),a}function s(b,c){return!(a.isNumber(c)&&b.size>c)}function t(a,b){return!0}function u(a){a[0].addEventListener("dragover",function(a){a.preventDefault(),v.onDragChange(!0),g.$apply()},!1),a[0].addEventListener("dragover",function(a){a.preventDefault()},!1),a[0].addEventListener("dragleave",function(a){a.preventDefault(),v.onDragChange(!1),g.$apply()},!1),a[0].addEventListener("drop",function(a){a.preventDefault(),v.fileDropped(a.dataTransfer.files[0],a),g.$apply()},!1)}var v=this,w=!1;if(v.dragCounter=0,v.isProcessing=!1,v.processingState=null,d(h,v),g.$watch("$ctrl.icon",function(){v.viewIcon=v.icon?v.icon:"upload"}),(v.processingText||v.successText||v.failureText)&&(!v.processingText||!v.successText||!v.failureText))throw new Error("Supply all of processing, success, and failure text, or supply none.");u(e),v.onManualUpload=function(b){var c=a.element(e[0].querySelector(".tw-droppable-input"))[0].files[0];v.fileDropped(c,b)},v.fileDropped=function(a,b){return k(),w=a.type&&a.type.indexOf("image")>-1,v.fileName=a.name,v.isProcessing=!0,v.processingState=null,c(v.onStart,a),s(a,v.maxSize)?t(a,v.accept)?void(v.httpOptions?i.all([m(a),o(a)]).then(function(a){return p(a[1]),a[0]}).then(q)["catch"](r):o(a).then(p).then(q)["catch"](r)):(v.isWrongType=!0,void r({status:415,statusText:"Unsupported Media Type"})):(v.isTooLarge=!0,void r({status:413,statusText:"Request Entity Too Large"}))},v.onDragChange=function(a){a?(v.dragCounter++,v.dragCounter>=1&&(v.isDroppable=!0)):(v.dragCounter--,v.dragCounter<=0&&(v.isDroppable=!1))},v.clear=function(){k(),c(v.onCancel)}}function c(a,b){a&&"function"==typeof a&&a(b)}function d(a,b){a(function(a){(a.length>1||""!==a.text().trim())&&(b.hasTranscluded=!0)})}function e(){return{bindToController:!0,controller:["$element",function(a){var b=this;a.on("change",function(a){b.onUserInput&&"function"==typeof b.onUserInput&&b.onUserInput(a)})}],controllerAs:"$ctrl",replace:!1,restrict:"A",scope:{onUserInput:"="}}}const f={controller:["$timeout","$element","$http","$scope","$transclude","$q","$attrs",b],transclude:!0,bindings:{ngModel:"=",name:"@",icon:"@",label:"@",placeholder:"@",description:"@",instructions:"@",buttonText:"@",cancelText:"@",processingText:"@",completeText:"@",errorMessage:"@",tooLargeMessage:"@",size:"@",accept:"@",httpOptions:"<",onStart:"=",onSuccess:"=",onFailure:"=",onCancel:"=",maxSize:"<"},template:'       <div class="droppable" ng-class="{         \'droppable-sm\': $ctrl.size === \'sm\',         \'droppable-md\': $ctrl.size === \'md\' || !$ctrl.size,         \'droppable-lg\': $ctrl.size === \'lg\',         \'droppable-dropping\': $ctrl.isDroppable,         \'droppable-processing\': !$ctrl.isDone && ($ctrl.isProcessing || $ctrl.isSuccess || $ctrl.isError),         \'droppable-complete\': $ctrl.isDone       }">       <div class="droppable-default-card" aria-hidden="{{$ctrl.isDone}}">         <div class="droppable-card-content">           <div class="m-b-2">             <i class="icon icon-{{$ctrl.viewIcon}} icon-xxl"></i>           </div>           <h4 class="m-b-1" ng-if="$ctrl.label || $ctrl.description">             {{$ctrl.label || $ctrl.description}}           </h4>           <p class="m-b-2">{{$ctrl.placeholder || $ctrl.instructions}}</p>           <label class="btn btn-primary">{{$ctrl.buttonText}}             <input tw-file-select type="file"               accept="{{$ctrl.accept}}"" class="tw-droppable-input hidden" name="file-upload"               on-user-input="$ctrl.onManualUpload" ng-model="$ctrl.inputFile"/>           </label>         </div>       </div>       <div class="droppable-processing-card droppable-card"         aria-hidden="{{$ctrl.isDone}}">         <div class="droppable-card-content">           <h4 class="m-b-2">             <span ng-if="$ctrl.isProcessing && $ctrl.processingText">{{$ctrl.processingText}}</span>             <span ng-if="$ctrl.isSuccess && $ctrl.successText">{{$ctrl.successText}}</span>             <span ng-if="$ctrl.isError && $ctrl.failureText">{{$ctrl.failureText}}</span>           </h4>           <tw-process size="sm" state="$ctrl.processingState"             ng-if="!$ctrl.isDone && ($ctrl.isProcessing || $ctrl.isSuccess || $ctrl.isError)"></tw-process>         </div>       </div>       <div class="droppable-complete-card droppable-card"         aria-hidden="{{!$ctrl.isDone}}">         <div class="droppable-card-content">            <div ng-if="!$ctrl.hasTranscluded && !$ctrl.isError">             <h4 class="m-b-2" ng-if="$ctrl.completeText">               {{$ctrl.completeText}}             </h4>             <img ng-src="{{$ctrl.image}}" ng-if="$ctrl.isImage" class="thumbnail m-b-3" />             <i class="icon icon-pdf icon-xxl" ng-if="!$ctrl.isImage"></i>             <p class="text-ellipsis m-b-2">{{$ctrl.fileName}}</p>           </div>           <div ng-if="!$ctrl.hasTranscluded && $ctrl.isError">             <h4 class="m-b-2" ng-if="$ctrl.isTooLarge">{{$ctrl.tooLargeMessage}}</h4>             <h4 class="m-b-2" ng-if="$ctrl.isWrongType">{{$ctrl.wrongTypeText}}</h4>             <h4 class="m-b-2" ng-if="!$ctrl.isTooLarge && $ctrl.errorMessage">{{$ctrl.errorMessage}}</h4>             <i class="icon icon-alert icon-xxl text-danger m-b-1"></i>           </div>           <div ng-if="$ctrl.hasTranscluded" ng-transclude></div>           <p ng-if="$ctrl.cancelText" class="m-t-2 m-b-0">             <a href="" ng-click="$ctrl.clear()">{{$ctrl.cancelText}}</a>           </p>         </div>       </div>       <div class="droppable-dropping-card droppable-card">         <div class="droppable-card-content">           <h4 class="m-b-2">Drop file to start upload</h4>           <div class="circle circle-sm">             <i class="icon icon-add"></i>           </div>           <p class="m-t-2 m-b-0"></p>         </div>       </div>     </div>'};a.module("tw.form-components").directive("twFileInput",e).controller("twUploadController",b).component("twUpload",f)}(window.angular),function(a){"use strict";function b(a,b){var c=this;c.hasForm=a.isSlotFilled("cardForm"),c.toggle=b.toggle,c.addCard=b.addCard,c.getExpandedIndex=b.getExpandedIndex,c.updateExpandedIndex=b.updateExpandedIndex,c.getCard=b.getCard,c.getLength=b.getLength}function c(){return{require:{cardContainerController:"^twCards"},controllerAs:"$ctrl",bindToController:!0,replace:!0,scope:{state:"@",index:"<",open:"<?",disabled:"=?",inactive:"<"},transclude:{collapsedCard:"collapsed",expandedCard:"expanded",cardForm:"?cardForm",cardIcon:"cardIcon"},controller:["$transclude","TwCardsService",b],template:h,link:function(a,b,c,d){var e=a.$ctrl;e.addCard(e),e.index=e.getLength()-1,e.inactive=d.cardContainerController.inactive,e.open===!0&&e.getExpandedIndex()===-1?e.updateExpandedIndex(e.index):e.open=!1,null==e.disabled&&(e.disabled=!1)}}}function d(){return{scope:{inactive:"=?"},controllerAs:"$ctrl",controller:function(){},bindToController:!0,transclude:!0,template:'         <ul ng-transclude           class="list-group panel-list-group list-group-slide-out"           ng-class="{\'list-group-inactive\': $ctrl.inactive}">         </ul>'}}a.module("tw.layout-components").directive("twCards",d).directive("twCard",c);var e='     <div class="p-a-panel" role="button" ng-click="$ctrl.toggle($ctrl.index)">       <div class="media">         <div class="media-left">           <div class="circle circle-sm circle-responsive"             ng-class="{ \'circle-inverse\': !$ctrl.inactive }">             <div ng-transclude="cardIcon"></div>           </div>         </div>         <div class="media-body" ng-transclude="collapsedCard"></div>       </div>     </div>',f='     <div class="collapse"       ng-attr-aria-expanded="{{ $ctrl.open }}"       ng-class="{\'in\': $ctrl.open }"       ng-if="$ctrl.open" >       <div class="p-l-panel p-r-panel p-b-panel">         <div class="media">           <div class="media-left">               <div class="circle circle-sm circle-inverse circle-responsive invisible"></div>           </div>           <div class="media-body">             <hr class="m-t-0 hidden-xs hidden-sm" />             <a  href="" ng-click="$ctrl.toggle($ctrl.index)"                 class="visible-xs-inline-block visible-sm-inline-block text-no-decoration m-t-1"                 style="margin-left: -8px;">                 <i class="icon icon-left-arrow icon-xxl"></i>             </a>             <div ng-transclude="expandedCard"></div>           </div>         </div>       </div>     </div>',g='<div class="well p-l-panel p-r-panel" ng-if="$ctrl.hasForm">       <div class="media">         <div class="media-left">           <div class="circle circle-sm circle-responsive invisible"></div>         </div>         <div class="media-body" ng-transclude="cardForm"></div>       </div>     </div>',h="<li class=\"list-group-item p-a-0 list-group-item-{{$ctrl.state}}\"       ng-class=\"{         'active': $ctrl.open,         'disabled': $ctrl.disabled       }\">"+e+f+g+"</li>";
}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.affix)return void console.log("twAffix requires bootstrap.js");var c=b[0],d={};(c.getAttribute("data-offset-top")||c.getAttribute("data-offset-bottom"))&&(d.offset={}),c.getAttribute("data-offset-top")&&Number(c.getAttribute("data-offset-top"))&&(d.offset.top=Number(c.getAttribute("data-offset-top"))),c.getAttribute("data-offset-bottom")&&Number(c.getAttribute("data-offset-bottom"))&&(d.offset.bottom=Number(c.getAttribute("data-offset-bottom"))),b.affix(d)}}}a.module("tw.form-styling").directive("twAffix",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"C",link:d}}function c(){return{restrict:"A",link:d}}function d(a,b){var c=$(b).closest(".form-group");$(b).on("focus",function(){c.addClass("focus")}).on("blur",function(){c.removeClass("focus")})}a.module("tw.form-styling").directive("formControl",b),a.module("tw.form-styling").directive("twFocusable",c)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.popover)return void console.log("twPopOver requires tooltip from bootstrap.js");var c={},d=b[0];d.getAttribute("data-trigger")?"hover"===d.getAttribute("data-trigger")&&(c.trigger="hover focus"):c.trigger="focus",d.getAttribute("data-placement")||(c.placement="top"),d.getAttribute("data-content-html")&&(c.html=!0),b.popover(c),d.setAttribute("tabindex","0"),d.setAttribute("role","button"),d.setAttribute("data-toggle","popover")}}}a.module("tw.form-styling").directive("twPopOver",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"A",require:"ngModel",bindToController:!0,controllerAs:"$ctrl",scope:{ngModel:"<",twTextFormat:"@"},controller:["$element","$timeout","$scope","TwTextFormatService","TwUndoStackFactory",c]}}function c(a,b,c,d,e){function f(){A=e["new"](),B=0,y=a.controller("ngModel"),z=a[0],c.$watch("$ctrl.twTextFormat",h),c.$watch("$ctrl.ngModel",g),h(D.twTextFormat),y.$formatters.push(function(a){return d.formatUsingPattern(a,C)}),y.$parsers.push(function(a){return d.unformatUsingPattern(a,C)}),z.addEventListener("change",k),z.addEventListener("keydown",m),z.addEventListener("paste",l),z.addEventListener("cut",w),z.addEventListener("copy",x),i(y),A.reset(z.value)}function g(a,b){if(a!==b){var c=z.selectionStart,d=z.selectionEnd;j(z,a),z.setSelectionRange(c,d)}}function h(a,b){if(a===b)return void(C=a);C=a&&a.indexOf("||")>0?a.substring(0,a.indexOf("||")):a;var c=z.value;b&&(c=d.unformatUsingPattern(c,b)),a&&(c=d.formatUsingPattern(c,C)),A.reset(c),z.value=c}function i(a){b(function(){var b=a.$validators.minlength,c=a.$validators.maxlength;b&&(a.$validators.minlength=function(a,c){return b(a,d.unformatUsingPattern(c,C))}),c&&(a.$validators.maxlength=function(a,b){return c(a,d.unformatUsingPattern(b,C))})})}function j(a,b){b||(b=a.value);var c=d.reformatUsingPattern(b,C);c!==b&&(a.value=c)}function k(){j(z),A.add(z.value)}function l(a){var c=z.selectionStart,e=(z.value.length,a.clipboardData||window.clipboardData),f=e.getData("Text"),g=d.countSeparatorsInAppendedValue(C,c,f);b(function(){var a=c+f.length+g;j(z),A.add(z.value),z.setSelectionRange(a,a)})}function m(a){B++;var c=B,d=a.keyCode||a.which,e=a.target.selectionStart,f=a.target.selectionEnd;return F.indexOf(d)>=0||a.metaKey||a.ctrlKey?(d===E.z&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),z.value=A.undo()),void(d===E.y&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),a.stopPropagation(),z.value=A.redo()))):void b(function(){n(d,c,z,C,e,f)})}function n(a,b,c,d,e,f){var g;a===E.backspace?(g=o(c,d,e,f),y.$setViewValue(g)):a===E["delete"]?(g=q(c,d,e,f),y.$setViewValue(g)):B===b&&s(c,d,e,f)}function o(a,b,c,d){a.value=p(a,b,c,d),A.add(a.value);var e=t(b,a,c,d);return a.setSelectionRange(e,e),a.value}function p(a,b,c,e){var f,g,h=a.value,i=d.countSeparatorsBeforeCursor(b,c);if(i){var j=i>1?1:0;c!==e?(f=c-i+1,g=c-j):(f=c-i,g=c-j),h=v(a.value,f,g)}return d.reformatUsingPattern(h,b)}function q(a,b,c,d){return a.value=r(a,b,c,d),A.add(a.value),a.setSelectionRange(c,c),a.value}function r(a,b,c,e){var f,g,h=a.value,i=d.countSeparatorsAfterCursor(b,c);if(i){var j=i>1?0:1;c!==e?(f=c+j,g=c+i+j):(f=c+i,g=c+i+1),h=v(a.value,f,g)}return d.reformatUsingPattern(h,b)}function s(a,b,c,d){j(a),A.add(a.value);var e=u(b,a,c,d);a.setSelectionRange(e,e)}function t(a,b,c,e){var f=d.countSeparatorsBeforeCursor(a,c),g=c!==e,h=c-f-(g?0:1);return h+d.countSeparatorsAfterCursor(a,h)}function u(a,b,c,e){var f;return c!==e?f=d.countSeparatorsAfterCursor(a,c):(f=d.countSeparatorsAfterCursor(a,c),0===f&&(f=d.countSeparatorsAfterCursor(a,c+1))),c+1+f}function v(a,b,c){return a.substring(0,b-1)+a.substring(c-1,a.length)}function w(a){var c=z.selectionStart;b(function(){j(z),A.add(z.value);var a=c+d.countSeparatorsAfterCursor(C,c);z.setSelectionRange(a,a)})}function x(a){var c=z.selectionStart,d=z.selectionEnd;b(function(){z.setSelectionRange(c,d)})}var y,z,A,B,C="",D=this,E={cmd:224,cmdLeft:91,cmdRight:93,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,end:35,home:36,left:37,up:38,right:39,down:40,"delete":46,y:89,z:90},F=[E.cmd,E.cmdLeft,E.cmdRight,E.enter,E.shift,E.ctrl,E.alt,E.left,E.up,E.right,E.down];f()}a.module("tw.form-styling").directive("twTextFormat",b)}(window.angular),function(a){function b(){return{restrict:"A",link:function(a,b){if(!b.tooltip)return void console.log("twToolTip requires bootstrap.js");var c=b[0],d={};c.getAttribute("data-placement")||(d.placement="top"),b.tooltip(d),c.setAttribute("tabindex","0"),c.setAttribute("data-toggle","tooltip")}}}a.module("tw.form-styling").directive("twToolTip",b)}(window.angular),function(){"use strict";function a(a,b,c){function d(){console.log("this.twDynamicAsyncValidator"),console.log(ctrl.twDynamicAsyncValidator)}function e(a,b,c,d){c["tw-dynamic-async-validator"]}return{link:e,restrict:"A",controller:d,contollerAs:"ctrl",bindToController:{twDynamicAsyncValidator:"="}}}angular.module("tw.form-validation").directive("twDynamicAsyncValidator",a),a.$inject=["$log","$q","$http"]}(),function(a){"use strict";function b(){return{restrict:"E",link:function(a,b){$(b).on("submit",function(){var a=$(b).find("[tw-validation].ng-invalid");return a.closest(".form-group").addClass("has-error"),a.closest(".checkbox, .radio").addClass("has-error"),!0})}}}a.module("tw.form-validation").directive("form",b)}(window.angular),function(a){"use strict";function b(){return{restrict:"AC",require:"ngModel",link:c}}function c(a,b,c,e){var f=b.closest(".form-group");b.on("invalid",function(a){a.preventDefault()}),e.$validators.validation=function(){return a.$evalAsync(function(){d(e,f,b)}),!0},b.on("blur",function(){a.$evalAsync(function(){d(e,f,b)})})}function d(a,b,c){return a.$valid?(b.removeClass("has-error"),void c.removeAttr("aria-invalid")):void(a.$touched&&a.$dirty&&(b.addClass("has-error"),c.attr("aria-invalid",!0)))}a.module("tw.form-validation").directive("twValidation",b)}(window.angular),function(a){"use strict";function b(){function a(a){if(!a.fields)return[];var b=a.fields.map(function(a){return a.group.map(function(a){return a.key})});return Array.prototype.concat.apply([],b)}function b(a){a.label||(a.label=c(a.type))}function c(a){if(a&&a.length>0){var b=a.toLowerCase().split("_").join(" ");return b.charAt(0).toUpperCase()+b.slice(1)}return""}this.cleanRequirementsModel=function(b,c,d){var e=a(c),f=a(d),g=e.filter(function(a){return f.indexOf(a)<0});g.forEach(function(a){delete b[a]})},this.cleanModel=function(a,b,c,d,e){var f=this.findRequirementByType(c,b),g=this.findRequirementByType(e,d);this.cleanRequirementsModel(a,f,g)},this.findRequirementByType=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(d.type===a)return d}return!1},this.prepRequirements=function(a){a.forEach(function(a){b(a)})}}a.module("tw.form-components").service("TwRequirementsService",b)}(window.angular),function(a){"use strict";function b(){var a=-1,b=[];this.toggle=function(c){a!==-1&&a!==c&&(b[a].open=!1,a=-1),b[c].open?b[c].open=!1:(a=c,b[c].open=!0)},this.addCard=function(a){b.push(a)},this.getExpandedIndex=function(){return a},this.updateExpandedIndex=function(b){a=b},this.getCard=function(a){return b[a]},this.getLength=function(){return b.length}}a.module("tw.layout-components").service("TwCardsService",b)}(window.angular),function(a){"use strict";function b(){var a={BIF:0,BYR:0,CLP:0,DJF:0,GNF:0,JPY:0,KMF:0,KRW:0,MGA:0,PYG:0,RWF:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,HUF:0,BHD:3,JOD:3,KWD:3,OMR:3,TND:3};this.getDecimals=function(b){return b.toUpperCase&&"undefined"!=typeof a[b.toUpperCase()]?a[b.toUpperCase()]:2}}a.module("tw.form-components").service("TwCurrencyData",b)}(window.angular),function(a){"use strict";function b(){function a(a,b,c){var d=a.toLocaleDateString(b,c);return e(b)&&(d=d.replace(/[0-9]|\s|,/g,"")),d[0].toUpperCase()+d.substring(1)}function b(a){var b=["narrow","short","long"];return!a||b.indexOf(a)<0?"long":a}function c(a){return d(a)?a:"en-GB"}function d(a){try{var b=window.Intl.DateTimeFormat.supportedLocalesOf([a]);return b.length>0}catch(c){return!1}}function e(a){if(!a)return!0;var b=f(a);return"ja"!==b}function f(a){return a?a.substring(0,2):null}this.getLocaleDate=function(a){return a||(a=new Date),a.getDate()},this.getLocaleMonth=function(a){return a||(a=new Date),a.getMonth()},this.getLocaleFullYear=function(a){return a||(a=new Date),a.getFullYear()},this.getLocaleToday=function(){var a=new Date;return this.getUTCDateFromParts(this.getLocaleFullYear(a),this.getLocaleMonth(a),this.getLocaleDate(a))},this.getUTCDate=function(a){return a||(a=new Date),a.getUTCDate()},this.getUTCMonth=function(a){return a||(a=new Date),a.getUTCMonth()},this.getUTCFullYear=function(a){return a||(a=new Date),a.getUTCFullYear()},this.getUTCToday=function(){var a=new Date;return this.getUTCDateFromParts(this.getUTCFullYear(a),this.getUTCMonth(a),this.getUTCDate(a))},this.getLastDayOfMonth=function(a,b){var c=this.getUTCDateFromParts(a,b+1,0);return c.getUTCDate()},this.getUTCDateFromParts=function(a,b,c){var d=new Date;return d.setUTCFullYear(a,b,c),d.setUTCHours(0),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),d},this.getDayNamesForLocale=function(d,e){var g,i=[],j=f(d);if(h[j])return h[j];e=b(e),d=c(d);for(var k=1;k<=7;k++)g=this.getUTCDateFromParts(2001,0,k),i.push(a(g,d,{weekday:e}));return i},this.getMonthNamesForLocale=function(d,e){var h,i=[],j=f(d);if(g[j])return g[j];e=b(e),d=c(d);for(var k=0;k<12;k++)h=this.getUTCDateFromParts(2e3,k,15),i.push(a(h,d,{month:e}));return i},this.getWeekday=function(a,b,c){var d=this.getUTCDateFromParts(a,b,c);return d.getUTCDay()},this.isMonthBeforeDay=function(a){return a.indexOf("US",a.length-2)!==-1||"ja"===f(a)},this.addYears=function(a,b){return this.addToDate(a,b,0,0)},this.addMonths=function(a,b){return this.addToDate(a,0,b,0)},this.addDays=function(a,b){return this.addToDate(a,0,0,b)},this.addToDate=function(a,b,c,d){return this.getUTCDateFromParts(a.getUTCFullYear()+b,a.getUTCMonth()+c,a.getUTCDate()+d)},this.getYearAndMonthPresentation=function(a,b,c){var d=f(c);return"ja"===d?a+"年"+b:b+" "+a},this.getYearMonthDatePresentation=function(a,b,c,d){var e=f(d);return"ja"===e?a+"年"+b+c+"日":d.indexOf("US",d.length-2)!==-1?b+" "+c+", "+a:c+" "+b+" "+a};var g={en:["January","February","March","April","May","June","July","August","September","October","November","December"],ja:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},h={en:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ja:["月","火","水","木","金","土","日"]}}a.module("tw.form-components").service("TwDateService",b)}(window.angular),function(a){"use strict";function b(){function a(a,b){return a[b]&&"*"!==a[b]}this.formatUsingPattern=function(b,c){if(b||(b=""),"string"!=typeof c)return b;for(var d="",e=0,f=b.length,g=0;f;)a(c,g)?(d+=c[g],e++):(d+=b[g-e],f--),g++;var h=this.countSeparatorsAfterCursor(c,g);return h&&(d+=c.substr(g,h)),d},this.unformatUsingPattern=function(b,c){if(!b)return"";if("string"!=typeof c)return b;for(var d=0;d<c.length;d++)if(a(c,d))for(;b.indexOf(c[d])>=0;)b=b.replace(c[d],"");return b},this.reformatUsingPattern=function(a,b,c){return"undefined"==typeof c&&(c=b),this.formatUsingPattern(this.unformatUsingPattern(a,c),b)},this.countSeparatorsBeforeCursor=function(b,c){for(var d=0;a(b,c-d-1);)d++;return d},this.countSeparatorsAfterCursor=function(b,c){for(var d=0;a(b,c+d);)d++;return d},this.countSeparatorsInAppendedValue=function(b,c,d){for(var e=0,f=0,g=d.length;g;)a(b,c+f)?e++:g--,f++;return e},this.countSeparatorsInPattern=function(b){for(var c=0,d=0;d<b.length;d++)a(b,d)&&c++;return c}}a.module("tw.form-styling").service("TwTextFormatService",b)}(window.angular),function(a){"use strict";function b(){this["new"]=function(){return new c}}function c(){var a=0,b=[];this.reset=function(c){b=[c],a=0},this.add=function(c){b.length-1>a&&(b=b.slice(0,a+1)),b[a]!==c&&(b.push(c),a++)},this.undo=function(){return a>=0&&"undefined"!=typeof b[a-1]&&a--,b[a]},this.redo=function(){return a<b.length&&"undefined"!=typeof b[a+1]&&a++,b[a]}}a.module("tw.form-styling").service("TwUndoStackFactory",b)}(window.angular),function(a){"use strict";a.module("tw.form-styling").filter("twTextFormat",["TwTextFormatService",function(a){return function(b,c){return b=b||"",c?a.formatUsingPattern(b,c):b}}])}(window.angular);