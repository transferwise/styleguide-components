angular.module("tw.layout-components", []);
!function(a){"use strict";function b(){return{restrict:"E",scope:{label:"@"},require:"^twExpandableCards",transclude:!0,template:" \t\t\t<div \tng-transclude class=\"list-group-item p-a-0\" \t\t\t\t\tng-class=\"{ \t\t\t\t\t\t'list-group-item-danger': transfer.status === 'PAUSED', \t\t\t\t\t\t'list-group-item-warning': transfer.status === 'AWAITING_FUNDS', \t\t\t\t\t\t'list-group-item-info': transfer.status === 'PROCESSING' || transfer.status === 'FUNDED', \t\t\t\t\t\t'list-group-item-success': transfer.status === 'PAID_OUT', \t\t\t\t\t\t'active': $ctrl.active === transfer.id, \t\t\t\t\t\t'disabled': transfer.status === 'CANCELLED' \t\t\t\t\t}\"> \t\t\t</div>",link:function(a,b,c,d){a.card={label:a.label},d.addCard(a.card)}}}function c(){return{restrict:"E",controllerAs:"$ctrl",replace:!1,scope:{transfers:"=",currencies:"=",inactive:"="},transclude:!0,template:'<div ng-transclude class="list-group panel-list-group list-group-slide-out" \t\t\t\tng-class="{\'list-group-inactive\': $ctrl.inactive}"></div>',bindToController:!0,controller:["$scope","$window","$location","$rootScope","$timeout",function(a,b,c,d,e){this.cards=[],this.addCard=function(a){this.cards.push(a)};var f=this;f.activate=function(a,b){f.updateHash(a)},f.close=function(a){f.updateHash(a)},f.updateHash=function(a){f.active===a?c.hash(""):c.hash(a)},f.updateOpenItem=function(a){a=!isNaN(parseInt(a))&&parseInt(a),f.active===a?f.active=!1:f.active=a},d.$on("$locationChangeSuccess",function(a){f.updateOpenItem(c.hash())}),f.canRepeat=function(a){return"CARD"!==a.type&&"REQUEST"!==a.type&&("CANCELLED"===a.status||"COMPLETED"===a.status)}}]}}function d(b){this.list=function(c){var d=this.transfers;return a.forEach(c,function(b,c){d=d.filter(function(d){return a.isArray(b)?d[c]&&b.indexOf(d[c])>=0:d[c]===b})}),b.when(d)},this.transfers=[{id:1,type:"REQUEST",source:"GBP",target:"USD",fixed:"RATE",sourceAmount:10,targetAmount:12.34,sourceAccount:{name:"Mike Marter",shortString:"Account ending 1234"},targetAccount:{name:"Steve Pole",shortString:"Account ending 1234"},status:"PAUSED",reason:"We received your money. There was a problem with your documents.",reference:"Ref123",fee:.5,rate:1.2345,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z"},{id:2,type:"TRANSFER",source:"GBP",target:"USD",fixed:"TARGET",sourceAmount:10,targetAmount:12.34,sourceAccount:{name:"Steve Pole",type:"CARD",shortString:"Debit card ending 4321"},targetAccount:{name:"Steve Pole",type:"WALLET",shortString:"USD balance"},status:"PROCESSING",reason:"We received your money. We're processing your transfer.",reference:"Ref123",fee:.5,rate:1.2345,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z"},{id:3,type:"TRANSFER",source:"GBP",target:"USD",fixed:"SOURCE",sourceAmount:10,targetAmount:12.34,sourceAccount:{name:"Steve Pole",type:"CARD",shortString:"Debit card ending 4321"},targetAccount:{name:"Steve Pole",type:"WALLET",shortString:"USD balance"},status:"CONVERTING",reason:"Converting",reference:"Ref123",fee:5.5,rate:1.2345,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z"},{id:4,type:"TRANSFER",source:"GBP",target:"USD",fixed:"SOURCE",sourceAmount:10,targetAmount:12.34,sourceAccount:{name:"Steve Pole",type:"ACCOUNT",shortString:"Account ending 9876"},targetAccount:{name:"Mike Marter",shortString:"Account ending 1234"},status:"AWAITING_FUNDS",reason:"Waiting for you to pay in.",reference:"Ref123",fee:.5,rate:1.2345,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z",batch:1},{id:5,type:"TRANSFER",source:"GBP",target:"USD",fixed:"SOURCE",sourceAmount:1e7,targetAmount:12345e3,sourceAccount:{name:"Steve Pole",type:"ACCOUNT",shortString:"Account ending 9876"},targetAccount:{name:"Mike Marter",shortString:"Account ending 1234"},status:"FUNDED",reason:"We're waiting for your money to arrive in our account.",reference:"Ref123",fee:50,rate:1.2345,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z",batch:1},{id:6,type:"TRANSFER",source:"GBP",target:"USD",fixed:"SOURCE",sourceAmount:100,targetAmount:123.45,sourceAccount:{name:"Steve Pole",type:"CARD",shortString:"Debite card ending 4321"},targetAccount:{name:"Steve Pole",type:"ACCOUNT",shortString:"Account ending 1234"},status:"PAID_OUT",reason:"We've sent out your money, it may take some time to arrive in the account.",reference:"Ref123",fee:.5,rate:1.2345,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z",completed:"2016-07-01T12:34:56Z"},{id:7,type:"TRANSFER",source:"GBP",target:"GBP",fixed:"SOURCE",sourceAmount:2.5,targetAmount:2.5,sourceAccount:{name:"Steve Pole",type:"CARD",shortString:"Debit card ending 4321"},targetAccount:{name:"Peet's coffee",type:"MERCHANT",shortString:"Merchant account"},status:"COMPLETED",reference:"Ref123",fee:0,rate:1,created:"2016-06-30T12:34:56Z",updated:"2016-07-01T12:34:56Z",completed:"2016-07-01T12:34:56Z"},{id:8,type:"REQUEST",source:"GBP",target:"GBP",fixed:"SOURCE",sourceAmount:2.5,targetAmount:2.5,sourceAccount:{name:"Kish Patel",type:"ACCOUNT",shortString:"Account ending 1234"},targetAccount:{name:"Steve Pole",type:"WALLET",shortString:"GBP balance"},status:"COMPLETED",reference:"Ref123",fee:0,rate:1,created:"2016-06-12T12:34:56Z",updated:"2016-06-12T12:34:56Z",completed:"2016-06-12T12:34:56Z"},{id:9,type:"TRANSFER",source:"GBP",target:"EUR",fixed:"SOURCE",sourceAmount:1e7,targetAmount:11987e3,sourceAccount:{name:"Steve Pole",type:"ACCOUNT",shortString:"Account ending 9876"},targetAccount:{name:"Steve Pole",type:"ACCOUNT",shortString:"Account ending 1234"},status:"CANCELLED",reference:"NewHouse",fee:500,rate:1.1987,created:"2016-06-09T12:34:56Z",updated:"2016-06-10T12:34:56Z"},{id:10,type:"TRANSFER",source:"GBP",target:"GBP",fixed:"SOURCE",sourceAmount:100,targetAmount:100,sourceAccount:{name:"Steve Pole",type:"CARD",shortString:"Debit card ending 4321"},targetAccount:{name:"Steve Pole",type:"WALLET",shortString:"GBP balance"},status:"COMPLETED",reference:"Ref123",fee:0,rate:1,created:"2016-03-30T12:34:56Z",updated:"2016-04-01T12:34:56Z",completed:"2016-04-01T12:34:56Z"},{id:11,type:"TRANSFER",source:"EUR",target:"GBP",fixed:"SOURCE",sourceAmount:100,targetAmount:91.23,sourceAccount:{name:"Steve Pole",type:"WALLET",shortString:"EUR balance"},targetAccount:{name:"Steve Pole",type:"WALLET",shortString:"GBP balance"},status:"COMPLETED",reference:"Ref123",fee:.5,rate:.9123,created:"2016-03-30T12:34:56Z",updated:"2016-04-01T12:34:56Z",completed:"2016-04-01T12:34:56Z"},{id:12,type:"REWARD",source:"GBP",target:"GBP",fixed:"SOURCE",sourceAmount:10,targetAmount:10,sourceAccount:{name:"TransferWise",type:"WALLET",shortString:"Referral program"},targetAccount:{name:"Steve Pole",type:"WALLET",shortString:"GBP balance"},status:"COMPLETED",reference:"Referral Bonus",fee:0,rate:1,created:"2016-03-30T12:34:56Z",updated:"2016-04-01T12:34:56Z",completed:"2016-04-01T12:34:56Z"}]}a.module("tw.layout-components").directive("twExpandableCard",b).directive("twExpandableCards",c).service("TransferService",["$q",d])}(window.angular),function(a){"use strict";function b(){function a(a){if(!a.fields)return[];var b=a.fields.map(function(a){return a.group.map(function(a){return a.key})});return Array.prototype.concat.apply([],b)}function b(a){a.label||(a.label=c(a.type))}function c(a){if(a&&a.length>0){var b=a.toLowerCase().split("_").join(" ");return b.charAt(0).toUpperCase()+b.slice(1)}return""}this.cleanRequirementsModel=function(b,c,d){var e=a(c),f=a(d),g=e.filter(function(a){return f.indexOf(a)<0});g.forEach(function(a){delete b[a]})},this.cleanModel=function(a,b,c,d,e){var f=this.findRequirementByType(c,b),g=this.findRequirementByType(e,d);this.cleanRequirementsModel(a,f,g)},this.findRequirementByType=function(a,b){if(!b)return!1;for(var c=0;c<b.length;c++){var d=b[c];if(d.type===a)return d}return!1},this.prepRequirements=function(a){a.forEach(function(a){b(a)})}}a.module("tw.form-components").service("TwRequirementsService",b)}(window.angular),function(a){"use strict";function b(){var a={BIF:0,BYR:0,CLP:0,DJF:0,GNF:0,JPY:0,KMF:0,KRW:0,MGA:0,PYG:0,RWF:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,HUF:0,BHD:3,JOD:3,KWD:3,OMR:3,TND:3};this.getDecimals=function(b){return b.toUpperCase&&"undefined"!=typeof a[b.toUpperCase()]?a[b.toUpperCase()]:2}}a.module("tw.form-components").service("TwCurrencyData",b)}(window.angular),function(a){"use strict";function b(){function a(a,b,c){var d=a.toLocaleDateString(b,c).replace(/[0-9]|\s/g,"");return d[0].toUpperCase()+d.substring(1)}function b(a){var b=["narrow","short","long"];return!a||b.indexOf(a)<0?"long":a}function c(a){return d(a)?a:"en-GB"}function d(a){try{var b=window.Intl.DateTimeFormat.supportedLocalesOf([a]);return b.length>0}catch(c){return!1}}this.getLocaleDate=function(a){return a||(a=new Date),a.getDate()},this.getLocaleMonth=function(a){return a||(a=new Date),a.getMonth()},this.getLocaleFullYear=function(a){return a||(a=new Date),a.getFullYear()},this.getLocaleToday=function(){var a=new Date;return this.getUTCDateFromParts(this.getLocaleFullYear(a),this.getLocaleMonth(a),this.getLocaleDate(a))},this.getUTCDate=function(a){return a||(a=new Date),a.getUTCDate()},this.getUTCMonth=function(a){return a||(a=new Date),a.getUTCMonth()},this.getUTCFullYear=function(a){return a||(a=new Date),a.getUTCFullYear()},this.getUTCToday=function(){var a=new Date;return this.getUTCDateFromParts(this.getUTCFullYear(a),this.getUTCMonth(a),this.getUTCDate(a))},this.getLastDayOfMonth=function(a,b){var c=this.getUTCDateFromParts(a,b+1,0);return c.getUTCDate()},this.getUTCDateFromParts=function(a,b,c){var d=new Date;return d.setUTCFullYear(a,b,c),d.setUTCHours(0),d.setUTCMinutes(0),d.setUTCSeconds(0),d.setUTCMilliseconds(0),d},this.getDayNamesForLocale=function(d,e){e=b(e),d=c(d);for(var f,g=[],h=1;h<=7;h++)f=this.getUTCDateFromParts(2001,0,h),g.push(a(f,d,{weekday:e}));return g},this.getMonthNamesForLocale=function(d,e){e=b(e),d=c(d);for(var f,g=[],h=0;h<12;h++)f=this.getUTCDateFromParts(2e3,h,15),g.push(a(f,d,{month:e}));return g},this.getWeekday=function(a,b,c){var d=this.getUTCDateFromParts(a,b,c);return d.getUTCDay()},this.isMonthBeforeDay=function(a){return a.indexOf("US",a.length-2)!==-1},this.addYears=function(a,b){return this.addToDate(a,b,0,0)},this.addMonths=function(a,b){return this.addToDate(a,0,b,0)},this.addDays=function(a,b){return this.addToDate(a,0,0,b)},this.addToDate=function(a,b,c,d){return this.getUTCDateFromParts(a.getUTCFullYear()+b,a.getUTCMonth()+c,a.getUTCDate()+d)}}a.module("tw.form-components").service("TwDateService",b)}(window.angular);